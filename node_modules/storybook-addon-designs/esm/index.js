import addons, { makeDecorator } from '@storybook/addons';
import { Events, ParameterName } from './addon';
var wrapper = function (getStory, context, _a) {
    var parameters = _a.parameters;
    var channel = addons.getChannel();
    channel.emit(Events.UpdateConfig, parameters);
    return getStory(context);
};
export var withDesign = makeDecorator({
    name: 'withDesign',
    parameterName: ParameterName,
    skipIfNoParametersOrOptions: true,
    wrapper: wrapper
});
/**
 * Dumb function to ensure typings or enchance IDE auto completion.
 */
export var config = function (c) { return c; };
if (module && module.hot && module.hot.decline) {
    module.hot.decline();
}
/**
 * Useful exports for third party developers
 */
export { ParameterName as PARAM_KEY };
