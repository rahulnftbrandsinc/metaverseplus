!function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);h.length;)h.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={10:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=a[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=a[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(e){return o.p+"assets/js/"+({}[e]||e)+"-"+{18:"deb590a95f32ad55a327",19:"9d314885b4be2546bd4d",20:"51602cb7f065a8c1138b",21:"6a9f00d0a5e7b80146b6",22:"3abf1b2bcf31f38ae0ed",23:"94819a85f75533f6e91c",24:"1aa12389c4edd8cb52ac",25:"6abcf658582e38411709",26:"a0114c7e0a3079e69f56"}[e]+".js"}(e);var c=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(u);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",c.name="ChunkLoadError",c.type=r,c.request=i,n[1](c)}a[e]=void 0}};var u=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="https://assets.metaverseplus2.xyz/hubs/",o.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([1612,0,2,1]),n()}({10:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"e",(function(){return l}));const r=["linear","inverse","exponential"],a=Object.freeze({MEDIA_VIDEO:0,AVATAR_AUDIO_SOURCE:1,SFX:2,AUDIO_TARGET:3,AUDIO_ZONE:4}),i={Stereo:"stereo",PannerNode:"pannernode"},o={Linear:"linear",Inverse:"inverse",Exponential:"exponential"},s=Object.freeze({audioType:i.PannerNode,distanceModel:o.Inverse,rolloffFactor:5,refDistance:5,maxDistance:1e4,coneInnerAngle:180,coneOuterAngle:360,coneOuterGain:.9,gain:1}),c=Object.freeze({audioType:i.PannerNode,distanceModel:o.Inverse,rolloffFactor:5,refDistance:5,maxDistance:1e4,coneInnerAngle:360,coneOuterAngle:0,coneOuterGain:.9,gain:.5}),u=Object.freeze({audioType:i.PannerNode,distanceModel:o.Inverse,rolloffFactor:5,refDistance:8,maxDistance:1e4,coneInnerAngle:170,coneOuterAngle:300,coneOuterGain:.3,gain:1}),l=.2},100:function(e,t,n){(function(e,r){var a;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof r&&r;o.global!==o&&o.window!==o&&o.self;var s,c=2147483647,u=/^xn--/,l=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function b(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))}function x(e){var t,n,r,a,i,o,s,u,l,d,h,p=[],g=e.length,v=0,b=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),p.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<g;){for(i=v,o=1,s=36;a>=g&&m("invalid-input"),((u=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||u>f((c-v)/o))&&m("overflow"),v+=u*o,!(u<(l=s<=w?1:s>=w+26?26:s-w));s+=36)o>f(c/(d=36-l))&&m("overflow"),o*=d;w=E(v-i,t=p.length+1,0==i),f(v/t)>c-b&&m("overflow"),b+=f(v/t),v%=t,p.splice(v++,0,b)}return y(p)}function _(e){var t,n,r,a,i,o,s,u,l,d,h,g,v,y,x,_=[];for(g=(e=b(e)).length,t=128,n=0,i=72,o=0;o<g;++o)(h=e[o])<128&&_.push(p(h));for(r=a=_.length,a&&_.push("-");r<g;){for(s=c,o=0;o<g;++o)(h=e[o])>=t&&h<s&&(s=h);for(s-t>f((c-n)/(v=r+1))&&m("overflow"),n+=(s-t)*v,t=s,o=0;o<g;++o)if((h=e[o])<t&&++n>c&&m("overflow"),h==t){for(u=n,l=36;!(u<(d=l<=i?1:l>=i+26?26:l-i));l+=36)x=u-d,y=36-d,_.push(p(w(d+x%y,0))),u=f(x/y);_.push(p(w(u,0))),i=E(n,v,r==a),n=0,++r}++n,++t}return _.join("")}s={version:"1.4.1",ucs2:{decode:b,encode:y},decode:x,encode:_,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+_(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(a=function(){return s}.call(t,n,t,e))||(e.exports=a)}()}).call(this,n(133)(e),n(32))},103:function(e,t,n){"use strict";function r(e,t){for(;e&&(!e.components||!e.components[t]);)e=e.parentNode;return e}function a(e,t){const n=[];for(;e;){if(e.components)for(const r in e.components)e.components[r].name===t&&n.push(e.components[r]);if(n.length)return n;e=e.parentNode}return n}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}))},11:function(e,t,n){"use strict";n.d(t,"j",(function(){return i})),n.d(t,"k",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"d",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"f",(function(){return x}));var r=n(24);const a=new THREE.Vector3;new THREE.Quaternion;function i(e,t){return e.updateMatrices(),t.setFromMatrixPosition(e.matrixWorld),t}function o(e,t){return e.updateMatrices(),e.matrixWorld.decompose(a,t,a),t}function s(e){e.map&&e.map.dispose(),e.lightMap&&e.lightMap.dispose(),e.bumpMap&&e.bumpMap.dispose(),e.normalMap&&e.normalMap.dispose(),e.specularMap&&e.specularMap.dispose(),e.envMap&&e.envMap.dispose(),e.dispose()}function c(e){if(e instanceof THREE.Mesh&&(e.geometry&&e.geometry.dispose(),e.material)){let t;e.material instanceof THREE.MeshFaceMaterial||e.material instanceof THREE.MultiMaterial?t=e.material.materials:e.material instanceof Array&&(t=e.material),t?t.forEach(s):s(e.material)}}const u=(new THREE.Matrix4).identity(),l=new THREE.Matrix4;function d(e,t){e.matrixIsModified||e.applyMatrix4(u),l.copy(e.matrixWorld),e.matrixWorld.copy(t),e.parent?(e.parent.updateMatrices(),e.matrix=e.matrix.copy(e.parent.matrixWorld).invert().multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale),l.near(e.matrixWorld,1e-11)?e.matrixWorld.copy(l):e.childrenNeedMatrixWorldUpdate=!0}function h(e,t){const n=e.tracks.map(e=>function(e,t){const{nodeName:n,objectName:r,objectIndex:a,propertyName:i,propertyIndex:o}=THREE.PropertyBinding.parseTrackName(e.name);let s="";if(void 0!==n){const e=t.get(n);void 0===e&&console.warn('Could not find KeyframeTrack target with uuid: "'.concat(n,'"')),s+=e}void 0!==r&&(s+="."+r),void 0!==a&&(s+="["+a+"]"),void 0!==i&&(s+="."+i),void 0!==o&&(s+="["+o+"]");const c=e.clone();return c.name=s,c}(e,t));return new THREE.AnimationClip(e.name,e.duration,n)}function f(e,t){const n=new Map,r=new Map,a=e.clone();return function e(t,n,r){r(t,n);for(let a=0;a<t.children.length;a++)e(t.children[a],n.children[a],r)}(e,a,(e,t)=>{n.set(e,t)}),e.traverse(e=>{const a=n.get(e);t&&(a.uuid=e.uuid),r.set(e.uuid,a.uuid)}),e.traverse(e=>{const t=n.get(e);if(!t)return;if(e.animations&&(t.animations=e.animations.map(e=>h(e,r))),e.isMesh&&e.geometry.boundsTree&&(t.geometry.boundsTree=e.geometry.boundsTree),(t.isDirectionalLight||t.isSpotLight)&&e.target&&(t.target=n.get(e.target)),!e.isSkinnedMesh)return;const a=e.skeleton.bones;t.skeleton=e.skeleton.clone(),t.skeleton.bones=a.map(e=>{if(!n.has(e))throw new Error("Required bones are not descendants of the given object.");return n.get(e)}),t.bind(t.skeleton,e.bindMatrix)}),a}function p(e,t){let n=[e];for(;n.length;){const e=n.shift();if(t(e))return e;e.children&&(n=n.concat(e.children))}return null}const m=function(){const e=new THREE.Matrix4,t={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3},n={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3},r={position:new THREE.Vector3,quaternion:new THREE.Quaternion,scale:new THREE.Vector3};return function(a,i,o,s){return n.quaternion.setFromRotationMatrix(e.extractRotation(a)),t.quaternion.setFromRotationMatrix(e.extractRotation(i)),r.quaternion.slerpQuaternions(n.quaternion,t.quaternion,o),r.position.lerpVectors(n.position.setFromMatrixColumn(a,3),t.position.setFromMatrixColumn(i,3),o),r.scale.lerpVectors(n.scale.setFromMatrixScale(a),t.scale.setFromMatrixScale(i),o),s.compose(r.position,r.quaternion,r.scale)}}();!function(){const e=new THREE.Vector3,t=new THREE.Vector3}();const g=function(){const e=new THREE.Matrix4,t=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Vector3,a=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Matrix4;return function(s,c){return e.identity().extractRotation(o.copy(s)),t.setFromMatrixColumn(e,2).multiplyScalar(-1),n.copy(t).sub(i.copy(t).projectOnVector(a.set(0,1,0))).normalize(),r.crossVectors(n,a),c.makeBasis(r,a,n.multiplyScalar(-1)),c.scale(i.setFromMatrixScale(o)),c.setPosition(i.setFromMatrixColumn(o,3)),c}}(),v=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4,n=new THREE.Matrix4;return function(r,a,i){g(r,e),n.copy(e).invert().multiply(r),g(a,t),i.copy(t).multiply(n)}}(),b=function(e,t,n,r,a){const i=Math.max(Math.abs(n.max.y-r.y),Math.abs(r.y-n.min.y)),o=Math.max(Math.abs(n.max.x-r.x),Math.abs(r.x-n.min.x)),s=THREE.Math.degToRad(e/2),c=Math.atan(Math.tan(s)*t)*(a?.5:1),u=Math.abs(1.05*i/Math.tan(s)),l=Math.abs(1.05*o/Math.tan(c)),d=Math.abs(n.max.z-r.z)+Math.max(u,l);return(a?Math.max(.25,d):d)||1.25},y=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4,n=new THREE.Matrix4,r=new THREE.Vector3;return function(a,i,o){return e.copy(a),o.copy(n.makeRotationY(i).multiply(t.extractRotation(e))).scale(r.setFromMatrixScale(e)).setPosition(r.setFromMatrixPosition(e))}}(),w=function(){const e=new THREE.Matrix4,t=new THREE.Matrix4,n=new THREE.Matrix4,r=new THREE.Matrix4;return function(a,i,o){a.updateMatrices(),e.copy(a.matrixWorld).invert(),i.updateMatrices(),t.multiplyMatrices(e,i.matrixWorld),n.copy(t).invert(),r.multiplyMatrices(o,n),d(a,r)}}();function E(e,t,n,r,a=!0){const i=new THREE.PlaneBufferGeometry(e,t,n,r);if(!1===a){const e=i.getAttribute("uv");for(let t=0;t<e.count;t++)e.setY(t,1-e.getY(t))}return i}function x(e){const t=[];return e.skeleton.bones.forEach((e,n)=>{(function e(t){return"Head"===t.name||t.parent&&e(t.parent)})(e)&&t.push(n)}),t.length?(e.layers.set(r.a.CAMERA_LAYER_THIRD_PERSON_ONLY),function(e,t){const n=new THREE.SkinnedMesh(e.geometry.clone(),e.material);n.name="".concat(e.name,"(headless)"),n.frustumCulled=e.frustumCulled,n.layers.set(r.a.CAMERA_LAYER_FIRST_PERSON_ONLY);const a=n.geometry,i=a.getAttribute("skinIndex").array,o=[];for(let e=0;e<i.length;e+=4)o.push([i[e],i[e+1],i[e+2],i[e+3]]);const s=a.getAttribute("skinWeight").array,c=[];for(let e=0;e<s.length;e+=4)c.push([s[e],s[e+1],s[e+2],s[e+3]]);const u=a.getIndex();if(!u)throw new Error("The geometry doesn't have an index buffer");const l=Array.from(u.array),d=function(e,t,n,r){let a=0;if(null!=t&&t.length>0)for(let i=0;i<e.length;i+=3){const o=e[i],s=e[i+1],c=e[i+2],u=t[o],l=n[o];if(u[0]>0&&r.includes(l[0]))continue;if(u[1]>0&&r.includes(l[1]))continue;if(u[2]>0&&r.includes(l[2]))continue;if(u[3]>0&&r.includes(l[3]))continue;const d=t[s],h=n[s];if(d[0]>0&&r.includes(h[0]))continue;if(d[1]>0&&r.includes(h[1]))continue;if(d[2]>0&&r.includes(h[2]))continue;if(d[3]>0&&r.includes(h[3]))continue;const f=t[c],p=n[c];f[0]>0&&r.includes(p[0])||(f[1]>0&&r.includes(p[1])||f[2]>0&&r.includes(p[2])||f[3]>0&&r.includes(p[3])||(e[a++]=o,e[a++]=s,e[a++]=c))}return a}(l,c,o,t),h=[];for(let e=0;e<d;e++)h[e]=l[e];return a.setIndex(h),e.onBeforeRender&&(n.onBeforeRender=e.onBeforeRender),n.bind(new THREE.Skeleton(e.skeleton.bones,e.skeleton.boneInverses),new THREE.Matrix4),n}(e,t)):(e.layers.enable(r.a.CAMERA_LAYER_THIRD_PERSON_ONLY),void e.layers.enable(r.a.CAMERA_LAYER_FIRST_PERSON_ONLY))}},110:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let r=null;function a(){return null===r&&(r=/\b(Macintosh|iPad|iPhone)\b/i.test(navigator.userAgent)&&function(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{const t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{const t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return e}()),r}},113:function(e,t,n){"use strict";function r(e){const t=e.sceneEl.is("frozen"),n=e.components.pinnable&&e.components.pinnable.data.pinned,r=!!e.components["super-spawner"],a=r&&"#interactable-emoji"===e.components["super-spawner"].data.template,i=(!!e.components.emoji||a?window.APP.hubChannel.can("spawn_emoji"):window.APP.hubChannel.can("spawn_and_move_media"))&&(!n||window.APP.hubChannel.can("pin_objects"));return(r||!n||t)&&i}function a(e){const t=e.components.pinnable&&e.components.pinnable.data.pinned,n=e&&e.components.networked&&e.components.networked.data.template,r="#interactable-camera"===n,a="#interactable-pen"===n,i="#interactable-emoji"===(e&&e.components["super-spawner"]&&e.components["super-spawner"].data.template),o=!!e.components.emoji;return e.components.tags&&e.components.tags.data.holdableButton||(o||i?window.APP.hubChannel.can("spawn_emoji"):window.APP.hubChannel.can("spawn_and_move_media"))&&(!t||window.APP.hubChannel.can("pin_objects"))&&(!r||window.APP.hubChannel.can("spawn_camera"))&&(!a||window.APP.hubChannel.can("spawn_drawing"))}function i(e,t){const n="string"==typeof e,r=n?e:e.component;return n?t.components.findIndex(e=>e===r):t.components.findIndex(t=>t.component===r&&t.property===e.property)}n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));let o=null;function s(e,t){null===o&&function(){o={};const{schemaDict:e}=NAF.schemas;for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t];o[t]=(n.nonAuthorizedComponents||[]).map(e=>i(e,n)).map(e=>e.toString())}}();const n=o[e];for(const e in t.components)t.components.hasOwnProperty(e)&&(n.includes(e)||(t.components[e]=null));return t}function c(e,t,n){const{template:r,creator:a,isPinned:i}=e,o=t===a;return!(!r.endsWith("-waypoint-avatar")&&!r.endsWith("-media-frame"))||(r.endsWith("-avatar")?o:r.endsWith("-media")?(!i||n.pin_objects)&&(o||n.spawn_and_move_media):r.endsWith("-camera")?o||n.spawn_camera:r.endsWith("-pen")||r.endsWith("-drawing")?o||n.spawn_drawing:!!r.endsWith("-emoji")&&(o||n.spawn_emoji))}function u(e){const t=NAF.connection.adapter.getPendingDataForNetworkId(e);if(t){if(t.owner){if(!window.APP.hubChannel.presence.state[t.owner])return}const{template:e,creator:n}=t,r=NAF.schemas.schemaDict[e],a=t.components[i("pinnable",r)];return{template:e,creator:n,isPinned:a&&a.pinned}}const n=NAF.entities.getEntity(e);if(!n)return null;const{template:r,creator:a}=n.components.networked.data;return{template:r,creator:a,isPinned:n.components.pinnable&&n.components.pinnable.data.pinned}}function l(e,t,n){const r=u(e.networkId);if(!r)return!1;if(c(r,t,n))return!0;{const{template:t}=r;return s(t,e),!0}}const d={};function h(e,t){if(d[t.networkId]){const e=d[t.networkId].data,n=e.components;Object.assign(e,t),e.components=Object.assign(n,t.components)}else d[t.networkId]={dataType:"u",data:t,clientId:e.clientId,from_session_id:e.from_session_id}}const f={};function p(e){const{dataType:t,from_session_id:n}=e;if("u"===t&&e.data.isFirstSync&&!e.data.persistent)return e;const r=window.APP.hubChannel.presence.state[n];if(!r)return f;const a=r.metas[0].permissions;if("um"===t){let t=!1,r=!1;for(const i in e.data.d){if(!e.data.d.hasOwnProperty(i))continue;const o=e.data.d[i];if(o.persistent&&!NAF.entities.getEntity(o.networkId))h(e,o),e.data.d[i]=null,r=!0;else{l(o,n,a)||(e.data.d[i]=null,t=!0)}}return(t||r)&&(e.data.d=e.data.d.filter(e=>null!=e)),e}if("u"===t){if(e.data.persistent&&!NAF.entities.getEntity(e.data.networkId))return d[e.data.networkId]=e,f;return l(e.data,n,a)?e:f}if("r"===t){const t=u(e.data.networkId);return t&&c(t,n,a)?e:f}return e}function m(e){d[e]&&(NAF.connection.adapter.handleIncomingNAF(d[e]),delete d[e])}},116:function(e,t,n){"use strict";function r(e,t){let n=e;for(;n;){if(n===t)return!0;if(!n.visible)return!1;n=n.parent}return console.error("Root ".concat(t," is not an ancestor of node ").concat(e)),!1}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u}));const a=new THREE.Box3(new THREE.Vector3(-.001,-.001,-.001),new THREE.Vector3(.001,.001,.001)),i=function(){const e=new THREE.Vector3,t=new THREE.Matrix4,n=new THREE.Matrix4;return function(i,o,s){o.makeEmpty(),i.updateMatrices(),t.copy(i.matrixWorld).invert(),i.traverse(c=>{if((!s||r(c,i))&&(c.updateMatrices(),n.multiplyMatrices(t,c.matrixWorld),c.geometry))if(c.isTroikaText)o.union(a);else if(c.geometry.isGeometry)for(let t=0;t<c.geometry.vertices;t++)e.copy(c.geometry.vertices[t]).applyMatrix4(n),isNaN(e.x)||o.expandByPoint(e);else if(c.geometry.isBufferGeometry&&c.geometry.attributes.position){const t=c.geometry.attributes.position.array,r=c.geometry.attributes.position.itemSize;for(let a=0;a<c.geometry.attributes.position.count;a++){if(2===r)e.set(t[2*a],t[2*a+1],0);else{if(3!==r)return;e.fromBufferAttribute(c.geometry.attributes.position,a)}e.applyMatrix4(n),isNaN(e.x)||o.expandByPoint(e)}}})}}(),o=function(){const e=new THREE.Box3;return function(t,n,a){return n.makeEmpty(),t.updateMatrices(),t.traverse(i=>{if(a&&!r(i,t))return;i.updateMatrices();const o=i.geometry;null!=o&&(null==o.boundingBox&&o.computeBoundingBox(),n.union(e.copy(o.boundingBox).applyMatrix4(i.matrixWorld)))}),n}}(),s=new THREE.Euler;function c(e,t,n){const r=new THREE.Box3;return s.copy(e.object3D.rotation),e.object3D.rotation.set(0,0,0),e.object3D.updateMatrices(!0,!0),t.updateMatrices(!0,!0),t.updateMatrixWorld(!0),o(t,r,!1),r.isEmpty()||(n||(e.object3D.worldToLocal(r.min),e.object3D.worldToLocal(r.max)),e.object3D.rotation.copy(s),e.object3D.matrixNeedsUpdate=!0),t.matrixWorldNeedsUpdate=!0,t.updateMatrices(),r}function u(e,t){if(t.isEmpty())return 1;const{max:n,min:r}=t,a=Math.abs(n.x-r.x),i=Math.abs(n.y-r.y),o=Math.abs(n.z-r.z);return e/Math.max(a,i,o)}},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(118);n(125).shouldPolyfill()&&Object.defineProperty(Intl,"Locale",{value:r.Locale,writable:!0,enumerable:!1,configurable:!0})},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locale=void 0;var r=n(119),a=n(89),i=n(120),o=r.__importStar(n(62)),s=r.__importDefault(n(124)),c=o.supplemental.likelySubtags,u=["ca","co","hc","kf","kn","nu"],l=/^[a-z0-9]{3,8}(-[a-z0-9]{3,8})*$/i;function d(e,t,n,a,i){return void 0===a&&(a=[]),i?{lang:e&&"und"!==e?e:i.lang,script:t||i.script,region:n||i.region,variants:r.__spreadArrays(a,i.variants)}:{lang:e||"und",script:t,region:n,variants:a}}function h(e){var t=i.parseUnicodeLocaleId(e),n=t.lang,r=n.lang,a=n.script,o=n.region,s=n.variants;if(a&&o){var u=c[i.emitUnicodeLanguageId({lang:r,script:a,region:o,variants:[]})];if(u){var l=i.parseUnicodeLanguageId(u);return t.lang=d(void 0,void 0,void 0,s,l),i.emitUnicodeLocaleId(t)}}if(a){var h=c[i.emitUnicodeLanguageId({lang:r,script:a,variants:[]})];if(h){var f=i.parseUnicodeLanguageId(h);return t.lang=d(void 0,void 0,o,s,f),i.emitUnicodeLocaleId(t)}}if(o){var p=c[i.emitUnicodeLanguageId({lang:r,region:o,variants:[]})];if(p){var m=i.parseUnicodeLanguageId(p);return t.lang=d(void 0,a,void 0,s,m),i.emitUnicodeLocaleId(t)}}var g=c[r]||c[i.emitUnicodeLanguageId({lang:"und",script:a,variants:[]})];if(!g)throw new Error("No match for addLikelySubtags");var v=i.parseUnicodeLanguageId(g);return t.lang=d(void 0,a,o,s,v),i.emitUnicodeLocaleId(t)}var f=function(){function e(t,n){if(!(this&&this instanceof e?this.constructor:void 0))throw new TypeError("Intl.Locale must be called with 'new'");var o,c,u=e.relevantExtensionKeys,d=["initializedLocale","locale","calendar","collation","hourCycle","numberingSystem"];if(u.indexOf("kf")>-1&&d.push("caseFirst"),u.indexOf("kn")>-1&&d.push("numeric"),void 0===t)throw new TypeError("First argument to Intl.Locale constructor can't be empty or missing");if("string"!=typeof t&&"object"!=typeof t)throw new TypeError("tag must be a string or object");t="object"==typeof t&&(o=s.default(t))&&o.initializedLocale?o.locale:t.toString(),o=s.default(this),t=function(e,t){a.invariant("string"==typeof e,"language tag must be a string"),a.invariant(i.isStructurallyValidLanguageTag(e),"malformed language tag",RangeError);var n=a.GetOption(t,"language","string",void 0,void 0);void 0!==n&&a.invariant(i.isUnicodeLanguageSubtag(n),"Malformed unicode_language_subtag",RangeError);var o=a.GetOption(t,"script","string",void 0,void 0);void 0!==o&&a.invariant(i.isUnicodeScriptSubtag(o),"Malformed unicode_script_subtag",RangeError);var s=a.GetOption(t,"region","string",void 0,void 0);void 0!==s&&a.invariant(i.isUnicodeRegionSubtag(s),"Malformed unicode_region_subtag",RangeError);var c=i.parseUnicodeLanguageId(e);return void 0!==n&&(c.lang=n),void 0!==o&&(c.script=o),void 0!==s&&(c.region=s),Intl.getCanonicalLocales(i.emitUnicodeLocaleId(r.__assign(r.__assign({},i.parseUnicodeLocaleId(e)),{lang:c})))[0]}(t,c=void 0===n?Object.create(null):a.ToObject(n));var h=Object.create(null),f=a.GetOption(c,"calendar","string",void 0,void 0);if(void 0!==f&&!l.test(f))throw new RangeError("invalid calendar");h.ca=f;var p=a.GetOption(c,"collation","string",void 0,void 0);if(void 0!==p&&!l.test(p))throw new RangeError("invalid collation");h.co=p;var m=a.GetOption(c,"hourCycle","string",["h11","h12","h23","h24"],void 0);h.hc=m;var g=a.GetOption(c,"caseFirst","string",["upper","lower","false"],void 0);h.kf=g;var v,b=a.GetOption(c,"numeric","boolean",void 0,void 0);void 0!==b&&(v=String(b)),h.kn=v;var y=a.GetOption(c,"numberingSystem","string",void 0,void 0);if(void 0!==y&&!l.test(y))throw new RangeError("Invalid numberingSystem");h.nu=y;var w=function(e,t,n){for(var r,o=[],s=i.parseUnicodeLocaleId(e),c=0,u=s.extensions;c<u.length;c++){var l=u[c];"u"===l.type&&(r=l,Array.isArray(l.keywords)&&(o=l.keywords))}for(var d=Object.create(null),h=0,f=n;h<f.length;h++){for(var p=f[h],m=void 0,g=void 0,v=0,b=o;v<b.length;v++){var y=b[v];y[0]===p&&(m=(g=y)[1])}a.invariant(p in t,p+" must be in options");var w=t[p];void 0!==w&&(a.invariant("string"==typeof w,"Value for "+p+" must be a string"),m=w,g?g[1]=m:o.push([p,m])),d[p]=m}return r?r.keywords=o:o.length&&s.extensions.push({type:"u",keywords:o,attributes:[]}),d.locale=Intl.getCanonicalLocales(i.emitUnicodeLocaleId(s))[0],d}(t,h,u);o.locale=w.locale,o.calendar=w.ca,o.collation=w.co,o.hourCycle=w.hc,u.indexOf("kf")>-1&&(o.caseFirst=w.kf),u.indexOf("kn")>-1&&(o.numeric=a.SameValue(w.kn,"true")),o.numberingSystem=w.nu}return e.prototype.maximize=function(){var t=s.default(this).locale;try{return new e(h(t))}catch(n){return new e(t)}},e.prototype.minimize=function(){var t=s.default(this).locale;try{return new e(function(e){var t=h(e);if(!t)return e;t=i.emitUnicodeLanguageId(r.__assign(r.__assign({},i.parseUnicodeLanguageId(t)),{variants:[]}));var n=i.parseUnicodeLocaleId(e),a=n.lang,o=a.lang,s=a.script,c=a.region,u=a.variants;return h(i.emitUnicodeLanguageId({lang:o,variants:[]}))===t?i.emitUnicodeLocaleId(r.__assign(r.__assign({},n),{lang:d(o,void 0,void 0,u)})):c&&h(i.emitUnicodeLanguageId({lang:o,region:c,variants:[]}))===t?i.emitUnicodeLocaleId(r.__assign(r.__assign({},n),{lang:d(o,void 0,c,u)})):s&&h(i.emitUnicodeLanguageId({lang:o,script:s,variants:[]}))===t?i.emitUnicodeLocaleId(r.__assign(r.__assign({},n),{lang:d(o,s,void 0,u)})):e}(t))}catch(n){return new e(t)}},e.prototype.toString=function(){return s.default(this).locale},Object.defineProperty(e.prototype,"baseName",{get:function(){var e=s.default(this).locale;return i.emitUnicodeLanguageId(i.parseUnicodeLanguageId(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"calendar",{get:function(){return s.default(this).calendar},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collation",{get:function(){return s.default(this).collation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hourCycle",{get:function(){return s.default(this).hourCycle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"caseFirst",{get:function(){return s.default(this).caseFirst},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numeric",{get:function(){return s.default(this).numeric},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numberingSystem",{get:function(){return s.default(this).numberingSystem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"language",{get:function(){var e=s.default(this).locale;return i.parseUnicodeLanguageId(e).lang},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"script",{get:function(){var e=s.default(this).locale;return i.parseUnicodeLanguageId(e).script},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"region",{get:function(){var e=s.default(this).locale;return i.parseUnicodeLanguageId(e).region},enumerable:!1,configurable:!0}),e.relevantExtensionKeys=u,e}();t.Locale=f;try{"undefined"!=typeof Symbol&&Object.defineProperty(f.prototype,Symbol.toStringTag,{value:"Intl.Locale",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype.constructor,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}t.default=f},119:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return a})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__spreadArray",(function(){return b})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return w})),n.d(t,"__asyncDelegator",(function(){return E})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return L})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return M}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function b(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return A(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const r=new URLSearchParams(location.search);function a(e){const t=r.get(e);return""===t||/1|on|true|yes/i.test(t)}function i(e){return r.get(e)}},120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUnicodeLanguageSubtag=t.isUnicodeScriptSubtag=t.isUnicodeRegionSubtag=t.isStructurallyValidLanguageTag=t.parseUnicodeLanguageId=t.parseUnicodeLocaleId=t.getCanonicalLocales=void 0;var r=n(29),a=n(41),i=n(42),o=n(121);t.getCanonicalLocales=function(e){return function(e){if(void 0===e)return[];var t=[];"string"==typeof e&&(e=[e]);for(var n=0,r=e;n<r.length;n++){var s=r[n],c=i.emitUnicodeLocaleId(o.canonicalizeUnicodeLocaleId(a.parseUnicodeLocaleId(s)));t.indexOf(c)<0&&t.push(c)}return t}(e)};var s=n(41);Object.defineProperty(t,"parseUnicodeLocaleId",{enumerable:!0,get:function(){return s.parseUnicodeLocaleId}}),Object.defineProperty(t,"parseUnicodeLanguageId",{enumerable:!0,get:function(){return s.parseUnicodeLanguageId}}),Object.defineProperty(t,"isStructurallyValidLanguageTag",{enumerable:!0,get:function(){return s.isStructurallyValidLanguageTag}}),Object.defineProperty(t,"isUnicodeRegionSubtag",{enumerable:!0,get:function(){return s.isUnicodeRegionSubtag}}),Object.defineProperty(t,"isUnicodeScriptSubtag",{enumerable:!0,get:function(){return s.isUnicodeScriptSubtag}}),Object.defineProperty(t,"isUnicodeLanguageSubtag",{enumerable:!0,get:function(){return s.isUnicodeLanguageSubtag}}),r.__exportStar(n(123),t),r.__exportStar(n(42),t)},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canonicalizeUnicodeLocaleId=t.canonicalizeUnicodeLanguageId=void 0;var r=n(29),a=n(122),i=n(41),o=r.__importStar(n(62)),s=n(42);function c(e){for(var t={},n=[],r=0,a=e;r<a.length;r++){var i=a[r];i[0]in t||(t[i[0]]=1,i[1]&&"true"!==i[1]?n.push([i[0].toLowerCase(),i[1].toLowerCase()]):n.push([i[0].toLowerCase()]))}return n.sort(u)}function u(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}function l(e,t){return e.type<t.type?-1:e.type>t.type?1:0}function d(e,t){for(var n=r.__spreadArrays(e),a=0,i=t;a<i.length;a++){var o=i[a];e.indexOf(o)<0&&n.push(o)}return n}function h(e){var t=e;if(e.variants.length)for(var n="",r=0,c=e.variants;r<c.length;r++){var u=c[r];if(n=a.languageAlias[s.emitUnicodeLanguageId({lang:e.lang,variants:[u]})]){t={lang:(f=i.parseUnicodeLanguageId(n.split(i.SEPARATOR))).lang,script:t.script||f.script,region:t.region||f.region,variants:d(t.variants,f.variants)};break}}if(t.script&&t.region){var l=a.languageAlias[s.emitUnicodeLanguageId({lang:t.lang,script:t.script,region:t.region,variants:[]})];if(l)t={lang:(f=i.parseUnicodeLanguageId(l.split(i.SEPARATOR))).lang,script:f.script,region:f.region,variants:t.variants}}if(t.region){var h=a.languageAlias[s.emitUnicodeLanguageId({lang:t.lang,region:t.region,variants:[]})];if(h)t={lang:(f=i.parseUnicodeLanguageId(h.split(i.SEPARATOR))).lang,script:t.script||f.script,region:f.region,variants:t.variants}}var f,p=a.languageAlias[s.emitUnicodeLanguageId({lang:t.lang,variants:[]})];p&&(t={lang:(f=i.parseUnicodeLanguageId(p.split(i.SEPARATOR))).lang,script:t.script||f.script,region:t.region||f.region,variants:t.variants});if(t.region){var m=t.region.toUpperCase(),g=a.territoryAlias[m],v=void 0;if(g){var b=g.split(" ");v=b[0];var y=o.supplemental.likelySubtags[s.emitUnicodeLanguageId({lang:t.lang,script:t.script,variants:[]})];if(y){var w=i.parseUnicodeLanguageId(y.split(i.SEPARATOR)).region;w&&b.indexOf(w)>-1&&(v=w)}}v&&(t.region=v),t.region=t.region.toUpperCase()}if(t.script&&(t.script=t.script[0].toUpperCase()+t.script.slice(1).toLowerCase(),a.scriptAlias[t.script]&&(t.script=a.scriptAlias[t.script])),t.variants.length){for(var E=0;E<t.variants.length;E++){u=t.variants[E].toLowerCase();if(a.variantAlias[u]){var x=a.variantAlias[u];i.isUnicodeVariantSubtag(x)?t.variants[E]=x:i.isUnicodeLanguageSubtag(x)&&(t.lang=x)}}t.variants.sort()}return t}t.canonicalizeUnicodeLanguageId=h,t.canonicalizeUnicodeLocaleId=function(e){if(e.lang=h(e.lang),e.extensions){for(var t=0,n=e.extensions;t<n.length;t++){var r=n[t];switch(r.type){case"u":r.keywords=c(r.keywords),r.attributes&&(r.attributes=(a=r.attributes,Object.keys(a.reduce((function(e,t){return e[t.toLowerCase()]=1,e}),{})).sort()));break;case"t":r.lang&&(r.lang=h(r.lang)),r.fields=c(r.fields);break;default:r.value=r.value.toLowerCase()}}e.extensions.sort(l)}var a;return e}},122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.variantAlias=t.scriptAlias=t.territoryAlias=t.languageAlias=void 0,t.languageAlias={"aa-saaho":"ssy",aam:"aas",aar:"aa",abk:"ab",adp:"dz",afr:"af",agp:"apf",ais:"ami",aju:"jrb",aka:"ak",alb:"sq",als:"sq",amh:"am",ara:"ar",arb:"ar",arg:"an",arm:"hy","art-lojban":"jbo",asd:"snz",asm:"as",aue:"ktz",ava:"av",ave:"ae",aym:"ay",ayr:"ay",ayx:"nun",aze:"az",azj:"az",bak:"ba",bam:"bm",baq:"eu",baz:"nvo",bcc:"bal",bcl:"bik",bel:"be",ben:"bn",bgm:"bcg",bh:"bho",bhk:"fbl",bih:"bho",bis:"bi",bjd:"drl",bjq:"bzc",bkb:"ebk",bod:"bo",bos:"bs",bre:"br",btb:"beb",bul:"bg",bur:"my",bxk:"luy",bxr:"bua",cat:"ca",ccq:"rki","cel-gaulish":"xtg",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cjr:"mom",cka:"cmr",cld:"syr",cmk:"xch",cmn:"zh",cnr:"sr-ME",cor:"kw",cos:"co",coy:"pij",cqu:"quh",cre:"cr",cwd:"cr",cym:"cy",cze:"cs",daf:"dnj",dan:"da",dap:"njz",deu:"de",dgo:"doi",dhd:"mwr",dik:"din",diq:"zza",dit:"dif",div:"dv",djl:"dze",dkl:"aqd",drh:"mn",drr:"kzk",drw:"fa-AF",dud:"uth",duj:"dwu",dut:"nl",dwl:"dbt",dzo:"dz",ekk:"et",ell:"el",elp:"amq",emk:"man","en-GB-oed":"en-GB-oxendict",eng:"en",epo:"eo",esk:"ik",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fat:"ak",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",fuc:"ff",ful:"ff",gav:"dev",gaz:"om",gbc:"wny",gbo:"grb",geo:"ka",ger:"de",gfx:"vaj",ggn:"gvr",ggo:"esg",ggr:"gtu",gio:"aou",gla:"gd",gle:"ga",glg:"gl",gli:"kzk",glv:"gv",gno:"gon",gre:"el",grn:"gn",gti:"nyc",gug:"gn",guj:"gu",guv:"duz",gya:"gba",hat:"ht",hau:"ha",hbs:"sr-Latn",hdn:"hai",hea:"hmn",heb:"he",her:"hz",him:"srx",hin:"hi",hmo:"ho",hrr:"jal",hrv:"hr",hun:"hu","hy-arevmda":"hyw",hye:"hy","i-ami":"ami","i-bnn":"bnn","i-default":"en-x-i-default","i-enochian":"und-x-i-enochian","i-hak":"hak","i-klingon":"tlh","i-lux":"lb","i-mingo":"see-x-i-mingo","i-navajo":"nv","i-pwn":"pwn","i-tao":"tao","i-tay":"tay","i-tsu":"tsu",ibi:"opa",ibo:"ig",ice:"is",ido:"io",iii:"ii",ike:"iu",iku:"iu",ile:"ie",ill:"ilm",ilw:"gal",in:"id",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",iw:"he",izi:"eza",jar:"jgk",jav:"jv",jeg:"oyb",ji:"yi",jpn:"ja",jw:"jv",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",kdv:"zkd",kgc:"tdf",kgd:"ncq",kgh:"kml",khk:"mn",khm:"km",kik:"ki",kin:"rw",kir:"ky",kmr:"ku",knc:"kr",kng:"kg",knn:"kok",koj:"kwv",kom:"kv",kon:"kg",kor:"ko",kpp:"jkm",kpv:"kv",krm:"bmf",ktr:"dtp",kua:"kj",kur:"ku",kvs:"gdj",kwq:"yam",kxe:"tvd",kxl:"kru",kzh:"dgl",kzj:"dtp",kzt:"dtp",lao:"lo",lat:"la",lav:"lv",lbk:"bnc",leg:"enl",lii:"raq",lim:"li",lin:"ln",lit:"lt",llo:"ngt",lmm:"rmx",ltz:"lb",lub:"lu",lug:"lg",lvs:"lv",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",meg:"cir",mgx:"jbk",mhr:"chm",mkd:"mk",mlg:"mg",mlt:"mt",mnk:"man",mnt:"wnn",mo:"ro",mof:"xnt",mol:"ro",mon:"mn",mri:"mi",msa:"ms",mst:"mry",mup:"raj",mwd:"dmw",mwj:"vaj",mya:"my",myd:"aog",myt:"mry",nad:"xny",nau:"na",nav:"nv",nbf:"nru",nbl:"nr",nbx:"ekc",ncp:"kdz",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nln:"azd",nlr:"nrk",nno:"nn",nns:"nbr",nnx:"ngv",no:"nb","no-bok":"nb","no-bokmal":"nb","no-nyn":"nn","no-nynorsk":"nn",nob:"nb",noo:"dtd",nor:"nb",npi:"ne",nts:"pij",nxu:"bpp",nya:"ny",oci:"oc",ojg:"oj",oji:"oj",ori:"or",orm:"om",ory:"or",oss:"os",oun:"vaj",pan:"pa",pbu:"ps",pcr:"adx",per:"fa",pes:"fa",pli:"pi",plt:"mg",pmc:"huw",pmu:"phr",pnb:"lah",pol:"pl",por:"pt",ppa:"bfy",ppr:"lcq",prs:"fa-AF",pry:"prt",pus:"ps",puz:"pub",que:"qu",quz:"qu",rmr:"emx",rmy:"rom",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sap:"aqt",sca:"hle",scc:"sr",scr:"hr",sgl:"isk","sgn-BE-FR":"sfb","sgn-BE-NL":"vgt","sgn-BR":"bzs","sgn-CH-DE":"sgg","sgn-CO":"csn","sgn-DE":"gsg","sgn-DK":"dsl","sgn-ES":"ssp","sgn-FR":"fsl","sgn-GB":"bfi","sgn-GR":"gss","sgn-IE":"isg","sgn-IT":"ise","sgn-JP":"jsl","sgn-MX":"mfs","sgn-NI":"ncs","sgn-NL":"dse","sgn-NO":"nsi","sgn-PT":"psr","sgn-SE":"swl","sgn-US":"ase","sgn-ZA":"sfs",sh:"sr-Latn",sin:"si",skk:"oyb",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",spy:"kln",sqi:"sq",src:"sc",srd:"sc",srp:"sr",ssw:"ss",sul:"sgd",sum:"ulw",sun:"su",swa:"sw",swc:"sw-CD",swe:"sv",swh:"sw",tah:"ty",tam:"ta",tat:"tt",tdu:"dtp",tel:"te",tgg:"bjp",tgk:"tg",tgl:"fil",tha:"th",thc:"tpo",thw:"ola",thx:"oyb",tib:"bo",tid:"itd",tie:"ras",tir:"ti",tkk:"twm",tl:"fil",tlw:"weo",tmp:"tyj",tne:"kak",tnf:"fa-AF",ton:"to",tsf:"taj",tsn:"tn",tso:"ts",ttq:"tmh",tuk:"tk",tur:"tr",tw:"ak",twi:"ak",uig:"ug",ukr:"uk",umu:"del","und-aaland":"und-AX","und-arevela":"und","und-arevmda":"und","und-bokmal":"und","und-hakka":"und","und-hepburn-heploc":"und-alalc97","und-lojban":"und","und-nynorsk":"und","und-saaho":"und","und-xiang":"und",unp:"wro",uok:"ema",urd:"ur",uzb:"uz",uzn:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wgw:"wgb",wit:"nol",wiw:"nwo",wln:"wa",wol:"wo",xba:"cax",xho:"xh",xia:"acn",xkh:"waw",xpe:"kpe",xrq:"dmw",xsj:"suj",xsl:"den",ybd:"rki",ydd:"yi",yen:"ynq",yid:"yi",yiy:"yrm",yma:"lrr",ymt:"mtm",yor:"yo",yos:"zom",yuu:"yug",zai:"zap","zh-cmn":"zh","zh-cmn-Hans":"zh-Hans","zh-cmn-Hant":"zh-Hant","zh-gan":"gan","zh-guoyu":"zh","zh-hakka":"hak","zh-min":"nan-x-zh-min","zh-min-nan":"nan","zh-wuu":"wuu","zh-xiang":"hsn","zh-yue":"yue",zha:"za",zho:"zh",zir:"scv",zsm:"ms",zul:"zu",zyb:"za"},t.territoryAlias={100:"BG",104:"MM",108:"BI",112:"BY",116:"KH",120:"CM",124:"CA",132:"CV",136:"KY",140:"CF",144:"LK",148:"TD",152:"CL",156:"CN",158:"TW",162:"CX",166:"CC",170:"CO",172:"RU AM AZ BY GE KG KZ MD TJ TM UA UZ",174:"KM",175:"YT",178:"CG",180:"CD",184:"CK",188:"CR",191:"HR",192:"CU",196:"CY",200:"CZ SK",203:"CZ",204:"BJ",208:"DK",212:"DM",214:"DO",218:"EC",222:"SV",226:"GQ",230:"ET",231:"ET",232:"ER",233:"EE",234:"FO",238:"FK",239:"GS",242:"FJ",246:"FI",248:"AX",249:"FR",250:"FR",254:"GF",258:"PF",260:"TF",262:"DJ",266:"GA",268:"GE",270:"GM",275:"PS",276:"DE",278:"DE",280:"DE",288:"GH",292:"GI",296:"KI",300:"GR",304:"GL",308:"GD",312:"GP",316:"GU",320:"GT",324:"GN",328:"GY",332:"HT",334:"HM",336:"VA",340:"HN",344:"HK",348:"HU",352:"IS",356:"IN",360:"ID",364:"IR",368:"IQ",372:"IE",376:"IL",380:"IT",384:"CI",388:"JM",392:"JP",398:"KZ",400:"JO",404:"KE",408:"KP",410:"KR",414:"KW",417:"KG",418:"LA",422:"LB",426:"LS",428:"LV",430:"LR",434:"LY",438:"LI",440:"LT",442:"LU",446:"MO",450:"MG",454:"MW",458:"MY",462:"MV",466:"ML",470:"MT",474:"MQ",478:"MR",480:"MU",484:"MX",492:"MC",496:"MN",498:"MD",499:"ME",500:"MS",504:"MA",508:"MZ",512:"OM",516:"NA",520:"NR",524:"NP",528:"NL",530:"CW SX BQ",531:"CW",532:"CW SX BQ",533:"AW",534:"SX",535:"BQ",536:"SA IQ",540:"NC",548:"VU",554:"NZ",558:"NI",562:"NE",566:"NG",570:"NU",574:"NF",578:"NO",580:"MP",581:"UM",582:"FM MH MP PW",583:"FM",584:"MH",585:"PW",586:"PK",591:"PA",598:"PG",600:"PY",604:"PE",608:"PH",612:"PN",616:"PL",620:"PT",624:"GW",626:"TL",630:"PR",634:"QA",638:"RE",642:"RO",643:"RU",646:"RW",652:"BL",654:"SH",659:"KN",660:"AI",662:"LC",663:"MF",666:"PM",670:"VC",674:"SM",678:"ST",682:"SA",686:"SN",688:"RS",690:"SC",694:"SL",702:"SG",703:"SK",704:"VN",705:"SI",706:"SO",710:"ZA",716:"ZW",720:"YE",724:"ES",728:"SS",729:"SD",732:"EH",736:"SD",740:"SR",744:"SJ",748:"SZ",752:"SE",756:"CH",760:"SY",762:"TJ",764:"TH",768:"TG",772:"TK",776:"TO",780:"TT",784:"AE",788:"TN",792:"TR",795:"TM",796:"TC",798:"TV",800:"UG",804:"UA",807:"MK",810:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",818:"EG",826:"GB",830:"JE GG",831:"GG",832:"JE",833:"IM",834:"TZ",840:"US",850:"VI",854:"BF",858:"UY",860:"UZ",862:"VE",876:"WF",882:"WS",886:"YE",887:"YE",890:"RS ME SI HR MK BA",891:"RS ME",894:"ZM",958:"AA",959:"QM",960:"QN",962:"QP",963:"QQ",964:"QR",965:"QS",966:"QT",967:"EU",968:"QV",969:"QW",970:"QX",971:"QY",972:"QZ",973:"XA",974:"XB",975:"XC",976:"XD",977:"XE",978:"XF",979:"XG",980:"XH",981:"XI",982:"XJ",983:"XK",984:"XL",985:"XM",986:"XN",987:"XO",988:"XP",989:"XQ",990:"XR",991:"XS",992:"XT",993:"XU",994:"XV",995:"XW",996:"XX",997:"XY",998:"XZ",999:"ZZ","004":"AF","008":"AL","010":"AQ","012":"DZ","016":"AS","020":"AD","024":"AO","028":"AG","031":"AZ","032":"AR","036":"AU","040":"AT","044":"BS","048":"BH","050":"BD","051":"AM","052":"BB","056":"BE","060":"BM","062":"034 143","064":"BT","068":"BO","070":"BA","072":"BW","074":"BV","076":"BR","084":"BZ","086":"IO","090":"SB","092":"VG","096":"BN",AAA:"AA",ABW:"AW",AFG:"AF",AGO:"AO",AIA:"AI",ALA:"AX",ALB:"AL",AN:"CW SX BQ",AND:"AD",ANT:"CW SX BQ",ARE:"AE",ARG:"AR",ARM:"AM",ASC:"AC",ASM:"AS",ATA:"AQ",ATF:"TF",ATG:"AG",AUS:"AU",AUT:"AT",AZE:"AZ",BDI:"BI",BEL:"BE",BEN:"BJ",BES:"BQ",BFA:"BF",BGD:"BD",BGR:"BG",BHR:"BH",BHS:"BS",BIH:"BA",BLM:"BL",BLR:"BY",BLZ:"BZ",BMU:"BM",BOL:"BO",BRA:"BR",BRB:"BB",BRN:"BN",BTN:"BT",BU:"MM",BUR:"MM",BVT:"BV",BWA:"BW",CAF:"CF",CAN:"CA",CCK:"CC",CHE:"CH",CHL:"CL",CHN:"CN",CIV:"CI",CMR:"CM",COD:"CD",COG:"CG",COK:"CK",COL:"CO",COM:"KM",CPT:"CP",CPV:"CV",CRI:"CR",CS:"RS ME",CT:"KI",CUB:"CU",CUW:"CW",CXR:"CX",CYM:"KY",CYP:"CY",CZE:"CZ",DD:"DE",DDR:"DE",DEU:"DE",DGA:"DG",DJI:"DJ",DMA:"DM",DNK:"DK",DOM:"DO",DY:"BJ",DZA:"DZ",ECU:"EC",EGY:"EG",ERI:"ER",ESH:"EH",ESP:"ES",EST:"EE",ETH:"ET",FIN:"FI",FJI:"FJ",FLK:"FK",FQ:"AQ TF",FRA:"FR",FRO:"FO",FSM:"FM",FX:"FR",FXX:"FR",GAB:"GA",GBR:"GB",GEO:"GE",GGY:"GG",GHA:"GH",GIB:"GI",GIN:"GN",GLP:"GP",GMB:"GM",GNB:"GW",GNQ:"GQ",GRC:"GR",GRD:"GD",GRL:"GL",GTM:"GT",GUF:"GF",GUM:"GU",GUY:"GY",HKG:"HK",HMD:"HM",HND:"HN",HRV:"HR",HTI:"HT",HUN:"HU",HV:"BF",IDN:"ID",IMN:"IM",IND:"IN",IOT:"IO",IRL:"IE",IRN:"IR",IRQ:"IQ",ISL:"IS",ISR:"IL",ITA:"IT",JAM:"JM",JEY:"JE",JOR:"JO",JPN:"JP",JT:"UM",KAZ:"KZ",KEN:"KE",KGZ:"KG",KHM:"KH",KIR:"KI",KNA:"KN",KOR:"KR",KWT:"KW",LAO:"LA",LBN:"LB",LBR:"LR",LBY:"LY",LCA:"LC",LIE:"LI",LKA:"LK",LSO:"LS",LTU:"LT",LUX:"LU",LVA:"LV",MAC:"MO",MAF:"MF",MAR:"MA",MCO:"MC",MDA:"MD",MDG:"MG",MDV:"MV",MEX:"MX",MHL:"MH",MI:"UM",MKD:"MK",MLI:"ML",MLT:"MT",MMR:"MM",MNE:"ME",MNG:"MN",MNP:"MP",MOZ:"MZ",MRT:"MR",MSR:"MS",MTQ:"MQ",MUS:"MU",MWI:"MW",MYS:"MY",MYT:"YT",NAM:"NA",NCL:"NC",NER:"NE",NFK:"NF",NGA:"NG",NH:"VU",NIC:"NI",NIU:"NU",NLD:"NL",NOR:"NO",NPL:"NP",NQ:"AQ",NRU:"NR",NT:"SA IQ",NTZ:"SA IQ",NZL:"NZ",OMN:"OM",PAK:"PK",PAN:"PA",PC:"FM MH MP PW",PCN:"PN",PER:"PE",PHL:"PH",PLW:"PW",PNG:"PG",POL:"PL",PRI:"PR",PRK:"KP",PRT:"PT",PRY:"PY",PSE:"PS",PU:"UM",PYF:"PF",PZ:"PA",QAT:"QA",QMM:"QM",QNN:"QN",QPP:"QP",QQQ:"QQ",QRR:"QR",QSS:"QS",QTT:"QT",QU:"EU",QUU:"EU",QVV:"QV",QWW:"QW",QXX:"QX",QYY:"QY",QZZ:"QZ",REU:"RE",RH:"ZW",ROU:"RO",RUS:"RU",RWA:"RW",SAU:"SA",SCG:"RS ME",SDN:"SD",SEN:"SN",SGP:"SG",SGS:"GS",SHN:"SH",SJM:"SJ",SLB:"SB",SLE:"SL",SLV:"SV",SMR:"SM",SOM:"SO",SPM:"PM",SRB:"RS",SSD:"SS",STP:"ST",SU:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",SUN:"RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",SUR:"SR",SVK:"SK",SVN:"SI",SWE:"SE",SWZ:"SZ",SXM:"SX",SYC:"SC",SYR:"SY",TAA:"TA",TCA:"TC",TCD:"TD",TGO:"TG",THA:"TH",TJK:"TJ",TKL:"TK",TKM:"TM",TLS:"TL",TMP:"TL",TON:"TO",TP:"TL",TTO:"TT",TUN:"TN",TUR:"TR",TUV:"TV",TWN:"TW",TZA:"TZ",UGA:"UG",UK:"GB",UKR:"UA",UMI:"UM",URY:"UY",USA:"US",UZB:"UZ",VAT:"VA",VCT:"VC",VD:"VN",VEN:"VE",VGB:"VG",VIR:"VI",VNM:"VN",VUT:"VU",WK:"UM",WLF:"WF",WSM:"WS",XAA:"XA",XBB:"XB",XCC:"XC",XDD:"XD",XEE:"XE",XFF:"XF",XGG:"XG",XHH:"XH",XII:"XI",XJJ:"XJ",XKK:"XK",XLL:"XL",XMM:"XM",XNN:"XN",XOO:"XO",XPP:"XP",XQQ:"XQ",XRR:"XR",XSS:"XS",XTT:"XT",XUU:"XU",XVV:"XV",XWW:"XW",XXX:"XX",XYY:"XY",XZZ:"XZ",YD:"YE",YEM:"YE",YMD:"YE",YU:"RS ME",YUG:"RS ME",ZAF:"ZA",ZAR:"CD",ZMB:"ZM",ZR:"CD",ZWE:"ZW",ZZZ:"ZZ"},t.scriptAlias={Qaai:"Zinh"},t.variantAlias={heploc:"alalc97",polytoni:"polyton"}},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new WeakMap;t.default=function(e){var t=r.get(e);return t||(t=Object.create(null),r.set(e,t)),t}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPolyfill=void 0,t.shouldPolyfill=function(){return"undefined"==typeof Intl||!("Locale"in Intl)||function(){try{return"x-private"===new Intl.Locale("und-x-private").toString()}catch(e){return!0}}()}},126:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127);n(130).shouldPolyfill()&&Object.defineProperty(Intl,"PluralRules",{value:r.PluralRules,writable:!0,enumerable:!1,configurable:!0})},127:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluralRules=void 0;var r=n(128),a=n(89),i=r.__importDefault(n(129));function o(e,t){if(!(e instanceof c))throw new TypeError("Method Intl.PluralRules.prototype."+t+" called on incompatible receiver "+String(e))}function s(e,t,n,r){var a=r.IntegerDigits,i=r.NumberOfFractionDigits,o=r.FractionDigits;return c.localeData[e].fn(i?a+"."+o:a,"ordinal"===t)}var c=function(){function e(t,n){if(!(this&&this instanceof e?this.constructor:void 0))throw new TypeError("Intl.PluralRules must be called with 'new'");return a.InitializePluralRules(this,t,n,{availableLocales:e.availableLocales,relevantExtensionKeys:e.relevantExtensionKeys,localeData:e.localeData,getDefaultLocale:e.getDefaultLocale,getInternalSlots:i.default})}return e.prototype.resolvedOptions=function(){o(this,"resolvedOptions");var t=Object.create(null),n=i.default(this);return t.locale=n.locale,t.type=n.type,["minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"].forEach((function(e){var r=n[e];void 0!==r&&(t[e]=r)})),t.pluralCategories=r.__spreadArrays(e.localeData[t.locale].categories[t.type]),t},e.prototype.select=function(e){o(this,"select");var t=a.ToNumber(e);return a.ResolvePlural(this,t,{getInternalSlots:i.default,PluralRuleSelect:s})},e.prototype.toString=function(){return"[object Intl.PluralRules]"},e.supportedLocalesOf=function(t,n){return a.SupportedLocales(e.availableLocales,a.CanonicalizeLocaleList(t),n)},e.__addLocaleData=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var i=a[r],o=i.data,s=i.locale;e.localeData[s]=o,e.availableLocales.add(s),e.__defaultLocale||(e.__defaultLocale=s)}},e.getDefaultLocale=function(){return e.__defaultLocale},e.localeData={},e.availableLocales=new Set,e.__defaultLocale="",e.relevantExtensionKeys=[],e.polyfilled=!0,e}();t.PluralRules=c;try{"undefined"!=typeof Symbol&&Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Intl.PluralRules",writable:!1,enumerable:!1,configurable:!0});try{Object.defineProperty(c,"length",{value:0,writable:!1,enumerable:!1,configurable:!0})}catch(e){}Object.defineProperty(c.prototype.constructor,"length",{value:0,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(c.supportedLocalesOf,"length",{value:1,writable:!1,enumerable:!1,configurable:!0})}catch(e){}},128:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return a})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__spreadArray",(function(){return b})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return w})),n.d(t,"__asyncDelegator",(function(){return E})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return L})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return M}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function b(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return A(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},129:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new WeakMap;t.default=function(e){var t=r.get(e);return t||(t=Object.create(null),r.set(e,t)),t}},13:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const r=function(e,t){return new Promise(n=>{t.addEventListener(e,n,{once:!0})})},a=function(){return"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?Promise.resolve(null):r("DOMContentLoaded",window)},i=function(e){return new Promise(t=>{setTimeout(t,e)})}},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldPolyfill=void 0,t.shouldPolyfill=function(){return"undefined"==typeof Intl||!("PluralRules"in Intl)||"one"===new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)}},131:function(e,t){Intl.PluralRules&&"function"==typeof Intl.PluralRules.__addLocaleData&&Intl.PluralRules.__addLocaleData({data:{categories:{cardinal:["one","other"],ordinal:["one","two","few","other"]},fn:function(e,t){var n=String(e).split("."),r=!n[1],a=Number(n[0])==e,i=a&&n[0].slice(-1),o=a&&n[0].slice(-2);return t?1==i&&11!=o?"one":2==i&&12!=o?"two":3==i&&13!=o?"few":"other":1==e&&r?"one":"other"}},locale:"en"})},132:function(e,t,n){var r={"./de.json":[237,18],"./es.json":[238,19],"./fr.json":[239,20],"./ja.json":[240,21],"./ko.json":[241,22],"./pt.json":[242,23],"./ru.json":[243,24],"./zh-cn.json":[244,25],"./zh-tw.json":[245,26]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(r)},a.id=132,e.exports=a},133:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},134:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},135:function(e,t,n){"use strict";t.decode=t.parse=n(136),t.encode=t.stringify=n(137)},136:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var u=e.length;c>0&&u>c&&(u=c);for(var l=0;l<u;++l){var d,h,f,p,m=e[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),r(o,f)?a(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},137:function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),(function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[o]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(4),c=n(21),u=n(83);function l(){const e=function(){var e,t,n;if(!Array.isArray(c.b))return;const r=null===(e=window.APP.store)||void 0===e||null===(t=e.state)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.theme;return r?c.b.find(e=>e.id===r):Object(u.a)()}();return!(!e||!e.darkModeDefault)&&s.a.image("logo_dark")||s.a.image("logo")}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function f(e){var t=e.title,n=e.titleId,a=h(e,["title","titleId"]);return r.createElement("svg",d({width:144,height:100,viewBox:"0 0 144 100",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},a),t?r.createElement("title",{id:n},t):null,r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M144 99.74H0V58.115h144v41.627zM41.88 87.245h-2.32V78.95c0-4.329-2.96-6.311-6.2-6.311-2.84 0-4.88 1.497-5.88 3.924-.88-2.67-3.28-3.924-5.88-3.924-2.52 0-4.4 1.173-5.48 3.115v-2.751H8.56v3.964h2.4v10.316h-2.4v3.964h10.96v-3.964h-3.44v-6.351c0-2.549 1-4.329 3.48-4.329 2.04 0 3.08 1.214 3.08 4.37v10.274h7.56v-3.964h-2.4v-6.351c0-2.549 1-4.329 3.48-4.329 2.04 0 3.08 1.214 3.08 4.37v10.234h7.52v-3.965zM53.801 72.64c-6.48 0-9.68 4.41-9.68 9.75 0 5.824 3.84 9.263 9.4 9.263 5.76 0 9.92-3.681 9.92-9.507 0-5.097-3.16-9.506-9.64-9.506zm-4.36 9.382c0 3.155 1.44 5.582 4.24 5.582 2.68 0 4.44-2.143 4.44-5.663 0-3.681-1.961-5.34-4.4-5.34-2.64 0-4.28 1.982-4.28 5.421zm30.156 2.43l4.08.404-1.12 6.392h-15.72l-.52-2.75 9.92-11.53h-5.64l-.8 2.832-3.72-.405.64-6.392h15.8l.4 2.751-10 11.53h5.84l.84-2.832zm13.283 6.797h-5.4v-6.553h5.4v6.553zm-5.4-11.692h5.4v-6.554h-5.4v6.554zm13.798 11.65l7.8-27.792h-5.08l-7.8 27.792h5.08zm18.282-27.792l-7.801 27.792h-5.08l7.8-27.792h5.081zm17.2 24.718c.24 0 .479-.04.76-.12l.12 2.79c-.961.527-2.12.85-3.24.85-2.401 0-3.72-1.416-3.96-3.64-1.04 1.86-2.88 3.64-5.801 3.64-2.6 0-5.559-1.416-5.559-5.219 0-4.49 4.279-5.542 8.4-5.542 1 0 2.04.04 2.96.162v-.607c0-1.86-.04-4.085-2.96-4.085-1.08 0-1.92.08-2.76.526l-.6 2.063-4.12-.445.64-4.208c3.16-1.294 4.76-1.658 7.72-1.658 3.88 0 7.16 2.022 7.16 6.19v7.888c0 1.051.4 1.415 1.24 1.415z",fill:a.color}),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126.48 87.891c-1.56 0-2.12-.93-2.12-2.104 0-1.982 1.6-2.508 3.44-2.508.84 0 1.76.122 2.6.243-.12 3.034-2.08 4.37-3.92 4.37z",fill:a.color}),r.createElement("path",{d:"M43.81 46.79H30.181V41.35h3.283V32.54c0-2.17-.383-3.721-1.149-4.657-.73-.935-1.788-1.402-3.174-1.402-1.606 0-2.864.505-3.776 1.515-.876 1.01-1.35 2.337-1.424 3.983v9.37h3.284v5.442H13.6v-5.442h3.284v-27.66h-3.284V8.191h10.343v17.168c1.642-2.918 4.288-4.376 7.936-4.376 2.335 0 4.36.71 6.075 2.132 1.715 1.42 2.572 3.628 2.572 6.62v11.614h3.284v5.442zm31.964 0H65.156v-3.87c-1.642 2.917-4.287 4.376-7.935 4.376-2.335 0-4.36-.711-6.075-2.132-1.715-1.422-2.572-3.629-2.572-6.62V26.93H45.29v-5.442h10.343v14.25c0 2.207.347 3.778 1.04 4.713.73.898 1.788 1.346 3.175 1.346 1.678 0 2.973-.56 3.885-1.683.949-1.122 1.423-2.562 1.423-4.32V26.93h-3.995v-5.442h11.055v19.86h3.558v5.443zm29.77-13.24c0 3.74-.967 6.976-2.901 9.706-1.897 2.73-4.706 4.096-8.428 4.096-3.758 0-6.403-1.459-7.936-4.377a34.365 34.365 0 01-.273 1.908 34.28 34.28 0 01-.274 1.908h-7.06c.255-1.31.475-2.619.657-3.928.182-1.309.274-2.6.274-3.87V13.688h-3.284V8.191h10.344v18.122c.656-1.46 1.641-2.712 2.955-3.76 1.35-1.047 3.138-1.57 5.363-1.57 3.102 0 5.637 1.103 7.608 3.31 1.97 2.207 2.955 5.292 2.955 9.257zm-7.334.617c0-2.431-.51-4.283-1.532-5.554-1.022-1.272-2.372-1.908-4.05-1.908-1.897 0-3.375.71-4.433 2.132-1.022 1.422-1.532 3.067-1.532 4.937v.617c0 2.058.492 3.797 1.477 5.218 1.022 1.384 2.463 2.076 4.324 2.076 1.605 0 2.955-.598 4.05-1.795 1.13-1.234 1.696-3.142 1.696-5.723zm32.278 4.881c0 2.805-1.095 4.9-3.284 6.284-2.152 1.346-4.962 2.02-8.427 2.02-1.789 0-3.595-.187-5.419-.561a21.349 21.349 0 01-5.144-1.908l.985-7.07 5.473.618v3.142c.656.224 1.35.374 2.079.449.73.037 1.278.056 1.643.056 1.349 0 2.517-.225 3.502-.673.985-.45 1.477-1.123 1.477-2.02 0-1.085-.748-1.795-2.243-2.132a102.972 102.972 0 00-5.2-1.01c-1.97-.337-3.703-1.029-5.199-2.076-1.496-1.047-2.244-2.824-2.244-5.33 0-3.104 1.168-5.18 3.503-6.227 2.372-1.085 4.816-1.627 7.334-1.627 3.284 0 6.366.766 9.248 2.3l.603 6.452-5.473.617-.438-3.535c-1.204-.41-2.499-.617-3.886-.617-.911 0-1.696.206-2.352.617-.622.375-.931.973-.931 1.796 0 1.085.711 1.814 2.134 2.188 1.459.337 3.137.673 5.035 1.01 1.934.336 3.613 1.028 5.035 2.076 1.46 1.01 2.189 2.73 2.189 5.161z",fill:a.color}))}f.defaultProps={color:"#000",title:"Hmc Logo"};var p=n(56);function m({className:e,forceConfigurableLogo:t}){return Object(p.a)()&&!t?a.a.createElement(f,{className:"hmc-logo"}):a.a.createElement("img",{className:e,alt:s.a.translation("app-name"),src:l()})}m.propTypes={className:o.a.string,forceConfigurableLogo:o.a.bool}},140:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return y})),n.d(t,"d",(function(){return L}));var r=n(13),a=n(11),i=n(2),o=n(116),s=n(12),c=n(167),u=n(24);const l=Object(s.b)("fov"),d=Object(s.a)("thirdPerson");function h(e){const t=function(e){let t=e;for(;t;){if(Object(c.a)(t,"inspectable"))return t.object3D;t=t.parentNode}return console.warn("could not find inspectable in hierarchy"),e.object3D}(e);return{inspectable:t,pivot:function(e){const t=e.components["inspect-pivot-child-selector"]&&e.components["inspect-pivot-child-selector"].data.selector;if(!t)return e.object3D;const n=e.querySelector(t);return n?n.object3D:(console.error("Failed to find pivot for selector: ".concat(t),e),e.object3D)}(t.el)}}const f=function(){const e=new THREE.Vector3;return function(t,n,r){t.decompose(n,r,e)}}(),p=(new THREE.Matrix4).identity(),m=function(){const e=new THREE.Quaternion,t=new THREE.Vector3,n=new THREE.Quaternion,r=new THREE.Vector3,i=new THREE.Quaternion,o=new THREE.Vector3,s=new THREE.Vector3,c=new THREE.Vector3,u=new THREE.Vector3,l=new THREE.Quaternion,d=new THREE.Vector3(1,1,1),h=new THREE.Matrix4,p=new THREE.Quaternion,m=new THREE.Quaternion;return function(g,v,b,y,w,E,x,_){g.updateMatrices(),f(g.matrixWorld,t,e),b.updateMatrices(),f(b.matrixWorld,r,n),v.getWorldQuaternion(i),p.setFromAxisAngle(o.set(0,1,0).applyQuaternion(e),.1*y*x),l.copy(n).premultiply(p),c.subVectors(r,t);const A=1-E*x,L=c.length()*A;L>.1&&L<100&&c.multiplyScalar(A),m.setFromAxisAngle(s.set(1,0,0).applyQuaternion(l),.1*w*x),l.premultiply(m),u.addVectors(t,c.applyQuaternion(p).applyQuaternion(m)).add(o.set(0,1,0).multiplyScalar(_*L).applyQuaternion(l)),h.compose(u,l,d),Object(a.d)(v,b,h)}}(),g=function(){const e=new THREE.Quaternion,t=new THREE.Vector3,n=new THREE.Quaternion,r=new THREE.Vector3,i=new THREE.Vector3,s=new THREE.Vector3,c=new THREE.Vector3(.3,.3,.3),u=new THREE.Object3D;return function(l,d,h,m,g){u.parent||(AFRAME.scenes[0].object3D.add(u),u.applyMatrix4(p)),m.updateMatrices(),f(m.matrixWorld,t,e),f(d.matrixWorld,r,n),l.getWorldQuaternion(n);const v=Object(o.c)(h.el,h.el.getObject3D("mesh")||h,!0);v.min.x===1/0&&(v.min.subVectors(t,c),v.max.addVectors(t,c)),v.getCenter(s);const b=h.el.sceneEl.is("vr-mode"),y=Object(a.c)(h.el.sceneEl.camera.fov,h.el.sceneEl.camera.aspect,v,s,b)*g;u.position.addVectors(t,i.set(0,0,1).multiplyScalar(y).applyQuaternion(e)),u.quaternion.copy(e),u.matrixNeedsUpdate=!0,u.updateMatrices(),Object(a.d)(l,d,u.matrixWorld)}}(),v=0,b=3,y=4,w={[v]:1,1:2,2:v},E=function(e){e.isLight&&e.layers.enable(u.a.CAMERA_LAYER_INSPECT)},x=new THREE.Layers;x.set(u.a.CAMERA_LAYER_FIRST_PERSON_ONLY);const _=function(e){if(e.layers.test(x))return;const t=AFRAME.scenes[0].systems["hubs-systems"].batchManagerSystem,n=t.batchingEnabled&&t.batchManager.batchForMesh.get(e);n?(n.layers.enable(u.a.CAMERA_LAYER_INSPECT),e.layers.enable(u.a.CAMERA_LAYER_BATCH_INSPECT)):e.layers.enable(u.a.CAMERA_LAYER_INSPECT)},A=function(e){if(e.layers.test(x))return;const t=AFRAME.scenes[0].systems["hubs-systems"].batchManagerSystem,n=t.batchingEnabled&&t.batchManager.batchForMesh.get(e);n?(n.layers.disable(u.a.CAMERA_LAYER_INSPECT),e.layers.disable(u.a.CAMERA_LAYER_BATCH_INSPECT)):e.layers.disable(u.a.CAMERA_LAYER_INSPECT)};class L{constructor(e,t){this.tick=function(){const e=new THREE.Matrix4;let t;return function(n,r){this.viewingCamera.matrixNeedsUpdate=!0,this.viewingCamera.updateMatrix(),this.viewingCamera.updateMatrixWorld();const o=n.is("entered");t=t||document.getElementById("ui-root");if(!o&&t&&t.firstChild&&t.firstChild.classList.contains("isGhost")&&this.mode!==v&&this.mode!==b){this.mode=v;const e=new THREE.Vector3,t=new THREE.Quaternion,r=new THREE.Vector3;this.viewingRig.object3D.updateMatrices(),this.viewingRig.object3D.matrixWorld.decompose(e,t,r),e.setFromMatrixPosition(this.viewingCamera.matrixWorld),e.y=e.y-1.6,Object(a.n)(this.avatarRig.object3D,(new THREE.Matrix4).compose(e,t,r)),n.systems["hubs-systems"].characterController.fly=!0,this.avatarPOV.object3D.updateMatrices(),Object(a.n)(this.avatarPOV.object3D,this.viewingCamera.matrixWorld)}if(!this.enteredScene&&o&&(this.enteredScene=!0,this.mode=v),this.avatarPOVRotator=this.avatarPOVRotator||this.avatarPOV.components["pitch-yaw-rotator"],this.viewingCameraRotator=this.viewingCameraRotator||this.viewingCamera.el.components["pitch-yaw-rotator"],this.avatarPOVRotator.on=!0,this.viewingCameraRotator.on=!0,this.userinput=this.userinput||n.systems.userinput,this.interaction=this.interaction||n.systems.interaction,this.userinput.get(i.a.actions.startInspecting)&&this.mode!==b){const e=this.interaction.state.rightRemote.hovered||this.interaction.state.leftRemote.hovered;e&&this.inspect(e,1.5)}else this.mode===b&&this.userinput.get(i.a.actions.stopInspecting)&&(n.emit("uninspect"),this.uninspect());if(this.userinput.get(i.a.actions.nextCameraMode)&&this.nextMode(),this.ensureListenerIsParentedCorrectly(n),this.mode===v)this.viewingCameraRotator.on=!1,this.avatarRig.object3D.updateMatrices(),Object(a.n)(this.viewingRig.object3D,this.avatarRig.object3D.matrixWorld),n.is("vr-mode")?(this.viewingCamera.updateMatrices(),Object(a.n)(this.avatarPOV.object3D,this.viewingCamera.matrixWorld)):(this.avatarPOV.object3D.updateMatrices(),Object(a.n)(this.viewingCamera,this.avatarPOV.object3D.matrixWorld));else if(1===this.mode||2===this.mode)1===this.mode?e.makeTranslation(0,1,3):e.makeTranslation(0,2,8),this.avatarRig.object3D.updateMatrices(),this.viewingRig.object3D.matrixWorld.copy(this.avatarRig.object3D.matrixWorld).multiply(e),Object(a.n)(this.viewingRig.object3D,this.viewingRig.object3D.matrixWorld),this.avatarPOV.object3D.quaternion.copy(this.viewingCamera.quaternion),this.avatarPOV.object3D.matrixNeedsUpdate=!0;else if(this.mode===b){this.avatarPOVRotator.on=!1,this.viewingCameraRotator.on=!1;const e=this.userinput.get(n.is("entered")?i.a.actions.cameraDelta:i.a.actions.lobbyCameraDelta);if(e){const t=(AFRAME.utils.device.isMobile()?-.6:1)*e[0]||0,n=(AFRAME.utils.device.isMobile()?-1.2:1)*e[1]||0;this.horizontalDelta=(this.horizontalDelta+t)/2,this.verticalDelta=(this.verticalDelta+n)/2}else(Math.abs(this.verticalDelta)>1e-4||Math.abs(this.horizontalDelta)>1e-4)&&(this.verticalDelta=.9*this.verticalDelta,this.horizontalDelta=.9*this.horizontalDelta);const t=.001*this.userinput.get(i.a.actions.inspectZoom);t?this.inspectZoom=t+5*this.inspectZoom/6:Math.abs(this.inspectZoom)>1e-4&&(this.inspectZoom=.9*this.inspectZoom);const o=this.userinput.get(i.a.actions.inspectPanY)||0;this.userinput.get(i.a.actions.resetInspectView)&&g(this.viewingRig.object3D,this.viewingCamera,this.inspectable,this.pivot,1),this.snapshot.audio&&Object(a.n)(this.snapshot.audio,this.audioSourceTargetTransform),(Math.abs(this.verticalDelta)>.001||Math.abs(this.horizontalDelta)>.001||Math.abs(this.inspectZoom)>.001||Math.abs(o)>1e-4)&&m(this.pivot,this.viewingRig.object3D,this.viewingCamera,this.horizontalDelta,this.verticalDelta,this.inspectZoom,r,o)}}}(),this.viewingCamera=e,this.lightsEnabled="true"===localStorage.getItem("show-background-while-inspecting"),this.verticalDelta=0,this.horizontalDelta=0,this.inspectZoom=0,this.mode=y,this.snapshot={audioTransform:new THREE.Matrix4,matrixWorld:new THREE.Matrix4},this.audioSourceTargetTransform=new THREE.Matrix4,l&&(this.viewingCamera.fov=l),this.viewingCamera.layers.enable(u.a.CAMERA_LAYER_VIDEO_TEXTURE_TARGET),this.viewingCamera.layers.enable(u.a.CAMERA_LAYER_FIRST_PERSON_ONLY);const n=t.xr,o=n.updateCamera;n.updateCamera=function(e){o(e);const t=n.getCamera();t.layers.mask=e.layers.mask,t.cameras.length&&(t.cameras[0].layers.set(u.a.CAMERA_LAYER_XR_LEFT_EYE),t.cameras[0].layers.mask|=e.layers.mask,t.cameras[1].layers.set(u.a.CAMERA_LAYER_XR_RIGHT_EYE),t.cameras[1].layers.mask|=e.layers.mask)},Object(r.b)().then(()=>{this.avatarPOV=document.getElementById("avatar-pov-node"),this.avatarRig=document.getElementById("avatar-rig"),this.viewingRig=document.getElementById("viewing-rig");const e=new THREE.Mesh(new THREE.BoxGeometry(100,100,100),new THREE.MeshBasicMaterial({color:131586,side:THREE.BackSide}));e.layers.set(u.a.CAMERA_LAYER_INSPECT),this.viewingRig.object3D.add(e)})}nextMode(){this.mode!==b?d&&this.mode!==y&&(this.mode=w[this.mode]||0):this.uninspect()}inspect(e,t,n=!0){const{inspectable:r,pivot:i}=h(e);if(this.verticalDelta=0,this.horizontalDelta=0,this.inspectZoom=0,this.mode===b)return;const o=AFRAME.scenes[0];o.object3D.traverse(E),o.classList.add("hand-cursor"),o.classList.remove("no-cursor"),this.snapshot.mode=this.mode,this.mode=b,this.inspectable=r,this.pivot=i;const s=o.is("vr-mode")?o.renderer.xr.getCamera():o.camera;this.snapshot.mask=s.layers.mask,this.lightsEnabled?(s.layers.disable(u.a.CAMERA_LAYER_FIRST_PERSON_ONLY),s.layers.enable(u.a.CAMERA_LAYER_THIRD_PERSON_ONLY)):this.hideEverythingButThisObject(r),this.viewingCamera.updateMatrices(),this.snapshot.matrixWorld.copy(this.viewingRig.object3D.matrixWorld),this.snapshot.audio=!(r.el&&Object(c.a)(r.el,"preventAudioBoost"))&&function(e){let t;return e.traverse(e=>{t||"Audio"!==e.type||(t=e)}),t}(r),this.snapshot.audio&&(this.snapshot.audio.updateMatrices(),this.snapshot.audioTransform.copy(this.snapshot.audio.matrixWorld),o.audioListener.updateMatrices(),this.audioSourceTargetTransform.makeTranslation(0,0,-.25).premultiply(o.audioListener.matrixWorld),Object(a.n)(this.snapshot.audio,this.audioSourceTargetTransform)),this.ensureListenerIsParentedCorrectly(o),g(this.viewingRig.object3D,this.viewingCamera,this.inspectable,this.pivot,t||1),n&&o.emit("inspect-target-changed")}uninspect(e=!0){if(this.mode!==b)return;const t=AFRAME.scenes[0];t.is("entered")&&(t.classList.remove("hand-cursor"),t.classList.add("no-cursor")),this.showEverythingAsNormal(),this.inspectable=null,this.pivot=null,this.snapshot.audio&&(Object(a.n)(this.snapshot.audio,this.snapshot.audioTransform),this.snapshot.audio=null),this.mode=this.snapshot.mode,this.snapshot.mode===y&&Object(a.n)(this.viewingRig.object3D,this.snapshot.matrixWorld),this.snapshot.mode=null,this.tick(AFRAME.scenes[0]),e&&t.emit("inspect-target-changed")}toggleLights(){if(this.lightsEnabled=!this.lightsEnabled,localStorage.setItem("show-background-while-inspecting",this.lightsEnabled.toString()),this.mode===b&&this.inspectable)if(this.lightsEnabled){this.showEverythingAsNormal();const e=AFRAME.scenes[0],t=e.is("vr-mode")?e.renderer.xr.getCamera():e.camera;t.layers.disable(u.a.CAMERA_LAYER_FIRST_PERSON_ONLY),t.layers.enable(u.a.CAMERA_LAYER_THIRD_PERSON_ONLY)}else this.hideEverythingButThisObject(this.inspectable);AFRAME.scenes[0].emit("inspect-lights-changed")}ensureListenerIsParentedCorrectly(e){e.audioListener&&this.avatarPOV&&(this.mode===b&&e.audioListener.parent!==this.avatarPOV.object3D?this.avatarPOV.object3D.add(e.audioListener):this.mode!==v&&1!==this.mode&&2!==this.mode||e.audioListener.parent===this.viewingCamera||this.viewingCamera.add(e.audioListener))}hideEverythingButThisObject(e){this.notHiddenObject=e,e.traverse(_);const t=AFRAME.scenes[0];(t.is("vr-mode")?t.renderer.xr.getCamera():t.camera).layers.set(u.a.CAMERA_LAYER_INSPECT)}showEverythingAsNormal(){this.notHiddenObject&&(this.notHiddenObject.traverse(A),this.notHiddenObject=null);const e=AFRAME.scenes[0];(e.is("vr-mode")?e.renderer.xr.getCamera():e.camera).layers.mask=this.snapshot.mask}}},153:function(e,t,n){"use strict";function r(){return new Promise(e=>{setTimeout(e,0)})}n.d(t,"a",(function(){return r}))},1544:function(e,t,n){e.exports={"no-default-button-style":"scene__no-default-button-style__XGE58",noDefaultButtonStyle:"scene__no-default-button-style__XGE58","loading-text":"scene__loading-text__2zWvK",loadingText:"scene__loading-text__2zWvK"}},155:function(e,t,n){e.exports=n.p+"assets/sfx/tick-b0fcbf1d9b6f92a24bec12f9bae1e42a.mp3"},156:function(e,t,n){e.exports={ui:"scene-ui__ui__3JHPz",scenePreviewButton:"scene-ui__scenePreviewButton__cjDCj","no-default-button-style":"scene-ui__no-default-button-style__3ptn-",noDefaultButtonStyle:"scene-ui__no-default-button-style__3ptn-",grid:"scene-ui__grid__34j9h",mainPanel:"scene-ui__mainPanel__IuYxi",logoTagline:"scene-ui__logoTagline___LR3I",logo:"scene-ui__logo__26JnS",info:"scene-ui__info__3Nznh",name:"scene-ui__name__2-7V_",attribution:"scene-ui__attribution__3nlIi",screenshot:"scene-ui__screenshot__279rF",screenshotHidden:"scene-ui__screenshotHidden__3nHWx",scenePreviewButtonWrapper:"scene-ui__scenePreviewButtonWrapper__32rNw",unavailable:"scene-ui__unavailable__21hgO"}},158:function(e,t,n){"use strict";function r(e,t){window.APP.componentRegistry=window.APP.componentRegistry||{},window.APP.componentRegistry[t]=window.APP.componentRegistry[t]||[],window.APP.componentRegistry[t].push(e)}function a(e,t){window.APP.componentRegistry&&window.APP.componentRegistry[t]&&window.APP.componentRegistry[t].splice(window.APP.componentRegistry[t].indexOf(e),1)}function i(){if(!(window.APP&&window.APP.componentRegistry&&window.APP.hubChannel&&window.APP.hubChannel.presence))return null;const e=window.APP.componentRegistry["player-info"]||[],t=window.APP.hubChannel.presence.state;for(let n=0;n<e.length;n++){const r=e[n],a=t[r.playerSessionId];if(a&&a.metas[0]&&a.metas[0].streaming)return r}return null}function o(e){return(window.APP.componentRegistry["player-info"]||[]).find(t=>t.playerSessionId===e)}n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}))},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return m}));var r=n(4),a=n(20);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s={"app-name":"App","editor-name":"Scene Editor","contact-email":"app@company.com","company-name":"Company","share-hashtag":"#app","app-description":"Gather share and collaborate together in a virtual, private and safe space","app-tagline":"Private social VR in your web browser"},c=new Map,u="en",l=s;function d(e){var t=function(e){var t=navigator.languages?o(navigator.languages):navigator.language?[navigator.language]:navigator.userLanguage?[navigator.userLanguage]:void 0;e&&"browser"!==e&&t.unshift(e);for(var n=0;n<t.length;n++){var r=t[n];if(a.a.hasOwnProperty(r))return r;a.b.hasOwnProperty(r)&&a.b.hasOwnProperty(r);var i=r.split("-")[0].toLowerCase();if(a.a.hasOwnProperty(i))return i;if(a.b.hasOwnProperty(i))return a.b[i]}return"en"}(e);"en"===t?(u=t,l=s,window.dispatchEvent(new CustomEvent("locale-updated"))):c.has(t)?(u=t,window.dispatchEvent(new CustomEvent("locale-updated"))):n(132)("./".concat(t,".json")).then((function(e){var n=e.default;u=t,l=n,window.dispatchEvent(new CustomEvent("locale-updated"))}))}var h=window.setInterval((function(){window.APP&&window.APP.store&&(window.clearInterval(h),d(window.APP.store.state.preferences.locale),window.APP.store.addEventListener("statechanged",(function(){d(window.APP.store.state.preferences.locale)})))}),100),f=function(){return u},p=function(e){return l[e]},m=function(){if(c.has(u))return c.get(u);if(r.a.APP_CONFIG&&r.a.APP_CONFIG.translations&&r.a.APP_CONFIG.translations[u]){var e=r.a.APP_CONFIG.translations[u];for(var t in e)e.hasOwnProperty(t)&&e[t]&&(l[t]=e[t])}var n=[];for(var a in l)l.hasOwnProperty(a)&&n.push([a,l[a]]);var o=n.map((function(e){var t=i(e,2);return[t[0],t[1].replace(/%([\w-.]+)%/i,(function(e,t){return l[t]}))]})).reduce((function(e,t){return e[t[0]]=t[1],e}),{});return c.set(u,o),o}},1612:function(e,t,n){"use strict";n.r(t);n(90);var r=n(4),a=(n(95),n(1544),n(43),n(376),n(319)),i=(n(594),n(540),n(587),n(8)),o=n(53),s=n.n(o),c=n(0),u=n.n(c),l=n(34),d=n.n(l),h=n(1),f=n.n(h),p=n(5),m=n.n(p),g=n(6),v=n(173),b=n(360),y=n(156),w=n.n(y);function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _=c.createElement("path",{d:"M17.953 4.855c.012.19.012.38.012.571C17.965 11.266 13.837 18 6.29 18v-.003C4.06 18 1.877 17.312 0 16.015c.324.042.65.063.977.064 1.847.002 3.642-.666 5.096-1.895-1.756-.036-3.296-1.27-3.834-3.07a3.807 3.807 0 001.853-.075C2.178 10.622.8 8.81.8 6.707v-.056c.57.342 1.21.532 1.863.553-1.803-1.298-2.36-3.88-1.27-5.9C3.476 4.063 6.55 5.742 9.849 5.92c-.33-1.534.121-3.143 1.187-4.222C12.69.025 15.288.111 16.842 1.89A7.887 7.887 0 0019.448.817C19.14 1.84 18.5 2.709 17.644 3.26A7.71 7.71 0 0020 2.565a8.723 8.723 0 01-2.047 2.29z",fill:"#fff"});function A(e){var t=e.title,n=e.titleId,r=x(e,["title","titleId"]);return c.createElement("svg",E({width:20,height:18,viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?c.createElement("title",{id:n},t):null,_)}A.defaultProps={color:"#000",title:"Twitter"};function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var k=c.createElement("path",{d:"M20 5.625C20 3.898 18.135 2.5 15.833 2.5c-2.302 0-4.166 1.398-4.166 3.125 0 1.422 1.265 2.621 2.995 3-.032.629-.22 1.113-.574 1.441-.801.75-2.567.875-4.437 1.004-1.469.102-2.99.211-4.234.66V6.105c1.692-.398 2.916-1.582 2.916-2.98C8.333 1.398 6.47 0 4.167 0 1.865 0 0 1.398 0 3.125c0 1.398 1.224 2.582 2.917 2.98v7.786C1.224 14.293 0 15.477 0 16.875 0 18.602 1.865 20 4.167 20c2.302 0 4.166-1.398 4.166-3.125 0-1.328-1.104-2.465-2.666-2.914.161-.203.406-.383.776-.524.843-.32 2.104-.406 3.442-.5 2.198-.152 4.688-.328 6.157-1.695.729-.68 1.099-1.555 1.125-2.652C18.812 8.168 20 7 20 5.625zM4.167 2.5c.458 0 .833.281.833.625s-.375.625-.833.625c-.459 0-.834-.281-.834-.625s.375-.625.834-.625zm0 15c-.459 0-.834-.281-.834-.625s.375-.625.834-.625c.458 0 .833.281.833.625s-.375.625-.833.625zM15.833 5c.459 0 .834.281.834.625s-.375.625-.834.625c-.458 0-.833-.281-.833-.625S15.375 5 15.833 5z",fill:"#fff"});function M(e){var t=e.title,n=e.titleId,r=S(e,["title","titleId"]);return c.createElement("svg",L({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?c.createElement("title",{id:n},t):null,k)}M.defaultProps={color:"#000",title:"Code Branch"};var T=n(215),R=n(139),C=n(422);function P({store:e,scene:t}){const n=Object(c.useRef)(document.body);return Object(C.a)(n,e,t),u.a.createElement(u.a.Fragment,null)}class O extends c.Component{constructor(e){super(e),this.state={showScreenshot:!1},this.createRoom=()=>{Object(i.b)(void 0,this.props.sceneId)},setTimeout(()=>{this.props.sceneLoaded||this.setState({showScreenshot:!0})},5e3)}componentDidMount(){this.props.scene.addEventListener("loaded",this.onSceneLoaded)}componentWillUnmount(){this.props.scene.removeEventListener("loaded",this.onSceneLoaded)}render(){if(this.props.unavailable)return u.a.createElement("div",{className:w.a.ui},u.a.createElement("div",{className:w.a.unavailable},u.a.createElement("div",null,u.a.createElement(g.a,{id:"scene-page.unavailable",defaultMessage:"This scene is no longer available."}))));const{sceneAllowRemixing:e,isOwner:t,sceneProjectId:n,parentScene:a,sceneId:o,intl:s}=this.props,c=[location.protocol,"//",location.host,location.pathname].join(""),l=s.formatMessage({id:"scene-page.default-tweet",defaultMessage:"{sceneName} in {shareHashtag}"},{sceneName:this.props.sceneName,shareHashtag:r.a.translation("share-hashtag")}),d="https://twitter.com/share?url=".concat(encodeURIComponent(c),"&text=").concat(encodeURIComponent(l)),h=s.formatMessage({id:"scene-page.unknown",defaultMessage:"unknown"});let f;const p=({title:e,name:t,url:n,author:r,remix:a})=>{let i="";if(!r&&!n)return null;const o=t||e||h,s=r||h;if(i=n&&n.includes("sketchfab.com")?"Sketchfab":"",!a)return i?u.a.createElement("span",{key:n},u.a.createElement(g.a,{id:"scene-page.attribution-with-source",defaultMessage:"<a>{name} by {author} on {source}</a>",values:{name:o,author:s,source:i,a:e=>n?u.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e):u.a.createElement(u.a.Fragment,null,e)}})):u.a.createElement("span",{key:"".concat(o," ").concat(s)},u.a.createElement(g.a,{id:"scene-page.attribution",defaultMessage:"<a>{name} by {author}</a>",values:{name:o,author:s,a:e=>n?u.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e):u.a.createElement(u.a.Fragment,null,e)}}));u.a.createElement("span",{className:"remix"},u.a.createElement(g.a,{id:"scene-page.remix-attribution",defaultMessage:"(Remixed from <a>{name} by {author}</a>)",values:{name:o,author:s,a:e=>n?u.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},e):u.a.createElement(u.a.Fragment,null,e)}}))};return this.props.sceneAttributions&&(f=this.props.sceneAttributions.extras?u.a.createElement("span",null,this.props.sceneAttributions.extras):u.a.createElement("span",null,u.a.createElement("span",null,this.props.sceneAttributions.creator?u.a.createElement(g.a,{id:"scene-page.scene-attribution",defaultMessage:"by {creator}",values:{creator:this.props.sceneAttributions.creator||h}}):""),a&&a.attributions&&a.attributions.creator&&p({name:a.name,url:a.url,author:a.attributions.creator,remix:!0}),u.a.createElement("br",null),u.a.createElement("div",{className:w.a.attribution},this.props.sceneAttributions.content&&this.props.sceneAttributions.content.map(p)))),u.a.createElement("div",{className:w.a.ui},u.a.createElement("div",{className:m()({[w.a.screenshot]:!0,[w.a.screenshotHidden]:this.props.sceneLoaded})},this.state.showScreenshot&&u.a.createElement("img",{src:this.props.sceneScreenshotURL})),u.a.createElement("div",{className:w.a.grid},u.a.createElement("div",{className:w.a.mainPanel},u.a.createElement("a",{href:"/",className:w.a.logo},u.a.createElement(R.a,null)),u.a.createElement("div",{className:w.a.logoTagline},r.a.translation("app-tagline")),u.a.createElement("div",{className:w.a.scenePreviewButtonWrapper},this.props.showCreateRoom&&u.a.createElement("button",{className:w.a.scenePreviewButton,onClick:this.createRoom},u.a.createElement(g.a,{id:"scene-page.create-button",defaultMessage:"Create a room with this scene"})),u.a.createElement(b.a,{name:"enable_spoke"},t&&n?u.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(i.j)("/spoke/projects/".concat(n)),className:w.a.scenePreviewButton},u.a.createElement(T.a,null),u.a.createElement(g.a,{id:"scene-page.edit-button",defaultMessage:"Edit in {editorName}",values:{editorName:r.a.translation("editor-name")}})):e&&u.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:Object(i.j)("/spoke/projects/new?sceneId=".concat(o)),className:w.a.scenePreviewButton},u.a.createElement(M,null),u.a.createElement(g.a,{id:"scene-page.remix-button",defaultMessage:"Remix in {editorName}",values:{editorName:r.a.translation("editor-name")}}))),u.a.createElement("a",{href:d,rel:"noopener noreferrer",target:"_blank",className:w.a.scenePreviewButton},u.a.createElement(A,null),u.a.createElement("div",null,u.a.createElement(g.a,{id:"scene-page.tweet-button",defaultMessage:"Share on Twitter"}))))),u.a.createElement("div",{className:w.a.info},u.a.createElement("div",{className:w.a.name},this.props.sceneName),u.a.createElement("div",{className:w.a.attribution},f))),u.a.createElement(P,{store:this.props.store,scene:this.props.scene}))}}O.propTypes={intl:f.a.object,scene:f.a.object,store:f.a.object,sceneLoaded:f.a.bool,sceneId:f.a.string,sceneName:f.a.string,sceneDescription:f.a.string,sceneAttributions:f.a.object,sceneScreenshotURL:f.a.string,sceneProjectId:f.a.string,sceneAllowRemixing:f.a.bool,showCreateRoom:f.a.bool,unavailable:f.a.bool,isOwner:f.a.bool,parentScene:f.a.object};var D=Object(v.c)(O),I=n(227),Z=n(423),j=n(424),F=n(13),U=n(314);AFRAME.registerSystem("scene-systems",{init(){Object(F.b)().then(()=>{this.DOMContentDidLoad=!0}),this.scenePreviewCameraSystem=new Z.a,this.animationMixerSystem=new U.a,this.shadowSystem=new j.a(this.el)},tick(e,t){this.DOMContentDidLoad&&(this.animationMixerSystem.tick(t),this.scenePreviewCameraSystem.tick(),this.shadowSystem.tick())}});n(595);var N=n(425),B=n(284),z=(n(589),n(86)),H=n(63),G=n(21);function V(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){q(e,t,n[t])}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}console.log("Hubs version: ".concat("1.0.0.20220616041622")),Object(a.b)(),n(662),window.APP=new B.a;const Y=new URLSearchParams(location.search);function K(e,t={}){s.a.render(u.a.createElement(H.a,null,u.a.createElement(G.a,{store:window.APP.store},u.a.createElement(D,W({scene:e,store:window.APP.store},t)))),document.getElementById("ui-root"))}Object(I.a)();const X=function(){var e,t=(e=function*(){console.log("Scene is ready");const e=document.querySelector("a-scene");window.APP.scene=e;const t=Y.get("scene_id")||document.location.pathname.substring(1).split("/")[1];console.log("Scene ID: ".concat(t));let n={sceneId:t};K(e);const r=t=>{n=W({},n,t),K(e,n)},a=document.querySelector("#scene-root"),o=document.createElement("a-entity"),s=document.createElement("a-entity"),c=document.getElementById("camera");Object(i.a)().then(e=>{const t={hub_id:"scene"};window.APP.store.state.credentials&&window.APP.store.state.credentials.token&&(t.token=window.APP.store.state.credentials.token);const n=e.channel("ret",t);n.join().receive("ok",()=>{n.push("refresh_perms_token").receive("ok",({perms_token:t})=>{const a=d()(t);r({showCreateRoom:!!a.create_hub}),n.leave(),e.disconnect()})})});const u=new N.a(e);o.addEventListener("environment-scene-loaded",()=>{r({sceneLoaded:!0});const e=s.object3D.getObjectByName("scene-preview-camera");e?(console.log("Setting up preview camera"),c.object3D.position.copy(e.position),c.object3D.rotation.copy(e.rotation),c.object3D.matrixNeedsUpdate=!0):console.warn("No preview camera found"),c.setAttribute("scene-preview-camera","");const t=o.childNodes[0];u.updateEnvironment(t)});const l=(yield Object(i.e)("/api/v1/scenes/".concat(t))).scenes[0];if(!l)return void r({unavailable:!0});l.allow_promotion?Object(z.a)("/scene/".concat(t),"Hubs Scene: ".concat(l.title)):Object(z.a)("/scene","Hubs Non-Promotable Scene Page");const h=l.model_url;console.log("Scene Model URL: ".concat(h)),s.setAttribute("gltf-model-plus",{src:h,useCache:!1,inflate:!0}),s.addEventListener("model-loaded",({detail:{model:e}})=>o.emit("environment-scene-loaded",e)),o.appendChild(s),a.appendChild(o);const f=l.parent_scene_id&&(yield Object(i.e)("/api/v1/scenes/".concat(l.parent_scene_id))).scenes[0];r({sceneName:l.name,sceneDescription:l.description,sceneAttributions:l.attributions,sceneScreenshotURL:l.screenshot_url,sceneId:l.scene_id,sceneProjectId:l.project_id,sceneAllowRemixing:l.allow_remixing,isOwner:l.account_id&&l.account_id===window.APP.store.credentialsAccountId,parentScene:f})},function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){V(i,r,a,o,s,"next",e)}function s(e){V(i,r,a,o,s,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}();document.addEventListener("DOMContentLoaded",X)},167:function(e,t,n){"use strict";function r(e,t){return e&&e.components&&e.components.tags&&e.components.tags.data[t]}n.d(t,"a",(function(){return r})),AFRAME.registerComponent("tags",{schema:{isHandCollisionTarget:{default:!1},isHoldable:{default:!1},offersHandConstraint:{default:!1},offersRemoteConstraint:{default:!1},togglesHoveredActionSet:{default:!1},singleActionButton:{default:!1},holdableButton:{default:!1},isPen:{default:!1},isHoverMenuChild:{default:!1},isStatic:{default:!1},inspectable:{default:!1},preventAudioBoost:{default:!1},ignoreSpaceBubble:{default:!1}},update(){this.didUpdateOnce&&console.warn("Do not edit tags with .setAttribute"),this.didUpdateOnce=!0},remove(){const e=this.el.sceneEl.systems.interaction;e.isHeld(this.el)&&(e.release(this.el),this.el.sceneEl.systems["hubs-systems"].constraintsSystem.release(this.el))}})},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"j",(function(){return L})),n.d(t,"n",(function(){return S})),n.d(t,"p",(function(){return k})),n.d(t,"g",(function(){return M})),n.d(t,"c",(function(){return T})),n.d(t,"e",(function(){return R})),n.d(t,"m",(function(){return C})),n.d(t,"k",(function(){return P})),n.d(t,"b",(function(){return D})),n.d(t,"o",(function(){return I})),n.d(t,"h",(function(){return Z})),n.d(t,"i",(function(){return U})),n.d(t,"d",(function(){return N})),n.d(t,"f",(function(){return B})),n.d(t,"l",(function(){return z}));var r=n(80),a=n(8),i=n(391),o=n.n(i),s=n(37),c=n(97),u=n(356),l=n(19),d=n(78),h=n(256),f=n.n(h),p=n(281),m=n.n(p),g=n(212);function v(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,s,"next",e)}function s(e){v(i,r,a,o,s,"throw",e)}o(void 0)}))}}const y={ALL:"all",ALL_2D:"all-2d",MODEL:"model",IMAGE:"image",VIDEO:"video",PDF:"pdf"},w=f()();w.tlds(m.a);const E=Object(a.j)("/api/v1/media"),x=AFRAME.utils.device.isMobile(),_=AFRAME.utils.device.isMobile(),A=new Map,L=(e=!1)=>{const t=x||_;return e?t?"low_360":"high_360":t?"low":"high"},S=function(){var e=b((function*(e,t=null,n=1,r){const a="".concat(e,"_").concat(n);if(!r&&A.has(a))return A.get(a);const i=fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({media:{url:e,quality:t||L()},version:n})}).then(function(){var t=b((function*(t){if(!t.ok){const n='Error resolving url "'.concat(e,'":');try{const e=yield t.text();throw new Error(n+" "+e)}catch(e){throw new Error(n+" "+t.statusText)}}return t.json()}));return function(e){return t.apply(this,arguments)}}());return A.set(a,i),i}));return function(t){return e.apply(this,arguments)}}(),k=(e,t)=>{const n=new FormData;return n.append("media",e),n.append("promotion_mode","with_token"),t&&n.append("desired_content_type",t),fetch(Object(a.f)("/api/v1/media"),{method:"POST",body:n}).then(e=>e.json())};function M(e){return w.test(e)?e.indexOf("://")>=0?e:"https://".concat(e):e}const T=(e,t,n,a=null,i=!1,o=!1,s=!0,c={},u=!0,d=null,h=null)=>{const f=AFRAME.scenes[0],p=document.createElement("a-entity");if(u)p.setAttribute("networked",{template:t});else{const e=document.importNode(document.body.querySelector(t).content,!0).firstElementChild.cloneNode(!0),n=e.attributes;for(let e=0;e<n.length;e++)p.setAttribute(n[e].name,n[e].value);for(;e.firstElementChild;)p.appendChild(e.firstElementChild)}const m=e instanceof File,g=function(e){const t=document.querySelectorAll("[media-loader]");let n=1;for(const r of t){const t=r.components["media-loader"];t.data&&t.data.src===e&&(n=Math.max(n,t.data.version))}return n}(e);p.setAttribute("media-loader",{fitToBox:o,resolve:i,animate:s,src:"string"==typeof e?M(e)||e:"",version:g,contentSubtype:a,fileIsOwned:!m,linkedEl:h,mediaOptions:c}),p.object3D.matrixNeedsUpdate=!0,(d||f).appendChild(p);const v=new Promise((function(t){m?function(e,t){const n=new FileReader;n.onload=function(e){const n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return t(-2);const r=n.byteLength;let a=2;for(;a<r;){if(n.getUint16(a+2,!1)<=8)return t(-1);const e=n.getUint16(a,!1);if(a+=2,65505==e){if(1165519206!=n.getUint32(a+=2,!1))return t(-1);const e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);const r=n.getUint16(a,e);a+=2;for(let i=0;i<r;i++)if(274==n.getUint16(a+12*i,e))return t(n.getUint16(a+12*i+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return t(-1)},n.readAsArrayBuffer(e)}(e,e=>{t(e)}):t(1)}));if(m){const t="video-camera"===a?"video/mp4":e.type||Object(l.c)(e.name);k(e,t).then(e=>{const t=new URL(Object(l.j)(e.origin));t.searchParams.set("token",e.meta.access_token),p.setAttribute("media-loader",{resolve:!1,src:t.href,fileId:e.file_id}),window.APP.store.update({uploadPromotionTokens:[{fileId:e.file_id,promotionToken:e.meta.promotion_token}]})}).catch(e=>{console.error("Media upload failed",e),p.setAttribute("media-loader",{src:"error"})})}else e instanceof MediaStream&&p.setAttribute("media-loader",{src:"hubs://clients/".concat(NAF.clientId,"/video")});return n&&p.addEventListener("media_resolved",({detail:e})=>{const t=Object(r.c)(n,e.contentType,e.src);f.emit("object_spawned",{objectType:t})}),{entity:p,orientation:v}},R=(e,t,n=null,a=!0,i=!1,o=null)=>{n||({src:n}=e.components["media-loader"].data);const{contentSubtype:s,fitToBox:c,mediaOptions:u}=e.components["media-loader"].data;return T(n,t,r.a.URL,s,!0,c,!1,u,a,o,i?e:null)};function C(e){const t=[],n=AFRAME.scenes[0].systems["hubs-systems"].batchManagerSystem;return e.traverse(r=>{r.material&&!r.isTroikaText&&(r.reflectionProbeMode="dynamic",Object(s.e)(r,a=>{if(a.hubs_InjectedCustomShaderChunks)return a;if(!u.a.includes(a.type))return a;if(r.el&&(r.el.classList.contains("ui")||r.el.classList.contains("hud")||r.el.getAttribute("text-button")))return a;n.batchingEnabled&&n.meshToEl.set(r,e.el);const i=a.clone();return i.onBeforeCompile=(e,n)=>{-1!=e.vertexShader.indexOf("#include <skinning_vertex>")&&(a.onBeforeCompile&&a.onBeforeCompile(e,n),e.uniforms.hubs_IsFrozen={value:!1},e.uniforms.hubs_EnableSweepingEffect={value:!1},e.uniforms.hubs_SweepParams={value:[0,0]},e.uniforms.hubs_InteractorOnePos={value:[0,0,0]},e.uniforms.hubs_InteractorTwoPos={value:[0,0,0]},e.uniforms.hubs_HighlightInteractorOne={value:!1},e.uniforms.hubs_HighlightInteractorTwo={value:!1},e.uniforms.hubs_Time={value:0},e.vertexShader=["varying vec3 hubs_WorldPosition;","uniform bool hubs_IsFrozen;","uniform bool hubs_HighlightInteractorOne;","uniform bool hubs_HighlightInteractorTwo;\n"].join("\n")+e.vertexShader.replace("#include <skinning_vertex>","#include <skinning_vertex>\n             if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\n              vec4 wt = modelMatrix * vec4(transformed, 1);\n\n              // Used in the fragment shader below.\n              hubs_WorldPosition = wt.xyz;\n            }"),e.fragmentShader=["varying vec3 hubs_WorldPosition;","uniform bool hubs_IsFrozen;","uniform bool hubs_EnableSweepingEffect;","uniform vec2 hubs_SweepParams;","uniform bool hubs_HighlightInteractorOne;","uniform vec3 hubs_InteractorOnePos;","uniform bool hubs_HighlightInteractorTwo;","uniform vec3 hubs_InteractorTwoPos;","uniform float hubs_Time;\n"].join("\n")+e.fragmentShader.replace("#include <output_fragment>","#include <output_fragment>\n"+o.a),t.push(e.uniforms))},i.needsUpdate=!0,i.hubs_InjectedCustomShaderChunks=!0,i}))}),t}function P(e){return window.APP.store.state.uploadPromotionTokens.find(t=>t.fileId===e)}const O=new THREE.Vector3;function D(e,t,n,r,a=!1,i=.75){const{entity:o,orientation:s}=T(t,"#interactable-media",void 0,n,!1),c=e.object3D.position;o.object3D.position.set(c.x,c.y,c.z),o.object3D.rotation.copy(e.object3D.rotation),a&&o.object3D.rotateY(Math.PI);const u=r%6+3;O.set(Math.cos(2*Math.PI*(u/6))*i,Math.sin(2*Math.PI*(u/6))*i,.001*u-.05),e.object3D.localToWorld(O),o.object3D.visible=!1;const l=()=>{o.object3D.visible=!0,o.setAttribute("animation__photo_pos",{property:"position",dur:800,from:{x:c.x,y:c.y,z:c.z},to:{x:O.x,y:O.y,z:O.z},easing:"easeOutElastic"})};let d=null;if(n.startsWith("photo"))o.addEventListener("image-loaded",l,{once:!0}),d="photo";else{if(!n.startsWith("video"))return void console.error("invalid type "+n);o.addEventListener("video-loaded",l,{once:!0}),d="video"}return o.object3D.matrixNeedsUpdate=!0,o.addEventListener("media_resolved",()=>{e.emit("".concat(d,"_taken"),o.components["media-loader"].data.src)},{once:!0}),{entity:o,orientation:s}}const I=(new c.a).setCrossOrigin("anonymous");function Z(e,t){return j.apply(this,arguments)}function j(){return(j=b((function*(e,t){let n;if(t){const r=new Image;r.crossOrigin="anonymous";const a=new Promise(e=>r.addEventListener("load",e,{once:!0}));r.src=e,yield a;const i=document.createElement("canvas");i.width=r.width,i.height=r.height;const o=i.getContext("2d");o.drawImage(r,0,0),yield t(o,r.width,r.height),n=new THREE.CanvasTexture(i)}else try{n=yield I.loadAsync(e)}catch(t){throw new Error("'".concat(e,"' could not be fetched (Error code: ").concat(t.status,"; Response: ").concat(t.statusText,")"))}return n.encoding=THREE.sRGBEncoding,n.anisotropy=4,n}))).apply(this,arguments)}const F=Object(d.b)();function U(e){const t=document.createElement(e);return t.setAttribute("playsinline",""),t.setAttribute("webkit-playsinline",""),t.autoplay=!0,t.muted=F,t.preload="auto",t.crossOrigin="anonymous",t}function N(e,t,n){const r=function(){const t={};return function(n){const r=n.animatables[0].target;r.x=Math.max(Number.MIN_VALUE,r.x),r.y=Math.max(Number.MIN_VALUE,r.y),r.z=Math.max(Number.MIN_VALUE,r.z),r.x===t.x&&r.y===t.y&&r.z===t.z||(t.x=r.x,t.y=r.y,t.z=r.z,e.scale.set(r.x,r.y,r.z),e.matrixNeedsUpdate=!0)}}(),a={duration:400,easing:"easeOutElastic",elasticity:400,loop:0,round:!1,x:e.scale.x,y:e.scale.y,z:e.scale.z,targets:[t],update:e=>r(e),complete:e=>{r(e),n&&n()}};return e.scale.copy(t),e.matrixNeedsUpdate=!0,Object(g.default)(a)}function B(){const e=document.querySelector("#media-mirror-target");if(e.firstChild)return e.firstChild.setAttribute("animation__remove",{property:"scale",dur:200,to:{x:.01,y:.01,z:.01},easing:"easeInQuad"}),new Promise(t=>{e.firstChild.addEventListener("animationcomplete",()=>{e.removeChild(e.firstChild),e.parentEl.object3D.visible=!1,t()})})}function z(e){return!!e&&(void 0!==e.audioTracks?e.audioTracks.length>0:0===e.videoWidth&&0===e.videoHeight||(void 0!==e.mozHasAudio?e.mozHasAudio:void 0!==e.webkitAudioDecodedByteCount&&e.webkitAudioDecodedByteCount>0))}},170:function(e,t,n){"use strict";(function(e){function r(){var e,t=0,n=[],a=0,i=0;var o=f((function(e){i||c(1,e)})),s=f((function(e){i||c(-1,e)}));function c(n,r){i++;var a=0;try{r===g&&p();var o=n>0&&h(r);o?o.call(r,f((function(e){a++,c(1,e)})),f((function(e){a++,c(-1,e)}))):(t=n,e=r,u())}catch(e){t||a||c(-1,e)}}function u(){a||(setTimeout(l,0),a=1)}function l(){var e=n;a=0,n=[],e.forEach(d)}function d(e){e()}function h(e){var t=e&&(m(e)||"object"==typeof e)&&e.then;return m(t)&&t}function f(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function p(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"==typeof e},g={then:function(a,i){var o=r();return n.push((function(){var n=t>0?a:i;if(m(n))try{var r=n(e);r===o&&p();var s=h(r);s?s.call(r,o.resolve,o.reject):o.resolve(r)}catch(e){o.reject(e)}else o[t>0?"resolve":"reject"](e)})),t&&u(),o},resolve:o,reject:s};return g}function a(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),r.all=a.all=function(e){var t=0,n=[],r=i();return 0===e.length?r.resolve([]):e.forEach((function(a,o){var s=i();s.resolve(a),s.then((function(a){t++,n[o]=a,t===e.length&&r.resolve(n)}),r.reject)})),r};var i="function"==typeof Promise?a:r;function o(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(e){console.error(e)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,a=r.messageId,i=r.action,o=r.data;try{"registerModule"===i&&function n(r,a){var i=r.id,o=r.name,s=r.dependencies;void 0===s&&(s=[]);var c=r.init;void 0===c&&(c=function(){});var u=r.getTransferables;if(void 0===u&&(u=null),!e[i])try{s=s.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),c=t("<"+o+">.init",c),u&&(u=t("<"+o+">.getTransferables",u));var l=null;"function"==typeof c?l=c.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:l,getTransferables:u},a(l)}catch(e){e&&e.noLog||console.error(e),a(e)}}(o,(function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})})),"callModule"===i&&function(t,n){var r,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||n(new Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var o=(r=e[a]).value.apply(r,i);o&&"function"==typeof o.then?o.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(o)}catch(e){n(e)}function s(t){try{var r=e[a].getTransferables&&e[a].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(e){console.error(e),n(e)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)}))}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}}))}var s=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return s=function(){return e},e},c=0,u=0,l=!1,d=Object.create(null),h=Object.create(null),f=Object.create(null);function p(e){if(!(e&&"function"==typeof e.init||l))throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,a=e.workerId;if(!s())return function(e){var t=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t._getInitResult().then((function(t){if("function"==typeof t)return t.apply(void 0,e);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var a=i.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return a},a},t}(e);null==a&&(a="#default");var o="workerModule"+ ++c,u=e.name||o,d=null;function f(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!d){d=v(a,"registerModule",f.workerModuleData);var n=function(){d=null,h[a].delete(n)};(h[a]||(h[a]=new Set)).add(n)}return d.then((function(t){if(t.isCallable)return v(a,"callModule",{id:o,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!=typeof e||e.workerModuleData||(l=!0,e=p({workerId:a,name:"<"+u+"> function dependency: "+e.name,init:"function(){return (\n"+g(e)+"\n)}"}),l=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),f.workerModuleData={isWorkerModule:!0,id:o,name:u,dependencies:t,init:g(n),getTransferables:r&&g(r)},f}function m(e){h[e]&&h[e].forEach((function(e){e()})),d[e]&&(d[e].terminate(),delete d[e])}function g(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function v(e,t,n){var r=i(),a=++u;return f[a]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=d[e];if(!t){var n=g(o);(t=d[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=f[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete f[n],r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),r}var b=p({name:"Thenable",dependencies:[i],init:function(e){return e}})}).call(this,n(94))},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return F}));var r=n(153),a=n(37),i=n(282),o=n.n(i),s=n(19),c=n(213),u=n(231),l=n(11),d=n(97),h=n(289),f=n(358),p=n(287),m=n(359);function g(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){g(i,r,a,o,s,"next",e)}function s(e){g(i,r,a,o,s,"throw",e)}o(void 0)}))}}THREE.Mesh.prototype.raycast=u.b;const b=new class{constructor(){this.cache=new Map}set(e,t){return this.cache.set(e,{gltf:t,count:0}),this.retain(e)}has(e){return this.cache.has(e)}get(e){return this.cache.get(e)}retain(e){const t=this.cache.get(e);return t.count++,t}release(e){const t=this.cache.get(e);t?(t.count--,t.count<=0&&(t.gltf.scene.traverse(l.h),this.cache.delete(e))):console.error("Releasing uncached gltf ".concat(e))}},y=new Map,w=Object(c.a)(new o.a);function E(e,t,n){if(AFRAME.components[t])if(AFRAME.components[t].multiple&&Array.isArray(n))for(let r=0;r<n.length;r++)e.setAttribute(t+"__"+r,n[r]);else e.setAttribute(t,n);else console.warn('Inflator failed. "'.concat(t,'" component does not exist.'))}function x(e){return{animations:e.scene.animations,scene:Object(l.e)(e.scene)}}function _(e){const t=e.userData.gltfExtensions&&(e.userData.gltfExtensions.MOZ_hubs_components||e.userData.gltfExtensions.HUBS_components),n=e.userData.components;return t||n}function A(e){const t=e.material;return t?_(t):null}AFRAME.GLTFModelPlus={components:{},registerComponent(e,t,n){n=n||E,AFRAME.GLTFModelPlus.components[e]={inflator:n,componentName:t}}};const L=function(e,t,n,r,a=1){"Chest"===t.name?t.name="Spine":"Root Scene"===t.name?t.name="AvatarRoot":"Bot_Skinned"===t.name&&(t.name="AvatarMesh");const i=[],o=t.children.slice(0);for(const t of o){const r=L(e,t,n);r&&i.push(r)}const s=_(t),c=A(t);if(!(!!s||!!c||t.name in n)&&!i.length&&!r)return null;const u=document.createElement("a-entity");u.append.apply(u,i);const l=(t.name||t.uuid).replace(/[^\w-]/g,"");u.classList.add(l),"YXZ"!==t.rotation.order&&t.rotation.setFromQuaternion(t.quaternion,"YXZ"),u.object3D.position.copy(t.position),u.object3D.rotation.copy(t.rotation),u.object3D.scale.copy(t.scale).multiplyScalar(a),u.object3D.matrixNeedsUpdate=!0,t.matrixAutoUpdate=!1,t.matrix.identity(),t.matrix.decompose(t.position,t.rotation,t.scale),u.setObject3D(t.type.toLowerCase(),t),s&&"nav-mesh"in s&&u.setObject3D("mesh",t),u.object3D.name=t.name,u.object3D.uuid=t.uuid,t.uuid=THREE.Math.generateUUID(),t.animations&&(t.parent.animations=t.animations),t.morphTargetInfluences&&(t.parent.morphTargetInfluences=t.morphTargetInfluences);const d=t.userData.gltfIndex;return void 0!==d&&(e[d]=u),u};function S(){return(S=v((function*(e,t){let n=!0;const r=[];e.object3D.traverse(function(){var e=v((function*(e){const a={};a.promise=new Promise(e=>a.resolve=e),r.push(a),n||(yield r.shift().promise),n=!1;const i=_(e),o=e.el;function s(e){for(const n in e){const r=e[n];"node"===(null==r?void 0:r.__mhc_link_type)&&void 0!==r.index&&(t[r.index]?e[n]=t[r.index].object3D:(console.warn("inflateComponents: invalid node reference",n),e[n]=null))}return e}if(i&&o)for(const e in i)if(i.hasOwnProperty(e)&&AFRAME.GLTFModelPlus.components.hasOwnProperty(e)){const{componentName:n,inflator:r}=AFRAME.GLTFModelPlus.components[e];yield r(o,n,s(i[e]),i,t)}const c=A(e);if(c&&o)for(const e in c)if(c.hasOwnProperty(e)&&AFRAME.GLTFModelPlus.components.hasOwnProperty(e)){const{componentName:n,inflator:r}=AFRAME.GLTFModelPlus.components[e];yield r(o,n,s(c[e]),c,t)}a.resolve()}));return function(t){return e.apply(this,arguments)}}()),yield r.shift().promise}))).apply(this,arguments)}function k(e,t,n){const r=e.querySelectorAll("."+t);for(const e of r){const t=n.cloneNode(!0);for(const n of t.attributes){const{name:t,value:r}=n;e.setAttribute(t,r)}for(;t.children.length>0;)e.appendChild(t.children[0])}}function M(e){return e.extensions&&e.extensions.MOZ_hubs_components?e.extensions.MOZ_hubs_components:e.extensions&&e.extensions.HUBS_components?e.extensions.HUBS_components:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components?e.extras.gltfExtensions.MOZ_hubs_components:void 0}let T,R;class C{constructor(e,t){this.parser=e,this.jsonPreprocessor=t,e.textureLoader=new d.a(e.options.manager)}beforeRoot(){const e=this.parser,t=this.jsonPreprocessor;t&&(e.json=t(e.json));let n=0;e.json.extensions&&e.json.extensions.MOZ_hubs_components&&e.json.extensions.MOZ_hubs_components.hasOwnProperty("version")&&(n=e.json.extensions.MOZ_hubs_components.version),function(e,t){if(e<2){const e=t.nodes.find(e=>{const t=M(e);return t&&t.heightfield&&t["nav-mesh"]});e&&(e.extensions&&e.extensions.MOZ_hubs_components?delete e.extensions.MOZ_hubs_components.heightfield:e.extensions&&e.extensions.HUBS_components?delete e.extensions.HUBS_components.heightfield:e.extras&&e.extras.gltfExtensions&&e.extras.gltfExtensions.MOZ_hubs_components&&delete e.extras.gltfExtensions.MOZ_hubs_components)}if(e<4&&t.nodes)for(const e of t.nodes){const t=M(e);if(!t)continue;const n=t["spot-light"]||t["point-light"];n&&0===n.range&&(n.decay=0)}}(n,e.json);const r=e.json.nodes;if(r)for(let e=0;e<r.length;e++){const t=r[e];t.extras||(t.extras={}),t.extras.gltfIndex=e}}afterRoot(e){if(e.scene.traverse(e=>{e.matrixAutoUpdate=THREE.Object3D.DefaultMatrixAutoUpdate;const t=window.APP.store.state.preferences.materialQualitySetting;Object(a.e)(e,e=>Object(a.a)(e,t))}),e.animations)for(const t of e.animations)for(const n of t.tracks){const t=THREE.PropertyBinding.parseTrackName(n.name);for(const r of e.scenes){const e=THREE.PropertyBinding.findNode(r,t.nodeName);if(e){n.name=n.name.replace(/^[^.]*\./,e.uuid+".");break}}}e.scene.animations=e.animations}}class P{constructor(e){this.parser=e,this.name="MOZ_hubs_components"}afterRoot({scenes:e,parser:t}){const n=[],r=(e,r)=>{var a,i;const o=null===(a=t.associations.get(r))||void 0===a?void 0:a[e];if(void 0===o)return;const s=null===(i=t.json[e][o].extensions)||void 0===i?void 0:i[this.name];if(s){r.userData.gltfExtensions=Object.assign(r.userData.gltfExtensions||{},{MOZ_hubs_components:s});for(const e in s){const r=s[e];for(const e in r){const a=r[e],i=null==a?void 0:a.__mhc_link_type;i&&void 0!==a.index&&n.push(t.getDependency(i,a.index).then(n=>{var o;if("node"!==i)return"texture"!==i||(null===(o=t.json.textures[a.index].extensions)||void 0===o?void 0:o.MOZ_texture_rgbe)||(n.encoding=THREE.sRGBEncoding),r[e]=n,n}))}}}};for(let n=0;n<e.length;n++)t.associations.set(e[n],{scenes:n}),e[n].traverse(e=>{r("scenes",e),r("nodes",e),Object(a.d)(e,r.bind(this,"materials"))});return Promise.all(n)}}class O{constructor(e){this.parser=e,this.name="MOZ_lightmap"}loadMaterial(e){const t=this.parser,n=t.json.materials[e];if(!n.extensions||!n.extensions[this.name])return null;const r=n.extensions[this.name],a=[];return a.push(t.loadMaterial(e)),a.push(t.getDependency("texture",r.index)),Promise.all(a).then(e=>{const t=e[0],n=e[1];return t.lightMap=n,t.lightMapIntensity=void 0!==r.intensity?r.intensity:1,t})}}class D{constructor(e){this.parser=e,this.name="MOZ_HUBS_texture_basis",this.basisLoader=null}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;if(null===this.basisLoader&&(this.basisLoader=new p.a(t.options.manager).detectSupport(AFRAME.scenes[0].renderer)),!this.basisLoader)return null;console.warn("The ".concat(this.name," extension is deprecated, you should use KHR_texture_basisu instead."));const a=r.extensions[this.name],i=n.images[a.source];return t.loadTextureImage(e,i,this.basisLoader)}}class I{constructor(e,t){this.parser=e,this.loader=t,this.name="MOZ_texture_rgbe"}loadTexture(e){const t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],i=n.images[a.source];return t.loadTextureImage(e,i,this.loader).then(e=>(e.minFilter==THREE.NearestMipmapNearestFilter||e.minFilter==THREE.NearestMipmapLinearFilter?e.minFilter=THREE.NearestFilter:e.minFilter!=THREE.LinearMipmapNearestFilter&&e.minFilter!=THREE.LinearMipmapLinearFilter||(e.minFilter=THREE.LinearFilter),e))}}function Z(e,t,n,r){return j.apply(this,arguments)}function j(){return(j=v((function*(e,t,n,r){let a,i=e;t&&(t.includes("model/gltf+zip")||t.includes("application/x-zip-compressed"))&&(a=yield w(i),i=a["scene.gtlf"]);const o=new THREE.LoadingManager;o.setURLModifier(Object(s.b)(i));const c=new THREE.GLTFLoader(o);return c.register(e=>new P(e)).register(e=>new C(e,r)).register(e=>new O(e)).register(e=>new D(e)).register(e=>new I(e,(new f.a).setDataType(THREE.HalfFloatType))),!T&&AFRAME&&AFRAME.scenes&&AFRAME.scenes[0]&&(T=new h.a(o).detectSupport(AFRAME.scenes[0].renderer)),!R&&AFRAME&&AFRAME.scenes&&AFRAME.scenes[0]&&(R=new m.a(o)),T&&c.setKTX2Loader(T),R&&c.setDRACOLoader(R),new Promise((e,t)=>{c.load(i,e,n,t)}).finally(()=>{a&&Object.keys(a).forEach(URL.revokeObjectURL)})}))).apply(this,arguments)}function F(e){return U.apply(this,arguments)}function U(){return(U=v((function*(e,t=null,n=!1,r=null){if(console.log("Loading model ".concat(e)),n){if(b.has(e))return b.retain(e),x(b.get(e).gltf);if(y.has(e)){const t=yield y.get(e);return b.retain(e),x(t)}{const n=Z(e,t,null,r);y.set(e,n);const a=yield n;return y.delete(e),b.set(e,a),x(a)}}return Z(e,t,null,r)}))).apply(this,arguments)}function N(e){if(e&&"#"===e.charAt(0)){const t=document.getElementById(e.substring(1));if(t)return t.getAttribute("src")}return e}AFRAME.registerComponent("gltf-model-plus",{schema:{src:{type:"string"},contentType:{type:"string"},useCache:{default:!0},inflate:{default:!1},batch:{default:!1},modelToWorldScale:{type:"number",default:1}},init(){this.jsonPreprocessor=null,this.loadTemplates()},play(){this.el.components["listed-media"]&&this.el.sceneEl.emit("listed_media_changed")},update(){this.applySrc(N(this.data.src),this.data.contentType)},remove(){if(this.data.batch&&this.model&&this.el.sceneEl.systems["hubs-systems"].batchManagerSystem.removeObject(this.el.object3DMap.mesh),this.data.useCache){const e=N(this.data.src);e&&b.release(e)}},loadTemplates(){this.templates={},this.el.querySelectorAll(":scope > template").forEach(e=>{const t=document.importNode(e.firstElementChild||e.content.firstElementChild,!0);this.templates[e.getAttribute("data-name")]=t})},applySrc(e,t){var n=this;return v((function*(){try{if(e===n.lastSrc)return;const a=n.lastSrc;if(n.lastSrc=e,!e)return void(n.inflatedEl&&(console.warn("gltf-model-plus set to an empty source, unloading inflated model."),n.disposeLastInflatedEl()));n.el.emit("model-loading");const i=yield F(e,t,n.data.useCache,n.jsonPreprocessor);if(e!=n.lastSrc)return;n.disposeLastInflatedEl(),n.model=i.scene,n.data.batch&&n.el.sceneEl.systems["hubs-systems"].batchManagerSystem.addObject(n.model),i.animations.length>0?(n.el.setAttribute("animation-mixer",{}),n.el.components["animation-mixer"].initMixer(n.model.animations)):n.model.traverse(e=>{const t=e.isMesh&&e.geometry.isBufferGeometry,n=t&&e.geometry.boundsTree;if(t&&!n&&e.geometry.attributes.position){const t=e.geometry;if(t.attributes.position.isInterleavedBufferAttribute||t.index&&t.index.isInterleavedBufferAttribute)return void console.warn("Skipping generaton of MeshBVH for interleaved geoemtry as it is not supported");const n=t.index?t.index.count/3:t.attributes.position.count/3;n>1e3&&n<1e6&&(t.boundsTree=new u.a(e.geometry,{strategy:0,maxDepth:30}))}});const o={};let s=n.model;if(n.data.inflate&&(n.inflatedEl=L(o,n.model,n.templates,!0,n.data.modelToWorldScale))){if(n.el.appendChild(n.inflatedEl),s=n.inflatedEl.object3D,s.visible=!1,yield Object(r.a)(),e!=n.lastSrc)return;yield function(e,t){return S.apply(this,arguments)}(n.inflatedEl,o);for(const e in n.templates)k(n.el,e,n.templates[e])}const c=[];s.traverse(e=>{const t=e.el;t&&c.push(()=>e.el=t)}),a&&n.data.useCache&&b.release(a),n.el.setObject3D("mesh",s),c.forEach(e=>e()),s.visible=!0,n.el.emit("model-loaded",{format:"gltf",model:s})}catch(t){b.release(e),console.error("Failed to load glTF model",t,n),n.el.emit("model-error",{format:"gltf",src:e})}}))()},disposeLastInflatedEl(){this.inflatedEl&&(this.inflatedEl.parentNode.removeChild(this.inflatedEl),this.inflatedEl.object3D.traverse(e=>{e.material&&e.material.dispose&&e.material.dispose(),e.geometry&&(e.geometry.dispose&&e.geometry.dispose(),e.geometry.boundsTree=null)}),delete this.inflatedEl,this.el.removeAttribute("animation-mixer"))}})},185:function(e,t,n){"use strict";var r=n(100),a=n(134);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=y(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),d=["%","/","?",";","#"].concat(l),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(135);function y(e,t,n){if(e&&a.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var E=o.exec(y);if(E){var x=(E=E[0]).toLowerCase();this.protocol=x,y=y.substr(E.length)}if(n||E||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===y.substr(0,2);!_||E&&g[E]||(y=y.substr(2),this.slashes=!0)}if(!g[E]&&(_||E&&!v[E])){for(var A,L,S=-1,k=0;k<h.length;k++){-1!==(M=y.indexOf(h[k]))&&(-1===S||M<S)&&(S=M)}-1!==(L=-1===S?y.lastIndexOf("@"):y.lastIndexOf("@",S))&&(A=y.slice(0,L),y=y.slice(L+1),this.auth=decodeURIComponent(A)),S=-1;for(k=0;k<d.length;k++){var M;-1!==(M=y.indexOf(d[k]))&&(-1===S||M<S)&&(S=M)}-1===S&&(S=y.length),this.host=y.slice(0,S),y=y.slice(S),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var R=this.hostname.split(/\./),C=(k=0,R.length);k<C;k++){var P=R[k];if(P&&!P.match(f)){for(var O="",D=0,I=P.length;D<I;D++)P.charCodeAt(D)>127?O+="x":O+=P[D];if(!O.match(f)){var Z=R.slice(0,k),j=R.slice(k+1),F=P.match(p);F&&(Z.push(F[1]),j.unshift(F[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=Z.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+U,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[x])for(k=0,C=l.length;k<C;k++){var B=l[k];if(-1!==y.indexOf(B)){var z=encodeURIComponent(B);z===B&&(z=escape(B)),y=y.split(B).join(z)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var G=y.indexOf("?");if(-1!==G?(this.search=y.substr(G),this.query=y.substr(G+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,G)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(a.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",b=n.search||"";n.path=m+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=w||y||n.host&&e.pathname,x=E,_=n.pathname&&n.pathname.split("/")||[],A=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(A&&(n.hostname="",n.port=null,n.host&&(""===_[0]?_[0]=n.host:_.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),E=E&&(""===p[0]||""===_[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,_=p;else if(p.length)_||(_=[]),_.pop(),_=_.concat(p),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(A)n.hostname=n.host=_.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!_.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=_.slice(-1)[0],S=(n.host||e.host||_.length>1)&&("."===L||".."===L)||""===L,k=0,M=_.length;M>=0;M--)"."===(L=_[M])?_.splice(M,1):".."===L?(_.splice(M,1),k++):k&&(_.splice(M,1),k--);if(!E&&!x)for(;k--;k)_.unshift("..");!E||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),S&&"/"!==_.join("/").substr(-1)&&_.push("");var T,R=""===_[0]||_[0]&&"/"===_[0].charAt(0);A&&(n.hostname=n.host=R?"":_.length?_.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(E=E||n.host&&_.length)&&!R&&_.unshift(""),_.length?n.pathname=_.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},19:function(e,t,n){"use strict";n.d(t,"l",(function(){return L})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return k})),n.d(t,"a",(function(){return M})),n.d(t,"k",(function(){return T})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return P})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return B})),n.d(t,"f",(function(){return H})),n.d(t,"e",(function(){return G})),n.d(t,"d",(function(){return V}));var r=n(8),a=n(4),i=n(216),o=n.n(i),s=n(217),c=n.n(s),u=n(285),l=n.n(u),d=n(286),h=n.n(d);function f(e,t){f=function(e,t){return new i(e,t)};var n=m(RegExp),r=RegExp.prototype,a=new WeakMap;function i(e,t){var r=n.call(this,e);return a.set(r,t),r}function o(e,n){var r=a.get(n);return Object.keys(t).reduce((function(t,n){return t[n]=e[r[n]],t}),Object.create(null))}return p(i,n),i.prototype.exec=function(e){var t=r.exec.call(this,e);return t&&(t.groups=o(t,this)),t},i.prototype[Symbol.replace]=function(e,t){if("string"==typeof t){var n=a.get(this);return r[Symbol.replace].call(this,e,t.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+n[t]})))}if("function"==typeof t){var i=this;return r[Symbol.replace].call(this,e,(function(){var e=[];return e.push.apply(e,arguments),"object"!=typeof e[e.length-1]&&e.push(o(e,i)),t.apply(this,e)}))}return r[Symbol.replace].call(this,e,t)},f.apply(this,arguments)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return v(e,arguments,y(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,e)})(e)}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e,t,n){return(v=g()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&b(a,n.prototype),a}).apply(null,arguments)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){w(i,r,a,o,s,"next",e)}function s(e){w(i,r,a,o,s,"throw",e)}o(void 0)}))}}const x=(a.a.NON_CORS_PROXY_DOMAINS||"").split(",");a.a.CORS_PROXY_SERVER&&x.push(a.a.CORS_PROXY_SERVER.split(":")[0]),x.push(document.location.hostname);const _={gltf:"model/gltf",glb:"model/gltf-binary",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",pdf:"application/pdf",mp4:"video/mp4",mp3:"audio/mpeg",basis:"image/basis",ktx2:"image/ktx2",m3u8:"application/vnd.apple.mpegurl",mpd:"application/dash+xml"};const A=e=>{return(t=e,btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode("0x"+t)))).replace(/=+$/g,"").replace(/\+/g,"-").replace(/\//g,"_");var t},L=(e,t,n)=>{let i="";try{const t=new URL(e).pathname.split(".");if(t.length>1){const e=t.pop();_[e]&&(i=".".concat(e))}}catch(e){i=".png"}const o="https://".concat(a.a.THUMBNAIL_SERVER,"/thumbnail/").concat(A(e)).concat(i,"?w=").concat(t,"&h=").concat(n);try{const t=new URL(e).hostname;if(Object(r.m)()){if(new URL("https://".concat(a.a.RETICULUM_SERVER)).hostname===t)return e}}catch(e){return o}return o},S=e=>x.find(t=>e.endsWith(t)),k=e=>{if(!e.startsWith("http:")&&!e.startsWith("https:"))return e;try{const t=new URL(e);if(S(t.hostname))return e}catch(e){}return"https://".concat(a.a.CORS_PROXY_SERVER,"/").concat(e)};function M(e,t){return function(e,t){return new URL(t,e)}(e,t).href}const T=function(e){return"basis_transcoder.js"===e?o.a:"basis_transcoder.wasm"===e?c.a:e},R=e=>t=>{if("basis_transcoder.js"===t)return o.a;if("basis_transcoder.wasm"===t)return c.a;if("draco_wasm_wrapper.js"===t)return l.a;if("draco_decoder.wasm"===t)return h.a;if("string"!=typeof t||""===t)return"";if(/^(https?:)?\/\//i.test(t))return k(t);if(/^data:.*,.*$/i.test(t))return t;if(/^blob:.*$/i.test(t))return t;if(a.a.CORS_PROXY_SERVER){const n="https://".concat(a.a.CORS_PROXY_SERVER,"/");if(e.startsWith(n)){const r=decodeURIComponent(e.substring(n.length)).split("/"),a=new URL(t).pathname;return n+(r.slice(0,r.length-1).join("/")+"/"+a)}}return t},C=/data:([a-zA-Z0-9]+\/[a-zA-Z0-9-.+]+).*,.*/,P=e=>{if(!e)return;if(e.startsWith("hubs://")&&e.endsWith("/video"))return"video/vnd.hubs-webrtc";if(e.startsWith("data:")){const t=C.exec(e);t.length>0&&t[1]}const t=new URL(e,window.location).pathname.split(".").pop();return _[t]},O=new Map;function D(e){return I.apply(this,arguments)}function I(){return(I=E((function*(e){if(!e)return!1;e.startsWith("http")||(e="https://"+e);const{origin:t}=new URL(e);if(O.has(t))return O.get(t);let n;try{n=(yield fetch(k(t),{method:"HEAD"})).headers.has("hub-name")}catch(e){n=!1}return O.set(t,n),n}))).apply(this,arguments)}const Z=/https?:\/\/[^/]+\/scenes\/[a-zA-Z0-9]{7}(?:\/|$)/,j=f(/https?:\/\/[\0-\.0-\uFFFF]+\/avatars\/([0-9A-Za-z]{7})(?:\/|$)/,{id:1}),F=f(/(https?:\/\/)?[\0-\.0-\uFFFF]+\/([0-9A-Za-z]{7})(?:\/|$)/,{id:2}),U=function(){var e=E((function*(e){return(yield D(e))&&new URL(e).origin===document.location.origin}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=E((function*(e){return(yield D(e))&&Z.test(e)}));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=E((function*(e){return(yield N(e))&&(yield U(e))}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=E((function*(e){return(yield D(e))&&j.test(e)}));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=E((function*(e){return(yield z(e))&&(yield U(e))}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=E((function*(e){var t;return(yield D(e))&&!(yield z(e))&&!(yield N(e))&&(null===(t=e.match(F))||void 0===t?void 0:t.groups.id)}));return function(t){return e.apply(this,arguments)}}(),V=e=>{const t=e.match(j);return t?t.groups.id:null}},2:function(e,t,n){"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}));const i={noop:"/noop",actions:{}};i.actions.log="/actions/log",i.actions.toggleScreenShare="/actions/toggleScreenShare",i.actions.snapRotateLeft="/actions/snapRotateLeft",i.actions.snapRotateRight="/actions/snapRotateRight",i.actions.angularVelocity="/actions/angularVelocity",i.actions.logDebugFrame="/actions/logDebugFrame",i.actions.logInteractionState="/actions/logInteractionState",i.actions.debugUserInput={},i.actions.debugUserInput.describeCurrentMasks="/actions/debugUserInput/describeCurrentMasks",i.actions.cameraDelta="/actions/cameraDelta",i.actions.lobbyCameraDelta="/actions/lobbyCameraDelta",i.actions.characterAcceleration="/actions/characterAcceleration",i.actions.dCharSpeed="/actions/dCharSpeed",i.actions.boost="/actions/boost",i.actions.startGazeTeleport="/actions/startTeleport",i.actions.stopGazeTeleport="/actions/stopTeleport",i.actions.spawnPen="/actions/spawnPen",i.actions.ensureFrozen="/actions/ensureFrozen",i.actions.toggleFreeze="/actions/toggleFreeze",i.actions.thaw="/actions/thaw",i.actions.muteMic="/actions/muteMic",i.actions.toggleFly="/actions/toggleFly",i.actions.toggleUI="/actions/toggleUI",i.actions.waypointDeltaDistance="/actions/waypointDeltaDistance",i.actions.focusChat="/actions/focusChat",i.actions.focusChatCommand="/actions/focusChatCommand",i.actions.toggleCamera="/actions/toggleCamera",i.actions.takeSnapshot="/actions/takeSnapshot",i.actions.mediaExit="/actions/mediaExit",i.actions.mediaSearch1="/actions/mediaSearch1",i.actions.mediaSearch2="/actions/mediaSearch2",i.actions.mediaSearch3="/actions/mediaSearch3",i.actions.mediaSearch4="/actions/mediaSearch4",i.actions.mediaSearch5="/actions/mediaSearch5",i.actions.mediaSearch6="/actions/mediaSearch6",i.actions.mediaSearch7="/actions/mediaSearch7",i.actions.mediaSearch8="/actions/mediaSearch8",i.actions.transformModifier="/actions/transformModifier",i.actions.rayObjectRotation="/actions/rayObjectRotation",i.actions.cursor={},i.actions.cursor.right={},i.actions.cursor.right.pose="/actions/cursor/right/Pose",i.actions.cursor.right.hideLine="/actions/cursor/right/HideLine",i.actions.cursor.right.grab="/actions/cursor/right/Grab",i.actions.cursor.right.drop="/actions/cursor/right/Drop",i.actions.cursor.right.modDelta="/actions/cursor/right/ModDelta",i.actions.cursor.right.startDrawing="/actions/cursor/right/StartDrawing",i.actions.cursor.right.stopDrawing="/actions/cursor/right/StopDrawing",i.actions.cursor.right.undoDrawing="/actions/cursor/right/UndoDrawing",i.actions.cursor.right.penNextColor="/actions/cursor/right/PenNextColor",i.actions.cursor.right.penPrevColor="/actions/cursor/right/PenPrevColor",i.actions.cursor.right.scalePenTip="/actions/cursor/right/ScalePenTip",i.actions.cursor.right.scaleGrabbedGrabbable="/actions/cursor/right/ScaleGrabbedGrabbable",i.actions.cursor.right.mediaVolumeMod="/actions/cursor/right//mediaVolumeMod",i.actions.cursor.right.takeSnapshot="/actions/cursor/right/TakeSnapshot",i.actions.cursor.right.wake="/actions/cursor/right/wake",i.actions.cursor.left={},i.actions.cursor.left.pose="/actions/cursor/left/Pose",i.actions.cursor.left.hideLine="/actions/cursor/left/HideLine",i.actions.cursor.left.grab="/actions/cursor/left/Grab",i.actions.cursor.left.drop="/actions/cursor/left/Drop",i.actions.cursor.left.modDelta="/actions/cursor/left/ModDelta",i.actions.cursor.left.startDrawing="/actions/cursor/left/StartDrawing",i.actions.cursor.left.stopDrawing="/actions/cursor/left/StopDrawing",i.actions.cursor.left.undoDrawing="/actions/cursor/left/UndoDrawing",i.actions.cursor.left.penNextColor="/actions/cursor/left/PenNextColor",i.actions.cursor.left.penPrevColor="/actions/cursor/left/PenPrevColor",i.actions.cursor.left.scalePenTip="/actions/cursor/left/ScalePenTip",i.actions.cursor.left.scaleGrabbedGrabbable="/actions/cursor/left/ScaleGrabbedGrabbable",i.actions.cursor.left.mediaVolumeMod="/actions/cursor/left//mediaVolumeMod",i.actions.cursor.left.takeSnapshot="/actions/cursor/left/TakeSnapshot",i.actions.cursor.left.wake="/actions/cursor/left/wake",i.actions.pen={},i.actions.pen.remove="/actions/pen/remove",i.actions.rightHand={},i.actions.rightHand.matrix="/actions/rightHand/matrix",i.actions.rightHand.pose="/actions/rightHandPose",i.actions.rightHand.grab="/actions/rightHandGrab",i.actions.rightHand.drop="/actions/rightHandDrop",i.actions.rightHand.modDelta="/actions/rightHandModDelta",i.actions.rightHand.startDrawing="/actions/rightHandStartDrawing",i.actions.rightHand.stopDrawing="/actions/rightHandStopDrawing",i.actions.rightHand.undoDrawing="/actions/rightHandUndoDrawing",i.actions.rightHand.switchDrawMode="/actions/rightHandSwitchDrawMode",i.actions.rightHand.penNextColor="/actions/rightHandPenNextColor",i.actions.rightHand.penPrevColor="/actions/rightHandPenPrevColor",i.actions.rightHand.scalePenTip="/actions/rightHandScalePenTip",i.actions.rightHand.startTeleport="/actions/rightHand/startTeleport",i.actions.rightHand.stopTeleport="/actions/rightHand/stopTeleport",i.actions.rightHand.takeSnapshot="/actions/rightHandTakeSnapshot",i.actions.rightHand.thumb="/actions/rightHand/thumbDown",i.actions.rightHand.index="/actions/rightHand/indexDown",i.actions.rightHand.middleRingPinky="/actions/rightHand/middleRingPinkyDown",i.actions.leftHand={},i.actions.leftHand.matrix="/actions/leftHand/matrix",i.actions.leftHand.pose="/actions/leftHandPose",i.actions.leftHand.grab="/actions/leftHandGrab",i.actions.leftHand.drop="/actions/leftHandDrop",i.actions.leftHand.modDelta="/actions/leftHandModDelta",i.actions.leftHand.startDrawing="/actions/leftHandStartDrawing",i.actions.leftHand.stopDrawing="/actions/leftHandStopDrawing",i.actions.leftHand.undoDrawing="/actions/leftHandUndoDrawing",i.actions.leftHand.switchDrawMode="/actions/leftHandSwitchDrawMode",i.actions.leftHand.penNextColor="/actions/leftHandPenNextColor",i.actions.leftHand.penPrevColor="/actions/leftHandPenPrevColor",i.actions.leftHand.scalePenTip="/actions/leftHandScalePenTip",i.actions.leftHand.startTeleport="/actions/leftHand/startTeleport",i.actions.leftHand.stopTeleport="/actions/leftHand/stopTeleport",i.actions.leftHand.takeSnapshot="/actions/leftHandTakeSnapshot",i.actions.leftHand.thumb="/actions/leftHand/thumbDown",i.actions.leftHand.index="/actions/leftHand/indexDown",i.actions.leftHand.middleRingPinky="/actions/leftHand/middleRingPinkyDown",i.actions.camera={},i.actions.camera.exitMirror="/actions/cameraExitMirror",i.actions.startInspecting="/actions/startInspecting",i.actions.startInspectingSelf="/actions/startInspectingSelf",i.actions.stopInspecting="/actions/stopInspecting",i.actions.inspectZoom="/actions/inspectZoom",i.actions.inspectPanY="/actions/inspectPanY",i.actions.resetInspectView="/actions/resetInspectView",i.actions.nextCameraMode="/actions/nextCameraMode",i.actions.spawnEmoji0="/actions/spawnEmoji0",i.actions.spawnEmoji1="/actions/spawnEmoji1",i.actions.spawnEmoji2="/actions/spawnEmoji2",i.actions.spawnEmoji3="/actions/spawnEmoji3",i.actions.spawnEmoji4="/actions/spawnEmoji4",i.actions.spawnEmoji5="/actions/spawnEmoji5",i.actions.spawnEmoji6="/actions/spawnEmoji6",i.haptics={},i.haptics.actuators={},i.haptics.actuators.left="/haptics/actuators/left",i.haptics.actuators.right="/haptics/actuators/right",i.device={},i.device.mouse={},i.device.mouse.coords="/device/mouse/coords",i.device.mouse.movementXY="/device/mouse/movementXY",i.device.mouse.buttonLeft="/device/mouse/buttonLeft",i.device.mouse.buttonRight="/device/mouse/buttonRight",i.device.mouse.buttonMiddle="/device/mouse/buttonMiddle",i.device.mouse.wheel="/device/mouse/wheel",i.device.smartMouse={},i.device.smartMouse.cursorPose="/device/smartMouse/cursorPose",i.device.smartMouse.cameraDelta="/device/smartMouse/cameraDelta",i.device.smartMouse.shouldMoveCamera="/device/smartMouse/shouldMoveCamera",i.device.touchscreen={},i.device.touchscreen.cursorPose="/device/touchscreen/cursorPose",i.device.touchscreen.touchCameraDelta="/device/touchscreen/touchCameraDelta",i.device.touchscreen.gyroCameraDelta="/device/touchscreen/gyroCameraDelta",i.device.touchscreen.cameraDelta="/device/touchscreen/cameraDelta",i.device.touchscreen.pinch={},i.device.touchscreen.pinch.delta="/device/touchscreen/pinch/delta",i.device.touchscreen.pinch.initialDistance="/device/touchscreen/pinch/initialDistance",i.device.touchscreen.pinch.currentDistance="/device/touchscreen/pinch/currentDistance",i.device.touchscreen.isTouching="/device/touchscreen/isTouching",i.device.touchscreen.isTouchingGrabbable="/device/touchscreen/isTouchingGrabbable",i.device.touchscreen.tap1="/device/touchscreen/tap1",i.device.touchscreen.tap2="/device/touchscreen/tap2",i.device.touchscreen.tap3="/device/touchscreen/tap3",i.device.touchscreen.tap4="/device/touchscreen/tap4",i.device.touchscreen.tap5="/device/touchscreen/tap5",i.device.touchscreen.anything="/device/touchscreen/anything",i.device.gyro={},i.device.gyro.averageDeltaX="/device/gyro/averageDeltaX",i.device.gyro.averageDeltaY="/device/gyro/averageDeltaY",i.device.hud={},i.device.hud.penButton="/device/hud/penButton",i.device.keyboard={map:new Map,key:function(e){let t=this.map.get(e);return t||(t="/device/keyboard/".concat(" "===e?"space":e.toLowerCase()),this.map.set(e,t),t)}},i.device.gamepad=e=>({button:t=>({pressed:"/device/gamepad/".concat(e,"/button/").concat(t,"/pressed"),touched:"/device/gamepad/".concat(e,"/button/").concat(t,"/touched"),value:"/device/gamepad/".concat(e,"/button/").concat(t,"/value")}),axis:t=>"/device/gamepad/".concat(e,"/axis/").concat(t)});const o="/device/xbox/";i.device.xbox={v:e=>"/vars/xbox/".concat(e),button:e=>({pressed:"".concat(o,"button/").concat(e,"/pressed"),touched:"".concat(o,"button/").concat(e,"/touched"),value:"".concat(o,"button/").concat(e,"/value")}),axis:e=>"".concat(o,"axis/").concat(e),axesSum:"".concat(o,"axis/sum")},i.device.oculusgo={button:e=>({pressed:"/device/oculusgo/button/".concat(e,"/pressed"),touched:"/device/oculusgo/button/".concat(e,"/touched"),value:"/device/oculusgo/button/".concat(e,"/value")}),axis:e=>"/device/oculusgo/axis/".concat(e),trigger:{pressed:"/device/oculusgo/button/trigger/pressed",touched:"/device/oculusgo/button/trigger/touched",value:"/device/oculusgo/button/trigger/value"},touchpad:{pressed:"/device/oculusgo/button/touchpad/pressed",touched:"/device/oculusgo/button/touchpad/touched",value:"/device/oculusgo/button/touchpad/value",axisX:"/device/oculusgo/axis/touchpadX",axisY:"/device/oculusgo/axis/touchpadY"},pose:"/device/oculusgo/pose",matrix:"/device/oculusgo/matrix",v:e=>"/vars/oculusgo/".concat(e)};const s="/device/gearVRController/";i.device.gearVRController={button:e=>({pressed:"".concat(s,"button/").concat(e,"/pressed"),touched:"".concat(s,"button/").concat(e,"/touched"),value:"".concat(s,"button/").concat(e,"/value")}),axis:e=>"".concat(s,"axis/").concat(e),pose:"".concat(s,"pose"),matrix:"".concat(s,"matrix"),v:e=>"/vars/gearVRController/".concat(e)};const c="/device/daydream/";i.device.daydream={button:e=>({pressed:"".concat(c,"button/").concat(e,"/pressed"),touched:"".concat(c,"button/").concat(e,"/touched"),value:"".concat(c,"button/").concat(e,"/value")}),axis:e=>"".concat(c,"axis/").concat(e),pose:"".concat(c,"pose"),matrix:"".concat(c,"matrix")};const u="/device/rightOculusTouch/";i.device.rightOculusTouch={button:e=>({pressed:"".concat(u,"button/").concat(e,"/pressed"),touched:"".concat(u,"button/").concat(e,"/touched"),value:"".concat(u,"button/").concat(e,"/value")}),axis:e=>"".concat(u,"axis/").concat(e),axesSum:"".concat(u,"axis/sum"),pose:"".concat(u,"pose"),matrix:"".concat(u,"matrix")};const l="/device/leftOculusTouch/";function d(e,t,n){return{pressed:"".concat(e).concat(t,"/button/").concat(n,"/pressed"),touched:"".concat(e).concat(t,"/button/").concat(n,"/touched"),value:"".concat(e).concat(t,"/button/").concat(n,"/value")}}function h(e,t,n){return{axisX:"".concat(e).concat(t,"/axis/").concat(n,"X"),axisY:"".concat(e).concat(t,"/axis/").concat(n,"Y")}}function f(e){const t="/device/wmr/";return{touchpad:r({},d(t,e,"touchpad"),h(t,e,"touchpad")),trigger:d(t,e,"trigger"),grip:d(t,e,"grip"),menu:d(t,e,"menu"),joystick:h(t,e,"joystick"),pose:"".concat(t).concat(e,"/pose"),matrix:"".concat(t).concat(e,"/matrix")}}i.device.leftOculusTouch={button:e=>({pressed:"".concat(l,"button/").concat(e,"/pressed"),touched:"".concat(l,"button/").concat(e,"/touched"),value:"".concat(l,"button/").concat(e,"/value")}),axis:e=>"".concat(l,"axis/").concat(e),axesSum:"".concat(l,"axis/sum"),pose:"".concat(l,"pose"),matrix:"".concat(l,"matrix")},i.device.vive={},i.device.vive.left={button:e=>({pressed:"/device/vive/left/button/".concat(e,"/pressed"),touched:"/device/vive/left/button/".concat(e,"/touched"),value:"/device/vive/left/button/".concat(e,"/value")}),axis:e=>"/device/vive/left/axis/".concat(e),axesSum:"/device/vive/left/axis/sum",pose:"/device/vive/left/pose",matrix:"/device/vive/left/matrix"},i.device.vive.right={button:e=>({pressed:"/device/vive/right/button/".concat(e,"/pressed"),touched:"/device/vive/right/button/".concat(e,"/touched"),value:"/device/vive/right/button/".concat(e,"/value")}),axis:e=>"/device/vive/right/axis/".concat(e),axesSum:"/device/vive/right/axis/sum",pose:"/device/vive/right/pose",matrix:"/device/vive/right/matrix"},i.device.wmr={},i.device.wmr.v=e=>"/vars/wmr/".concat(e),i.device.wmr.k=e=>"/vars/wmr/keyboard/".concat(e),i.device.wmr.left=f("left"),i.device.wmr.right=f("right");const p="/device/webxr/";i.device.webxr={},i.device.webxr.right={button:{trigger:d(p,"right","trigger"),grip:d(p,"right","grip"),touchpad:d(p,"right","touchpad"),a:d(p,"right","a"),b:d(p,"right","b"),thumbStick:d(p,"right","thumbStick")},axis:{touchpadX:"".concat(p,"right/axis/touchpadX"),touchpadY:"".concat(p,"right/axis/touchpadY"),joyX:"".concat(p,"right/axis/joyX"),joyY:"".concat(p,"right/axis/joyY")},pose:"".concat(p,"right/pose"),matrix:"".concat(p,"right/matrix")},i.device.webxr.left={button:{trigger:d(p,"left","trigger"),grip:d(p,"left","grip"),touchpad:d(p,"left","touchpad"),a:d(p,"left","a"),b:d(p,"left","b"),thumbStick:d(p,"left","thumbStick")},axis:{touchpadX:"".concat(p,"left/axis/touchpadX"),touchpadY:"".concat(p,"left/axis/touchpadY"),joyX:"".concat(p,"left/axis/joyX"),joyY:"".concat(p,"left/axis/joyY")},pose:"".concat(p,"left/pose"),matrix:"".concat(p,"left/matrix")}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const r={en:"English","zh-cn":"",pt:"Portugs (Brasil)",ja:"",es:"Espaol",ru:"P",fr:"Franais",ko:"",de:"Deutsch","zh-tw":""},a={jp:"ja"}},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=void 0;var r=/^(%20|\s)*(javascript|data|vbscript)/im,a=/[^\x20-\x7E-]/gim,i=/^([^:]+):/gm,o=[".","/"];t.sanitizeUrl=function(e){if(!e)return"about:blank";var t=e.replace(a,"").trim();if(function(e){return o.indexOf(e[0])>-1}(t))return t;var n=t.match(i);if(!n)return t;var s=n[0];return r.test(s)?"about:blank":t}},209:function(e,t){let n=0;const r=()=>1<<n++,a={ALL:-1,NONE:0,INTERACTABLES:r(),ENVIRONMENT:r(),AVATAR:r(),HANDS:r(),MEDIA_FRAMES:r()};a.DEFAULT_INTERACTABLE=a.INTERACTABLES|a.ENVIRONMENT|a.AVATAR|a.HANDS|a.MEDIA_FRAMES,a.UNOWNED_INTERACTABLE=a.INTERACTABLES|a.HANDS,a.DEFAULT_SPAWNER=a.INTERACTABLES|a.HANDS,e.exports={COLLISION_LAYERS:a}},21:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return f}));var r,a,i,o,s=n(0),c=n(1),u=n.n(c);let l={NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}.APP_CONFIG;!l&&{NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}.STORYBOOK_APP_CONFIG&&(l=JSON.parse({NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}.STORYBOOK_APP_CONFIG)),l||(l=window.APP_CONFIG),(null===(r=l)||void 0===r||null===(a=r.theme)||void 0===a?void 0:a.error)&&console.error("Custom themes failed to load.\n".concat(l.theme.error,"\nIf you are an admin, reconfigure your themes in the admin panel."));const d=(null===(i=l)||void 0===i||null===(o=i.theme)||void 0===o?void 0:o.themes)||[];function h(e){const t=function(){const[e,t]=Object(s.useState)(!1);return Object(s.useEffect)(()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");t(e.matches),e.addEventListener?e.addEventListener("change",e=>{t(e.matches)}):e.addListener(e=>{t(e.matches)})},[]),e}();Object(s.useEffect)(()=>{if(!Array.isArray(d))return;let n;if(e&&(n=d.find(t=>t.id===e)),!n&&t&&(n=d.find(e=>e.darkModeDefault)),n||(n=d.find(e=>e.default)),!n)return;const r=[];for(const e in n.variables)n.variables.hasOwnProperty(e)&&r.push("--".concat(e,": ").concat(n.variables[e],";"));const a=document.createElement("style");return a.innerHTML=":root {\n        ".concat(r.join("\n"),"\n      }"),document.head.appendChild(a),()=>{document.head.removeChild(a)}},[e,t])}function f({store:e,children:t}){return function(e){var t,n;const[r,a]=Object(s.useState)(null==e||null===(t=e.state)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.theme);Object(s.useEffect)(()=>{function t(){var t,n;const i=null===(t=e.state)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.theme;r!==i&&a(i)}return e&&e.addEventListener("statechanged",t),()=>{e&&e.removeEventListener("statechanged",t)}}),h(r)}(e),t}f.propTypes={store:u.a.object,children:u.a.node}},211:function(e,t,n){e.exports=n.p+"assets/images/warning_icon-739d2a2ea906737505bcbc2cb51123a8.png"},212:function(e,t,n){"use strict";n.r(t);var r={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},a={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},i=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],o={CSS:{},springs:{}};function s(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t){return e.indexOf(t)>-1}function u(e,t){return e.apply(null,t)}var l={arr:function(e){return Array.isArray(e)},obj:function(e){return c(Object.prototype.toString.call(e),"Object")},pth:function(e){return l.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||l.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return l.hex(e)||l.rgb(e)||l.hsl(e)},key:function(e){return!r.hasOwnProperty(e)&&!a.hasOwnProperty(e)&&"targets"!==e&&"keyframes"!==e}};function d(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((function(e){return parseFloat(e)})):[]}function h(e,t){var n=d(e),r=s(l.und(n[0])?1:n[0],.1,100),a=s(l.und(n[1])?100:n[1],.1,100),i=s(l.und(n[2])?10:n[2],.1,100),c=s(l.und(n[3])?0:n[3],.1,100),u=Math.sqrt(a/r),h=i/(2*Math.sqrt(a*r)),f=h<1?u*Math.sqrt(1-h*h):0,p=h<1?(h*u-c)/f:-c+u;function m(e){var n=t?t*e/1e3:e;return n=h<1?Math.exp(-n*h*u)*(1*Math.cos(f*n)+p*Math.sin(f*n)):(1+p*n)*Math.exp(-n*u),0===e||1===e?e:1-n}return t?m:function(){var t=o.springs[e];if(t)return t;for(var n=0,r=0;;)if(1===m(n+=1/6)){if(++r>=16)break}else r=0;var a=n*(1/6)*1e3;return o.springs[e]=a,a}}function f(e,t){void 0===e&&(e=1),void 0===t&&(t=.5);var n=s(e,1,10),r=s(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/r)}}function p(e){return void 0===e&&(e=10),function(t){return Math.round(t*e)*(1/e)}}var m=function(){function e(e,t){return 1-3*t+3*e}function t(e,t){return 3*t-6*e}function n(e){return 3*e}function r(r,a,i){return((e(a,i)*r+t(a,i))*r+n(a))*r}function a(r,a,i){return 3*e(a,i)*r*r+2*t(a,i)*r+n(a)}return function(e,t,n,i){if(0<=e&&e<=1&&0<=n&&n<=1){var o=new Float32Array(11);if(e!==t||n!==i)for(var s=0;s<11;++s)o[s]=r(.1*s,e,n);return function(a){return e===t&&n===i||0===a||1===a?a:r(c(a),t,i)}}function c(t){for(var i=0,s=1;10!==s&&o[s]<=t;++s)i+=.1;--s;var c=i+.1*((t-o[s])/(o[s+1]-o[s])),u=a(c,e,n);return u>=.001?function(e,t,n,i){for(var o=0;o<4;++o){var s=a(t,n,i);if(0===s)return t;t-=(r(t,n,i)-e)/s}return t}(t,c,e,n):0===u?c:function(e,t,n,a,i){var o,s,c=0;do{(o=r(s=t+(n-t)/2,a,i)-e)>0?n=s:t=s}while(Math.abs(o)>1e-7&&++c<10);return s}(t,i,i+.1,e,n)}}}(),g=function(){var e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],f],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return function(n){return 1-f(e,t)(1-n)}}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return function(n){return n<.5?f(e,t)(2*n)/2:1-f(e,t)(-2*n+2)/2}}]},n={linear:[.25,.25,.75,.75]},r=function(r){t[r].forEach((function(t,a){n["ease"+r+e[a]]=t}))};for(var a in t)r(a);return n}();function v(e,t){if(l.fnc(e))return e;var n=e.split("(")[0],r=g[n],a=d(e);switch(n){case"spring":return h(e,t);case"cubicBezier":return u(m,a);case"steps":return u(p,a);default:return l.fnc(r)?u(r,a):u(m,r)}}function b(e){try{return document.querySelectorAll(e)}catch(e){return}}function y(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,a=[],i=0;i<n;i++)if(i in e){var o=e[i];t.call(r,o,i,e)&&a.push(o)}return a}function w(e){return e.reduce((function(e,t){return e.concat(l.arr(t)?w(t):t)}),[])}function E(e){return l.arr(e)?e:(l.str(e)&&(e=b(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function x(e,t){return e.some((function(e){return e===t}))}function _(e){var t={};for(var n in e)t[n]=e[n];return t}function A(e,t){var n=_(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function L(e,t){var n=_(e);for(var r in t)n[r]=l.und(e[r])?t[r]:e[r];return n}function S(e){return l.rgb(e)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(t=e))?"rgba("+n[1]+",1)":t:l.hex(e)?function(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(e):l.hsl(e)?function(e){var t,n,r,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),i=parseInt(a[1],10)/360,o=parseInt(a[2],10)/100,s=parseInt(a[3],10)/100,c=a[4]||1;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0==o)t=n=r=s;else{var l=s<.5?s*(1+o):s+o-s*o,d=2*s-l;t=u(d,l,i+1/3),n=u(d,l,i),r=u(d,l,i-1/3)}return"rgba("+255*t+","+255*n+","+255*r+","+c+")"}(e):void 0;var t,n}function k(e){var t=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[2]}function M(e,t){return l.fnc(e)?e(t.target,t.id,t.total):e}function T(e,t){return e.getAttribute(t)}function R(e,t,n){if(x([n,"deg","rad","turn"],k(t)))return t;var r=o.CSS[t+n];if(!l.und(r))return r;var a=document.createElement(e.tagName),i=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;i.appendChild(a),a.style.position="absolute",a.style.width=100+n;var s=100/a.offsetWidth;i.removeChild(a);var c=s*parseFloat(t);return o.CSS[t+n]=c,c}function C(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?R(e,a,n):a}}function P(e,t){return l.dom(e)&&!l.inp(e)&&(T(e,t)||l.svg(e)&&e[t])?"attribute":l.dom(e)&&x(i,t)?"transform":l.dom(e)&&"transform"!==t&&C(e,t)?"css":null!=e[t]?"object":void 0}function O(e){if(l.dom(e)){for(var t,n=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,a=new Map;t=r.exec(n);)a.set(t[1],t[2]);return a}}function D(e,t,n,r){var a=c(t,"scale")?1:0+function(e){return c(e,"translate")||"perspective"===e?"px":c(e,"rotate")||c(e,"skew")?"deg":void 0}(t),i=O(e).get(t)||a;return n&&(n.transforms.list.set(t,i),n.transforms.last=t),r?R(e,i,r):i}function I(e,t,n,r){switch(P(e,t)){case"transform":return D(e,t,r,n);case"css":return C(e,t,n);case"attribute":return T(e,t);default:return e[t]||0}}function Z(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=k(e)||0,a=parseFloat(t),i=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return a+i+r;case"-":return a-i+r;case"*":return a*i+r}}function j(e,t){if(l.col(e))return S(e);var n=k(e),r=n?e.substr(0,e.length-n.length):e;return t&&!/\s/g.test(e)?r+t:r}function F(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function U(e){for(var t,n=e.points,r=0,a=0;a<n.numberOfItems;a++){var i=n.getItem(a);a>0&&(r+=F(t,i)),t=i}return r}function N(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return function(e){return 2*Math.PI*T(e,"r")}(e);case"rect":return function(e){return 2*T(e,"width")+2*T(e,"height")}(e);case"line":return function(e){return F({x:T(e,"x1"),y:T(e,"y1")},{x:T(e,"x2"),y:T(e,"y2")})}(e);case"polyline":return U(e);case"polygon":return function(e){var t=e.points;return U(e)+F(t.getItem(t.numberOfItems-1),t.getItem(0))}(e)}}function B(e,t){var n=t||{},r=n.el||function(e){for(var t=e.parentNode;l.svg(t)&&(t=t.parentNode,l.svg(t.parentNode)););return t}(e),a=r.getBoundingClientRect(),i=T(r,"viewBox"),o=a.width,s=a.height,c=n.viewBox||(i?i.split(" "):[0,0,o,s]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:o/c[2],h:s/c[3]}}function z(e,t){function n(n){void 0===n&&(n=0);var r=t+n>=1?t+n:0;return e.el.getPointAtLength(r)}var r=B(e.el,e.svg),a=n(),i=n(-1),o=n(1);switch(e.property){case"x":return(a.x-r.x)*r.w;case"y":return(a.y-r.y)*r.h;case"angle":return 180*Math.atan2(o.y-i.y,o.x-i.x)/Math.PI}}function H(e,t){var n=/[-+]?\d*\.?\d+([eE][-+]?\d+)?/g,r=j(l.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:l.str(e)||t?r.split(n):[]}}function G(e){return y(e?w(l.arr(e)?e.map(E):E(e)):[],(function(e,t,n){return n.indexOf(e)===t}))}function V(e){var t=G(e);return t.map((function(e,n){return{target:e,id:n,total:t.length,transforms:{list:O(e)}}}))}function W(e,t){var n=_(t);if(/^spring/.test(n.easing)&&(n.duration=h(n.easing)),l.arr(e)){var r=e.length;2===r&&!l.obj(e[0])?e={value:e}:l.fnc(t.duration)||(n.duration=t.duration/r)}var a=l.arr(e)?e:[e];return a.map((function(e,n){var r=l.obj(e)&&!l.pth(e)?e:{value:e};return l.und(r.delay)&&(r.delay=n?0:t.delay),l.und(r.endDelay)&&(r.endDelay=n===a.length-1?t.endDelay:0),r})).map((function(e){return L(e,n)}))}function q(e,t){var n=[],r=t.keyframes;for(var a in r&&(t=L(function(e){for(var t=y(w(e.map((function(e){return Object.keys(e)}))),(function(e){return l.key(e)})).reduce((function(e,t){return e.indexOf(t)<0&&e.push(t),e}),[]),n={},r=function(r){var a=t[r];n[a]=e.map((function(e){var t={};for(var n in e)l.key(n)?n==a&&(t.value=e[n]):t[n]=e[n];return t}))},a=0;a<t.length;a++)r(a);return n}(r),t)),t)l.key(a)&&n.push({name:a,tweens:W(t[a],e)});return n}function Y(e,t){var n;return e.tweens.map((function(r){var a=function(e,t){var n={};for(var r in e){var a=M(e[r],t);l.arr(a)&&1===(a=a.map((function(e){return M(e,t)}))).length&&(a=a[0]),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}(r,t),i=a.value,o=l.arr(i)?i[1]:i,s=k(o),c=I(t.target,e.name,s,t),u=n?n.to.original:c,d=l.arr(i)?i[0]:u,h=k(d)||k(c),f=s||h;return l.und(o)&&(o=u),a.from=H(d,f),a.to=H(Z(o,d),f),a.start=n?n.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=l.pth(i),a.isColor=l.col(a.from.original),a.isColor&&(a.round=1),n=a,a}))}var K={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,a){if(r.list.set(t,n),t===r.last||a){var i="";r.list.forEach((function(e,t){i+=t+"("+e+") "})),e.style.transform=i}}};function X(e,t){V(e).forEach((function(e){for(var n in t){var r=M(t[n],e),a=e.target,i=k(r),o=I(a,n,i,e),s=Z(j(r,i||k(o)),o),c=P(a,n);K[c](a,n,s,e.transforms,!0)}}))}function Q(e,t){return y(w(e.map((function(e){return t.map((function(t){return function(e,t){var n=P(e.target,t.name);if(n){var r=Y(t,e),a=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:a.end,delay:r[0].delay,endDelay:a.endDelay}}}(e,t)}))}))),(function(e){return!l.und(e)}))}function J(e,t){var n=e.length,r=function(e){return e.timelineOffset?e.timelineOffset:0},a={};return a.duration=n?Math.max.apply(Math,e.map((function(e){return r(e)+e.duration}))):t.duration,a.delay=n?Math.min.apply(Math,e.map((function(e){return r(e)+e.delay}))):t.delay,a.endDelay=n?a.duration-Math.max.apply(Math,e.map((function(e){return r(e)+e.duration-e.endDelay}))):t.endDelay,a}var $=0;var ee,te=[],ne=[],re=function(){function e(){ee=setTimeout(t,5)}function t(t){var n=te.length;if(n){for(var r=0;r<n;){var a=te[r];if(a.paused){var i=te.indexOf(a);i>-1&&(te.splice(i,1),n=te.length)}else a.tick(performance.now());r++}e()}else ee=clearTimeout(ee)}return e}();function ae(e){void 0===e&&(e={});var t,n=0,i=0,o=0,c=0,u=null;function l(e){var t=window.Promise&&new Promise((function(e){return u=e}));return e.finished=t,t}var d=function(e){var t=A(r,e),n=A(a,e),i=q(n,e),o=V(e.targets),s=Q(o,i),c=J(s,n),u=$;return $++,L(t,{id:u,children:[],animatables:o,animations:s,duration:c.duration,delay:c.delay,endDelay:c.endDelay})}(e);l(d);function h(){var e=d.direction;"alternate"!==e&&(d.direction="normal"!==e?"normal":"reverse"),d.reversed=!d.reversed,t.forEach((function(e){return e.reversed=d.reversed}))}function f(e){return d.reversed?d.duration-e:e}function p(){n=0,i=f(d.currentTime)*(1/ae.speed)}function m(e,t){t&&t.seek(e-t.timelineOffset)}function g(e){for(var t=0,n=d.animations,r=n.length;t<r;){var a=n[t],i=a.animatable,o=a.tweens,c=o.length-1,u=o[c];c&&(u=y(o,(function(t){return e<t.end}))[0]||u);for(var l=s(e-u.start-u.delay,0,u.duration)/u.duration,h=isNaN(l)?1:u.easing(l),f=u.to.strings,p=u.round,m=[],g=u.to.numbers.length,v=void 0,b=0;b<g;b++){var w=void 0,E=u.to.numbers[b],x=u.from.numbers[b]||0;w=u.isPath?z(u.value,h*E):x+h*(E-x),p&&(u.isColor&&b>2||(w=Math.round(w*p)/p)),m.push(w)}var _=f.length;if(_){v=f[0];for(var A=0;A<_;A++){f[A];var L=f[A+1],S=m[A];isNaN(S)||(v+=L?S+L:S+" ")}}else v=m[0];K[a.type](i.target,a.property,v,i.transforms),a.currentValue=v,t++}}function v(e){d[e]&&!d.passThrough&&d[e](d)}function b(e){var r=d.duration,a=d.delay,p=r-d.endDelay,b=f(e);d.progress=s(b/r*100,0,100),d.reversePlayback=b<d.currentTime,t&&function(e){if(d.reversePlayback)for(var n=c;n--;)m(e,t[n]);else for(var r=0;r<c;r++)m(e,t[r])}(b),!d.began&&d.currentTime>0&&(d.began=!0,v("begin"),v("loopBegin")),b<=a&&0!==d.currentTime&&g(0),(b>=p&&d.currentTime!==r||!r)&&g(r),b>a&&b<p?(d.changeBegan||(d.changeBegan=!0,d.changeCompleted=!1,v("changeBegin")),v("change"),g(b)):d.changeBegan&&(d.changeCompleted=!0,d.changeBegan=!1,v("changeComplete")),d.currentTime=s(b,0,r),d.began&&v("update"),e>=r&&(i=0,d.remaining&&!0!==d.remaining&&d.remaining--,d.remaining?(n=o,v("loopComplete"),v("loopBegin"),"alternate"===d.direction&&h()):(d.paused=!0,d.completed||(d.completed=!0,v("loopComplete"),v("complete"),!d.passThrough&&"Promise"in window&&(u(),l(d)))))}return d.reset=function(){var e=d.direction;d.passThrough=!1,d.currentTime=0,d.progress=0,d.paused=!0,d.began=!1,d.changeBegan=!1,d.completed=!1,d.changeCompleted=!1,d.reversePlayback=!1,d.reversed="reverse"===e,d.remaining=d.loop,t=d.children;for(var n=c=t.length;n--;)d.children[n].reset();(d.reversed&&!0!==d.loop||"alternate"===e&&1===d.loop)&&d.remaining++,g(0)},d.set=function(e,t){return X(e,t),d},d.tick=function(e){o=e,n||(n=o),b((o+(i-n))*ae.speed)},d.seek=function(e){b(f(e))},d.pause=function(){d.paused=!0,p()},d.play=function(){d.paused&&(d.completed&&d.reset(),d.paused=!1,te.push(d),p(),ee||re())},d.reverse=function(){h(),p()},d.restart=function(){d.reset(),d.play()},d.reset(),d.autoplay&&d.play(),d}function ie(e,t){for(var n=t.length;n--;)x(e,t[n].animatable.target)&&t.splice(n,1)}"undefined"!=typeof document&&document.addEventListener("visibilitychange",(function(){document.hidden?(te.forEach((function(e){return e.pause()})),ne=te.slice(0),te=[]):ne.forEach((function(e){return e.play()}))})),ae.version="3.0.1",ae.speed=1,ae.running=te,ae.remove=function(e){for(var t=G(e),n=te.length;n--;){var r=te[n],a=r.animations,i=r.children;ie(t,a);for(var o=i.length;o--;){var s=i[o],c=s.animations;ie(t,c),c.length||s.children.length||i.splice(o,1)}a.length||i.length||r.pause()}},ae.get=I,ae.set=X,ae.convertPx=R,ae.path=function(e,t){var n=l.str(e)?b(e)[0]:e,r=t||100;return function(e){return{property:e,el:n,svg:B(n),totalLength:N(n)*(r/100)}}},ae.setDashoffset=function(e){var t=N(e);return e.setAttribute("stroke-dasharray",t),t},ae.stagger=function(e,t){void 0===t&&(t={});var n=t.direction||"normal",r=t.easing?v(t.easing):null,a=t.grid,i=t.axis,o=t.from||0,s="first"===o,c="center"===o,u="last"===o,d=l.arr(e),h=d?parseFloat(e[0]):parseFloat(e),f=d?parseFloat(e[1]):0,p=k(d?e[1]:e)||0,m=t.start||0+(d?h:0),g=[],b=0;return function(e,t,l){if(s&&(o=0),c&&(o=(l-1)/2),u&&(o=l-1),!g.length){for(var v=0;v<l;v++){if(a){var y=c?(a[0]-1)/2:o%a[0],w=c?(a[1]-1)/2:Math.floor(o/a[0]),E=y-v%a[0],x=w-Math.floor(v/a[0]),_=Math.sqrt(E*E+x*x);"x"===i&&(_=-E),"y"===i&&(_=-x),g.push(_)}else g.push(Math.abs(o-v));b=Math.max.apply(Math,g)}r&&(g=g.map((function(e){return r(e/b)*b}))),"reverse"===n&&(g=g.map((function(e){return i?e<0?-1*e:-e:Math.abs(b-e)})))}return m+(d?(f-h)/b:h)*(Math.round(100*g[t])/100)+p}},ae.timeline=function(e){void 0===e&&(e={});var t=ae(e);return t.duration=0,t.add=function(n,r){var i=te.indexOf(t),o=t.children;function s(e){e.passThrough=!0}i>-1&&te.splice(i,1);for(var c=0;c<o.length;c++)s(o[c]);var u=L(n,A(a,e));u.targets=u.targets||e.targets;var d=t.duration;u.autoplay=!1,u.direction=t.direction,u.timelineOffset=l.und(r)?d:Z(r,d),s(t),t.seek(u.timelineOffset);var h=ae(u);s(h),o.push(h);var f=J(o,e);return t.delay=f.delay,t.endDelay=f.endDelay,t.duration=f.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t},ae.easing=v,ae.penner=g,ae.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},t.default=ae},213:function(e,t,n){"use strict";function r(e){let t=0;const n={};return e.onmessage=t=>{const{id:r,result:a,err:i}=t.data,o=n[r];null==o?console.error("Unknown message with ID ".concat(r," received from ").concat(e,".")):(delete n[r],null!=i?o.reject(new Error(i)):o.resolve(a))},function(r,a,i={}){const o=t++,s=new Promise((e,t)=>{n[o]={resolve:e,reject:t}});return e.postMessage(Object.assign(i,{id:o,payload:r}),a),s}}n.d(t,"a",(function(){return r}))},214:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(70),a=n(4),i=n(8),o=n(36);function s(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,c,"next",e)}function c(e){s(i,r,a,o,c,"throw",e)}o(void 0)}))}}const u={entries:[],meta:{}},l={scenes:"scene_listings",images:"bing_images",videos:"bing_videos",youtube:"youtube_videos",gifs:"tenor",sketchfab:"sketchfab",twitch:"twitch",favorites:"favorites"},d=["sketchfab","videos","scenes","avatars","gifs","images"].filter(e=>{const t=l[e];return a.a.integration(t)}),h={gifs:"trending",sketchfab:"featured",scenes:"featured",favorites:"my-favorites"},f=["q","filter","cursor","similar_to"];class p extends r.a{constructor(){var e;super(),e=this,this._update=function(){var t=c((function*(t){e.result=null,e.dispatchEvent(new CustomEvent("statechanged"));const n=e.getUrlMediaSource(t);if(!n)return;e.previousSource&&e.previousSource===n||(e.dispatchEvent(new CustomEvent("sourcechanged")),e.previousSource=n);const r=new URLSearchParams(t.search);e.requestIndex++;const a=e.requestIndex,o=new URLSearchParams,s=new URLSearchParams(t.search),c=s.get("filter")&&s.get("filter").startsWith("my-");for(const e of f)r.get(e)&&o.set(e,r.get(e));let d;if(o.get("locale",navigator.languages[0]),"avatars"===n||"scenes"===n){const e="avatars"===n?"avatar":"scene";d="".concat(e,c?"s":"_listings")}else d=l[n];o.set("source",d);let h=!0;"avatars"!==d&&"scenes"!==d&&"favorites"!==d||c&&(window.APP.store.credentialsAccountId?o.set("user",window.APP.store.credentialsAccountId):h=!1);const p="/api/v1/media/search?".concat(o.toString()),m=Object(i.j)(p);if(e.lastSavedUrl===m)return;e.isFetching=!0,e.dispatchEvent(new CustomEvent("statechanged"));const g=h?yield Object(i.e)(p):u;e.requestIndex==a&&(e.result=g,e.nextCursor=e.result&&e.result.meta&&e.result.meta.next_cursor,e.lastFetchedUrl=m,e.isFetching=!1,e.dispatchEvent(new CustomEvent("statechanged")))}));return function(e){return t.apply(this,arguments)}}(),this.pageNavigate=e=>{if(-1===e)this.history.goBack();else{const e=this.history.location,t=new URLSearchParams(e.search);t.set("cursor",this.nextCursor),Object(o.d)(this.history,e.pathname,t.toString())}},this.filterQueryNavigate=(e,t)=>{const n=this.history.location,r=new URLSearchParams(n.search);r.delete("similar_to"),r.delete("similar_name"),t?r.set("q",t):r.delete("q"),e?r.set("filter",e):r.delete("filter"),e?r.set("cursor",e):r.delete("cursor"),Object(o.d)(this.history,n.pathname,r.toString())},this.getSearchClearedSearchParams=(e,t,n,r)=>{const a=new URLSearchParams(e.search);return a.delete("q"),a.delete("filter"),a.delete("cursor"),a.delete("similar_to"),a.delete("similar_name"),n||a.delete("media_nav"),t||a.delete("media_source"),r||a.delete("selectAction"),a},this._stashLastSearchParams=e=>{const t=new URLSearchParams(e.search);this._stashedParams={},this._stashedSource=null;const n=this.getUrlMediaSource(e);if("favorites"!==n){this._stashedSource=n;for(const e of f){const n=t.get(e);n&&(this._stashedParams[e]=n)}}},this.clearStashedQuery=()=>{this._stashedParams&&delete this._stashedParams.q},this.sourceNavigate=e=>{this._sourceNavigate(e,!1,!0)},this.sourceNavigateToDefaultSource=()=>{this._sourceNavigate(this._stashedSource?this._stashedSource:d[0],!1,!0)},this.sourceNavigateWithNoNav=(e,t)=>{this._sourceNavigate(e,!0,!1,t)},this._sourceNavigate=function(){var t=c((function*(t,n,r,s){const c=new URLSearchParams(e.history.location.search).get("q"),u=e.getSearchClearedSearchParams(e.history.location);if(c)u.set("q",c);else if(r&&e._stashedParams)for(const n of f){const r=e._stashedParams[n],a="q"===n||e._stashedSource===t;r&&a&&u.set(n,r)}else if("avatars"===t){const t=yield e._hasAccountWithAvatars();u.set("filter",t?"my-avatars":"featured")}else h[t]&&u.set("filter",h[t]);e._stashedParams=null,e._stashedSource=null,n&&u.set("media_nav","false"),s&&u.set("selectAction",s),Object(i.m)()&&document.location.host!==a.a.RETICULUM_SERVER?(u.set("media_source",t),Object(o.d)(e.history,e.history.location.pathname,u.toString())):Object(o.d)(e.history,Object(o.h)(e.history.location,"/media/".concat(t)),u.toString())}));return function(e,n,r,a){return t.apply(this,arguments)}}(),this._hasAccountWithAvatars=c((function*(){const{credentialsAccountId:e}=window.APP.store;if(!e)return!1;const t=new URLSearchParams;t.set("source","avatars"),t.set("user",e);const n=yield Object(i.e)("/api/v1/media/search?".concat(t.toString()));return!(!n||!n.entries)&&n.entries.length>0})),this.getUrlMediaSource=e=>{const{search:t}=e,n=new URLSearchParams(t),r=Object(o.g)(e);return r.startsWith("/media")||n.get("media_source")?n.get("media_source")||r.substring(7):null},this.pushExitMediaBrowserHistory=(e,t=!0)=>{e||(e=this.history),t&&this._stashLastSearchParams(e.location);const{pathname:n}=e.location,r=Object(o.g)(e.location).startsWith("/media");Object(o.d)(e,r?Object(o.h)(e.location,"/"):n,this.getSearchClearedSearchParams(e.location).toString()),this.dispatchEvent(new CustomEvent("media-exit"))},this.requestIndex=0}setHistory(e){this.history=e,this._update(this.history.location),this.history.listen(e=>{this._update(e)})}}},215:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e){var t=e.title,n=e.titleId,o=i(e,["title","titleId"]);return r.createElement("svg",a({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M4.024 18.125H1.875v-2.148L13.99 3.832 16.17 6.01 4.024 18.125z",fill:o.color}),r.createElement("path",{d:"M16.63 5.547L14.453 3.37l1.237-1.197c.19-.193.484-.298.755-.298a1.011 1.011 0 01.72.298l.664.664a1.01 1.01 0 01.296.718c0 .273-.106.564-.298.756L16.63 5.547z",fill:o.color}))}o.defaultProps={color:"#000",title:"Pen"}},227:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(78);const a=Object(r.b)();function i(){if(!a)return;let e=0;document.addEventListener("touchmove",e=>{1!==e.scale&&e.preventDefault()}),document.addEventListener("touchend",t=>{const n=(new Date).getTime(),r=n-e<=300;e=n,r&&t.preventDefault()})}},230:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(93);const a=Object(r.detect)(),i=["iOS","Mac OS"].includes(a.os)&&["safari","ios"].includes(a.name);function o(){return i}},231:function(e,t,n){"use strict";n.d(t,"a",(function(){return ce})),n.d(t,"b",(function(){return he}));var r=n(3);class a{constructor(){}}function i(e,t){return t.min.x=e[0],t.min.y=e[1],t.min.z=e[2],t.max.x=e[3],t.max.y=e[4],t.max.z=e[5],t}function o(e){let t=-1,n=-1/0;for(let r=0;r<3;r++){const a=e[r+3]-e[r];a>n&&(n=a,t=r)}return t}const s=Math.pow(2,-24),c=["x","y","z"],u=new r.Box3;function l(e,t,n,r,a=null){let i=1/0,o=1/0,s=1/0,c=-1/0,u=-1/0,l=-1/0,d=1/0,h=1/0,f=1/0,p=-1/0,m=-1/0,g=-1/0;const v=null!==a;for(let r=6*t,a=6*(t+n);r<a;r+=6){const t=e[r+0],n=e[r+1],a=t-n,b=t+n;a<i&&(i=a),b>c&&(c=b),v&&t<d&&(d=t),v&&t>p&&(p=t);const y=e[r+2],w=e[r+3],E=y-w,x=y+w;E<o&&(o=E),x>u&&(u=x),v&&y<h&&(h=y),v&&y>m&&(m=y);const _=e[r+4],A=e[r+5],L=_-A,S=_+A;L<s&&(s=L),S>l&&(l=S),v&&_<f&&(f=_),v&&_>g&&(g=_)}r[0]=i,r[1]=o,r[2]=s,r[3]=c,r[4]=u,r[5]=l,v&&(a[0]=d,a[1]=h,a[2]=f,a[3]=p,a[4]=m,a[5]=g)}function d(e,t,n,r){let a=1/0,i=1/0,o=1/0,s=-1/0,c=-1/0,u=-1/0;for(let r=6*t,l=6*(t+n);r<l;r+=6){const t=e[r+0];t<a&&(a=t),t>s&&(s=t);const n=e[r+2];n<i&&(i=n),n>c&&(c=n);const l=e[r+4];l<o&&(o=l),l>u&&(u=l)}r[0]=a,r[1]=i,r[2]=o,r[3]=s,r[4]=c,r[5]=u}function h(e,t){function n(t,r,s,x=null,_=0){if(!E&&_>=g&&(E=!0,v&&(console.warn(`MeshBVH: Max depth of ${g} reached when generating BVH. Consider increasing maxDepth.`),console.warn(this,e))),s<=b||_>=g)return t.offset=r,t.count=s,t;const A=function(e,t,n,r,a,s,l){let d=-1,h=0;if(0===l)d=o(t),-1!==d&&(h=(t[d]+t[d+3])/2);else if(1===l)d=o(e),-1!==d&&(h=function(e,t,n,r){let a=0;for(let i=t,o=t+n;i<o;i++)a+=e[6*i+2*r];return a/n}(n,a,s,d));else if(2===l){const t=3,n=1,o=i(e,u),l=[o.max.x-o.min.x,o.max.y-o.min.y,o.max.z-o.min.z],f=2*(l[0]*l[1]+l[0]*l[2]+l[1]*l[2]),p=[[],[],[]];for(let e=a,t=a+s;e<t;e++)for(let t=0;t<3;t++)p[t].push(r[t][e]);p.forEach(e=>e.sort((e,t)=>e.p-t.p));const m=(e,r,a,i,o)=>t+n*(r/e*a+i/e*o);d=-1;let g=n*s;for(let e=0;e<3;e++){const t=(e+1)%3,n=(e+2)%3,r=o.min[c[e]],a=o.max[c[e]],i=p[e];let u=0,v=s;for(let o=0;o<i.length;o++){const s=i[o];u++,v--;const c=s.p-r,p=a-s.p;let b=l[t],y=l[t],w=l[n],E=l[n];const x=m(f,2*(b*w+b*c+w*c),u,2*(y*E+y*p+E*p),v);x<g&&(d=e,h=s.p,g=x)}}}return{axis:d,pos:h}}(t.boundingData,x,f,p,r,s,y);if(-1===A.axis)return t.offset=r,t.count=s,t;const L=function(e,t,n,r,a,i){let o=r,s=r+a-1;const c=i.pos,u=2*i.axis;for(;;){for(;o<=s&&t[6*o+u]<c;)o++;for(;o<=s&&t[6*s+u]>=c;)s--;if(!(o<s))return o;for(let n=0;n<3;n++){let r=e[3*o+n];e[3*o+n]=e[3*s+n],e[3*s+n]=r;let a=t[6*o+2*n+0];t[6*o+2*n+0]=t[6*s+2*n+0],t[6*s+2*n+0]=a;let i=t[6*o+2*n+1];t[6*o+2*n+1]=t[6*s+2*n+1],t[6*s+2*n+1]=i}if(n)for(let e=0;e<3;e++){let t=n[e][o];n[e][o]=n[e][s],n[e][s]=t}o++,s--}}(m,f,p,r,s,A);if(L===r||L===r+s)t.offset=r,t.count=s;else{t.splitAxis=A.axis;const e=new a,i=r,o=L-r;t.left=e,e.boundingData=new Float32Array(6),w?(l(f,i,o,e.boundingData),e.continueGeneration=function(){delete this.continueGeneration,d(f,i,o,h),n(e,i,o,h,_+1)}):(l(f,i,o,e.boundingData,h),n(e,i,o,h,_+1));const c=new a,u=L,p=s-o;t.right=c,c.boundingData=new Float32Array(6),w?(l(f,u,p,c.boundingData),c.continueGeneration=function(){delete this.continueGeneration,d(f,u,p,h),n(c,u,p,h,_+1)}):(l(f,u,p,c.boundingData,h),n(c,u,p,h,_+1))}return t}!function(e){if(!e.index){const t=e.attributes.position.count,n=new(t>65535?Uint32Array:Uint16Array)(t);e.setIndex(new r.BufferAttribute(n,1));for(let e=0;e<t;e++)n[e]=e}}(e);const h=new Float32Array(6),f=function(e){const t=e.attributes.position.array,n=e.index.array,r=n.length/3,a=new Float32Array(6*r);for(let e=0;e<r;e++){const r=3*e,i=6*e,o=3*n[r+0],c=3*n[r+1],u=3*n[r+2];for(let e=0;e<3;e++){const n=t[o+e],r=t[c+e],l=t[u+e];let d=n;r<d&&(d=r),l<d&&(d=l);let h=n;r>h&&(h=r),l>h&&(h=l);const f=(h-d)/2,p=2*e;a[i+p+0]=d+f,a[i+p+1]=f+(Math.abs(d)+f)*s}}return a}(e),p=2===t.strategy?function(e){const t=e.length/6,n=[new Array(t),new Array(t),new Array(t)];for(let r=0;r<t;r++)for(let t=0;t<3;t++)n[t][r]={p:e[6*r+2*t],tri:r};return n}(f):null,m=e.index.array,g=t.maxDepth,v=t.verbose,b=t.maxLeafTris,y=t.strategy,w=t.lazyGeneration;let E=!1;const x=[],_=function(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];const t=[],n=new Set;for(const t of e.groups)n.add(t.start),n.add(t.start+t.count);const r=Array.from(n.values()).sort((e,t)=>e-t);for(let e=0;e<r.length-1;e++){const n=r[e],a=r[e+1];t.push({offset:n/3,count:(a-n)/3})}return t}(e);if(1===_.length){const t=new a,r=_[0];null!=e.boundingBox?(t.boundingData=function(e){const t=new Float32Array(6);return t[0]=e.min.x,t[1]=e.min.y,t[2]=e.min.z,t[3]=e.max.x,t[4]=e.max.y,t[5]=e.max.z,t}(e.boundingBox),d(f,r.offset,r.count,h)):(t.boundingData=new Float32Array(6),l(f,r.offset,r.count,t.boundingData,h)),n(t,r.offset,r.count,h),x.push(t)}else for(let e of _){const t=new a;t.boundingData=new Float32Array(6),l(f,e.offset,e.count,t.boundingData,h),n(t,e.offset,e.count,h),x.push(t)}if(null==e.boundingBox){const t=new r.Box3;e.boundingBox=new r.Box3;for(let n of x)e.boundingBox.union(i(n.boundingData,t))}return x}class f{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let n=1/0,r=-1/0;for(let a=0,i=e.length;a<i;a++){const i=e[a][t];n=Math.min(i,n),r=Math.max(i,r)}this.min=n,this.max=r}setFromPoints(e,t){let n=1/0,r=-1/0;for(let a=0,i=t.length;a<i;a++){const i=t[a],o=e.dot(i);n=Math.min(o,n),r=Math.max(o,r)}this.min=n,this.max=r}isSeparated(e){return this.min>e.max||e.min>this.max}}f.prototype.setFromBox=function(){const e=new r.Vector3;return function(t,n){const r=n.min,a=n.max;let i=1/0,o=-1/0;for(let n=0;n<=1;n++)for(let s=0;s<=1;s++)for(let c=0;c<=1;c++){e.x=r.x*n+a.x*(1-n),e.y=r.y*s+a.y*(1-s),e.z=r.z*c+a.z*(1-c);const u=t.dot(e);i=Math.min(u,i),o=Math.max(u,o)}this.min=i,this.max=o}}();!function(){const e=new f}();const p=function(){const e=new r.Vector3,t=new r.Vector3,n=new r.Vector3;return function(r,a,i){const o=r.start,s=e,c=a.start,u=t;n.subVectors(o,c),e.subVectors(r.end,a.start),t.subVectors(a.end,a.start);const l=n.dot(u),d=u.dot(s),h=u.dot(u),f=n.dot(s),p=s.dot(s)*h-d*d;let m,g;m=0!==p?(l*d-f*h)/p:0,g=(l+m*d)/h,i.x=m,i.y=g}}(),m=function(){const e=new r.Vector2,t=new r.Vector3,n=new r.Vector3;return function(r,a,i,o){p(r,a,e);let s=e.x,c=e.y;if(s>=0&&s<=1&&c>=0&&c<=1)return r.at(s,i),void a.at(c,o);if(s>=0&&s<=1)return c<0?a.at(0,o):a.at(1,o),void r.closestPointToPoint(o,!0,i);if(c>=0&&c<=1)return s<0?r.at(0,i):r.at(1,i),void a.closestPointToPoint(i,!0,o);{let e,u;e=s<0?r.start:r.end,u=c<0?a.start:a.end;const l=t,d=n;return r.closestPointToPoint(u,!0,t),a.closestPointToPoint(e,!0,n),l.distanceToSquared(u)<=d.distanceToSquared(e)?(i.copy(l),void o.copy(u)):(i.copy(e),void o.copy(d))}}}(),g=function(){const e=new r.Vector3,t=new r.Vector3,n=new r.Plane,a=new r.Line3;return function(r,i){const{radius:o,center:s}=r,{a:c,b:u,c:l}=i;a.start=c,a.end=u;if(a.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;a.start=c,a.end=l;if(a.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;a.start=u,a.end=l;if(a.closestPointToPoint(s,!0,e).distanceTo(s)<=o)return!0;const d=i.getPlane(n);if(Math.abs(d.distanceToPoint(s))<=o){const e=d.projectPoint(s,t);if(i.containsPoint(e))return!0}return!1}}();class v extends r.Triangle{constructor(...e){super(...e),this.isSeparatingAxisTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new r.Vector3),this.satBounds=new Array(4).fill().map(()=>new f),this.points=[this.a,this.b,this.c],this.sphere=new r.Sphere,this.needsUpdate=!1}intersectsSphere(e){return g(e,this)}}v.prototype.update=function(){const e=new Array(3);return function(){const t=this.a,n=this.b,r=this.c;e[0]=this.a,e[1]=this.b,e[2]=this.c;const a=this.satAxes,i=this.satBounds,o=a[0],s=i[0];this.getNormal(o),s.setFromPoints(o,e);const c=a[1],u=i[1];c.subVectors(t,n),u.setFromPoints(c,e);const l=a[2],d=i[2];l.subVectors(n,r),d.setFromPoints(l,e);const h=a[3],f=i[3];h.subVectors(r,t),f.setFromPoints(h,e),this.sphere.setFromPoints(this.points),this.needsUpdate=!1}}(),v.prototype.closestPointToSegment=function(){const e=new r.Vector3,t=new r.Vector3,n=new r.Line3;return function(r,a=null,i=null){this.needsUpdate&&this.update();const{start:o,end:s}=r,c=this.points;let u,l=1/0;for(let o=0;o<3;o++){const s=(o+1)%3;n.start.copy(c[o]),n.end.copy(c[s]),m(n,r,e,t),u=e.distanceToSquared(t),u<l&&(l=u,a&&a.copy(e),i&&i.copy(t))}return this.closestPointToPoint(o,e),u=o.distanceToSquared(e),u<l&&(l=u,a&&a.copy(e),i&&i.copy(o)),this.closestPointToPoint(s,e),u=s.distanceToSquared(e),u<l&&(l=u,a&&a.copy(e),i&&i.copy(s)),Math.sqrt(l)}}(),v.prototype.intersectsTriangle=function(){const e=new v,t=new Array(3),n=new Array(3),a=new f,i=new f,o=new r.Vector3;return function(r){this.needsUpdate&&this.update(),r.isSeparatingAxisTriangle||(e.copy(r),e.update(),r=e);const s=this.satBounds,c=this.satAxes;n[0]=r.a,n[1]=r.b,n[2]=r.c;for(let e=0;e<4;e++){const t=s[e],r=c[e];if(a.setFromPoints(r,n),t.isSeparated(a))return!1}const u=r.satBounds,l=r.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let e=0;e<4;e++){const n=u[e],r=l[e];if(a.setFromPoints(r,t),n.isSeparated(a))return!1}for(let e=0;e<4;e++){const r=c[e];for(let e=0;e<4;e++){const s=l[e];if(o.crossVectors(r,s),a.setFromPoints(o,t),i.setFromPoints(o,n),a.isSeparated(i))return!1}}return!0}}(),v.prototype.distanceToPoint=function(){const e=new r.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),v.prototype.distanceToTriangle=function(){const e=new r.Vector3,t=new r.Vector3,n=["a","b","c"],a=new r.Line3,i=new r.Line3;return function(r,o=null,s=null){if(r.needsUpdate&&r.update(),this.needsUpdate&&this.update(),this.intersectsTriangle(r))return(o||s)&&(this.getMidpoint(e),r.closestPointToPoint(e,t),this.closestPointToPoint(t,e),o&&o.copy(e),s&&s.copy(t)),0;let c=1/0;for(let t=0;t<3;t++){let a;const i=n[t],u=r[i];this.closestPointToPoint(u,e),a=u.distanceToSquared(e),a<c&&(c=a,o&&o.copy(e),s&&s.copy(u));const l=this[i];r.closestPointToPoint(l,e),a=l.distanceToSquared(e),a<c&&(c=a,o&&o.copy(l),s&&s.copy(e))}for(let u=0;u<3;u++){const l=n[u],d=n[(u+1)%3];a.set(this[l],this[d]);for(let u=0;u<3;u++){const l=n[u],d=n[(u+1)%3];i.set(r[l],r[d]),m(a,i,e,t);const h=e.distanceToSquared(t);h<c&&(c=h,o&&o.copy(e),s&&s.copy(t))}}return Math.sqrt(c)}}();class b extends r.Box3{constructor(...e){super(...e),this.isOrientedBox=!0,this.matrix=new r.Matrix4,this.invMatrix=new r.Matrix4,this.points=new Array(8).fill().map(()=>new r.Vector3),this.satAxes=new Array(3).fill().map(()=>new r.Vector3),this.satBounds=new Array(3).fill().map(()=>new f),this.alignedSatBounds=new Array(3).fill().map(()=>new f),this.sphere=new r.Sphere}set(e,t,n){super.set(e,t),this.matrix=n}copy(e){super.copy(e),this.matrix.copy(e.matrix)}}function y(e,t,n,r){const a=e.a,i=e.b,o=e.c;let s=n.getX(t);a.x=r.getX(s),a.y=r.getY(s),a.z=r.getZ(s),s=n.getX(t+1),i.x=r.getX(s),i.y=r.getY(s),i.z=r.getZ(s),s=n.getX(t+2),o.x=r.getX(s),o.y=r.getY(s),o.z=r.getZ(s)}b.prototype.update=function(){const e=this.matrix,t=this.min,n=this.max,r=this.points;for(let a=0;a<=1;a++)for(let i=0;i<=1;i++)for(let o=0;o<=1;o++){const s=r[1*a|2*i|4*o];s.x=a?n.x:t.x,s.y=i?n.y:t.y,s.z=o?n.z:t.z,s.applyMatrix4(e)}this.sphere.setFromPoints(this.points);const a=this.satBounds,i=this.satAxes,o=r[0];for(let e=0;e<3;e++){const t=i[e],n=a[e],s=r[1<<e];t.subVectors(o,s),n.setFromPoints(t,r)}const s=this.alignedSatBounds;s[0].setFromPointsField(r,"x"),s[1].setFromPointsField(r,"y"),s[2].setFromPointsField(r,"z"),this.invMatrix.copy(this.matrix).invert()},b.prototype.intersectsBox=function(){const e=new f;return function(t){if(!t.intersectsSphere(this.sphere))return!1;const n=t.min,r=t.max,a=this.satBounds,i=this.satAxes,o=this.alignedSatBounds;if(e.min=n.x,e.max=r.x,o[0].isSeparated(e))return!1;if(e.min=n.y,e.max=r.y,o[1].isSeparated(e))return!1;if(e.min=n.z,e.max=r.z,o[2].isSeparated(e))return!1;for(let n=0;n<3;n++){const r=i[n],o=a[n];if(e.setFromBox(r,t),o.isSeparated(e))return!1}return!0}}(),b.prototype.intersectsTriangle=function(){const e=new v,t=new Array(3),n=new f,a=new f,i=new r.Vector3;return function(r){r.isSeparatingAxisTriangle?r.needsUpdate&&r.update():(e.copy(r),e.update(),r=e);const o=this.satBounds,s=this.satAxes;t[0]=r.a,t[1]=r.b,t[2]=r.c;for(let e=0;e<3;e++){const r=o[e],a=s[e];if(n.setFromPoints(a,t),r.isSeparated(n))return!1}const c=r.satBounds,u=r.satAxes,l=this.points;for(let e=0;e<3;e++){const t=c[e],r=u[e];if(n.setFromPoints(r,l),t.isSeparated(n))return!1}for(let e=0;e<3;e++){const r=s[e];for(let e=0;e<4;e++){const o=u[e];if(i.crossVectors(r,o),n.setFromPoints(i,t),a.setFromPoints(i,l),n.isSeparated(a))return!1}}return!0}}(),b.prototype.closestPointToPoint=function(e,t){return t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t},b.prototype.distanceToPoint=function(){const e=new r.Vector3;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}(),b.prototype.distanceToBox=function(){const e=["x","y","z"],t=new Array(12).fill().map(()=>new r.Line3),n=new Array(12).fill().map(()=>new r.Line3),a=new r.Vector3,i=new r.Vector3;return function(r,o=0,s=null,c=null){if(this.intersectsBox(r))return(s||c)&&(r.getCenter(i),this.closestPointToPoint(i,a),r.closestPointToPoint(a,i),s&&s.copy(a),c&&c.copy(i)),0;const u=o*o,l=r.min,d=r.max,h=this.points;let f=1/0;for(let e=0;e<8;e++){const t=h[e];i.copy(t).clamp(l,d);const n=t.distanceToSquared(i);if(n<f&&(f=n,s&&s.copy(t),c&&c.copy(i),n<u))return Math.sqrt(n)}let p=0;for(let r=0;r<3;r++)for(let a=0;a<=1;a++)for(let i=0;i<=1;i++){const o=(r+1)%3,s=(r+2)%3,c=1<<r|a<<o|i<<s,u=h[a<<o|i<<s],f=h[c];t[p].set(u,f);const m=e[r],g=e[o],v=e[s],b=n[p],y=b.start,w=b.end;y[m]=l[m],y[g]=a?l[g]:d[g],y[v]=i?l[v]:d[g],w[m]=d[m],w[g]=a?l[g]:d[g],w[v]=i?l[v]:d[g],p++}for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)for(let n=0;n<=1;n++){i.x=e?d.x:l.x,i.y=t?d.y:l.y,i.z=n?d.z:l.z,this.closestPointToPoint(i,a);const r=i.distanceToSquared(a);if(r<f&&(f=r,s&&s.copy(a),c&&c.copy(i),r<u))return Math.sqrt(r)}for(let e=0;e<12;e++){const r=t[e];for(let e=0;e<12;e++){const t=n[e];m(r,t,a,i);const o=a.distanceToSquared(i);if(o<f&&(f=o,s&&s.copy(a),c&&c.copy(i),o<u))return Math.sqrt(o)}}return Math.sqrt(f)}}();var w=new r.Vector3,E=new r.Vector3,x=new r.Vector3,_=new r.Vector2,A=new r.Vector2,L=new r.Vector2,S=new r.Vector3,k=new r.Vector3;function M(e,t,n,a,i,o,s,c){w.fromBufferAttribute(a,o),E.fromBufferAttribute(a,s),x.fromBufferAttribute(a,c);var u=function(e,t,n,a,i,o,s,c){if(null===(t.side===r.BackSide?a.intersectTriangle(s,o,i,!0,c):a.intersectTriangle(i,o,s,t.side!==r.DoubleSide,c)))return null;k.copy(c),k.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(k);return u<n.near||u>n.far?null:{distance:u,point:k.clone(),object:e}}(e,e.material,t,n,w,E,x,S);if(u){i&&(_.fromBufferAttribute(i,o),A.fromBufferAttribute(i,s),L.fromBufferAttribute(i,c),u.uv=r.Triangle.getUV(S,w,E,x,_,A,L,new r.Vector2));const e={a:o,b:s,c:c,normal:new r.Vector3,materialIndex:0};r.Triangle.getNormal(w,E,x,e.normal),u.face=e,u.faceIndex=o}return u}function T(e,t,n,r,a,i){const o=3*a,s=t.index.getX(o),c=t.index.getX(o+1),u=t.index.getX(o+2),l=M(e,n,r,t.attributes.position,t.attributes.uv,s,c,u);return l?(l.faceIndex=a,i&&i.push(l),l):null}function R(e,t,n,r,a,i,o){for(let s=a,c=a+i;s<c;s++)T(e,t,n,r,s,o)}function C(e,t,n,r,a,i){let o=1/0,s=null;for(let c=a,u=a+i;c<u;c++){const a=T(e,t,n,r,c);a&&a.distance<o&&(s=a,o=a.distance)}return s}const P=new r.Box3,O=new r.Vector3,D=["x","y","z"];function I(e,t,n){return i(e.boundingData,P),t.intersectBox(P,n)}function Z(e,t,n,r,a){e.continueGeneration&&e.continueGeneration();!!e.count?R(t,t.geometry,n,r,e.offset,e.count,a):(I(e.left,r,O)&&Z(e.left,t,n,r,a),I(e.right,r,O)&&Z(e.right,t,n,r,a))}function j(e,t,n,r){e.continueGeneration&&e.continueGeneration();if(!!e.count)return C(t,t.geometry,n,r,e.offset,e.count);{const a=e.splitAxis,i=D[a],o=r.direction[i]>=0;let s,c;o?(s=e.left,c=e.right):(s=e.right,c=e.left);const u=I(s,r,O)?j(s,t,n,r):null;if(u){const e=u.point[i];if(o?e<=c.boundingData[a]:e>=c.boundingData[a+3])return u}const l=I(c,r,O)?j(c,t,n,r):null;return u&&l?u.distance<=l.distance?u:l:u||l||null}}const F=function(){const e=new v,t=new r.Box3,n=new r.Box3;function a(e,t,n,r,a,i,o){const s=n.index,c=n.attributes.position;for(let n=3*e,u=3*(t+e);n<u;n+=3)if(y(o,n,s,c),o.needsUpdate=!0,r(o,n,n+1,n+2,a,i))return!0;return!1}return function r(o,s,c,u=null,l=null,d=0,h=e,f=t,p=n){function m(e){for(e.continueGeneration&&e.continueGeneration();!e.count;)(e=e.left).continueGeneration&&e.continueGeneration();return e.offset}function g(e){for(e.continueGeneration&&e.continueGeneration();!e.count;)(e=e.right).continueGeneration&&e.continueGeneration();return e.offset+e.count}o.continueGeneration&&o.continueGeneration();if(!!o.count&&u){const e=s.geometry;return a(o.offset,o.count,e,u,!1,d,h)}{const e=o.left,t=o.right;let n,v,b,y,w=e,E=t;if(l&&(b=f,y=p,i(w.boundingData,b),i(E.boundingData,y),n=l(b),v=l(y),v<n)){w=t,E=e;const r=n;n=v,v=r,b=y}b||(b=f,i(w.boundingData,b));const x=c(b,!!w.count,n,d+1);let _;if(2===x){const e=s.geometry,t=m(w);_=a(t,g(w)-t,e,u,!0,d+1,h)}else _=x&&r(w,s,c,u,l,d+1,h,f,p);if(_)return!0;y=p,i(E.boundingData,y);const A=c(y,!!E.count,v,d+1);let L;if(2===A){const e=s.geometry,t=m(E);L=a(t,g(E)-t,e,u,!0,d+1,h)}else L=A&&r(E,s,c,u,l,d+1,h,f,p);return!!L}}}(),U=function(){const e=new v,t=new v,n=new r.Mesh,a=new r.Matrix4,o=new b,s=new b;return function r(c,u,l,d,h=null){c.continueGeneration&&c.continueGeneration(),null===h&&(l.boundingBox||l.computeBoundingBox(),o.set(l.boundingBox.min,l.boundingBox.max,d),o.update(),h=o);if(!!!c.count){const e=c.left,t=c.right;i(e.boundingData,P);if(h.intersectsBox(P)&&r(e,u,l,d,h))return!0;i(t.boundingData,P);return!!(h.intersectsBox(P)&&r(t,u,l,d,h))}{const r=u.geometry,o=r.index,h=r.attributes.position,f=l.index,p=l.attributes.position,m=c.offset,g=c.count;if(a.copy(d).invert(),l.boundsTree){i(c.boundingData,s),s.matrix.copy(a),s.update(),n.geometry=l;const e=l.boundsTree.shapecast(n,e=>s.intersectsBox(e),(function(e){e.a.applyMatrix4(d),e.b.applyMatrix4(d),e.c.applyMatrix4(d),e.update();for(let n=3*m,r=3*(g+m);n<r;n+=3)if(y(t,n,o,h),t.update(),e.intersectsTriangle(t))return!0;return!1}));return n.geometry=null,e}for(let n=3*m,r=g+3*m;n<r;n+=3){y(e,n,o,h),e.a.applyMatrix4(a),e.b.applyMatrix4(a),e.c.applyMatrix4(a),e.update();for(let n=0,r=f.count;n<r;n+=3)if(y(t,n,f,p),t.update(),e.intersectsTriangle(t))return!0}}}}(),N=new r.Box3,B=new r.Vector3,z=["x","y","z"];function H(e,t,n,r,a){let i=2*e,o=X,s=Q,c=J;!(65535!==s[i+15])?R(t,t.geometry,n,r,c[e+6],s[i+14],a):(q(e+8,o,r,B)&&H(e+8,t,n,r,a),q(c[e+6],o,r,B)&&H(c[e+6],t,n,r,a))}function G(e,t,n,r){let a=2*e,i=X,o=Q,s=J;if(!(65535!==o[a+15]))return C(t,t.geometry,n,r,s[e+6],o[a+14]);{const a=s[e+7],o=z[a],c=r.direction[o]>=0;let u,l;c?(u=e+8,l=s[e+6]):(u=s[e+6],l=e+8);const d=q(u,i,r,B)?G(u,t,n,r):null;if(d){const e=d.point[o];if(c?e<=i[l+a]:e>=i[l+a+3])return d}const h=q(l,i,r,B)?G(l,t,n,r):null;return d&&h?d.distance<=h.distance?d:h:d||h||null}}const V=function(){const e=new v,t=new r.Box3,n=new r.Box3;function a(e,t,n,r,a,i,o){const s=n.index,c=n.attributes.position;for(let n=3*e,u=3*(t+e);n<u;n+=3)if(y(o,n,s,c),o.needsUpdate=!0,r(o,n,n+1,n+2,a,i))return!0;return!1}return function r(i,o,s,c=null,u=null,l=0,d=e,h=t,f=n){function p(e){let t=2*e,n=Q,r=J;for(;65535!==n[t+15];)t=2*(e+=8);return r[e+6]}function m(e){let t=2*e,n=Q,r=J;for(;65535!==n[t+15];)t=2*(e=r[e+6]);return r[e+6]+n[t+14]}let g=2*i,v=X,b=Q,y=J;if(!(65535!==b[g+15])&&c){const e=o.geometry;return a(y[i+6],b[g+14],e,c,!1,l,d)}{const e=i+8,t=y[i+6];let n,g,w,E,x=e,_=t;if(u&&(w=h,E=f,te(x,v,w),te(_,v,E),n=u(w),g=u(E),g<n)){x=t,_=e;const r=n;n=g,g=r,w=E}w||(w=h,te(x,v,w));const A=s(w,!(65535!==b[x+15]),n,l+1);let L;if(2===A){const e=o.geometry,t=p(x);L=a(t,m(x)-t,e,c,!0,l+1,d)}else L=A&&r(x,o,s,c,u,l+1,d,h,f);if(L)return!0;E=f,te(_,v,E);const S=s(E,!(65535!==b[_+15]),g,l+1);let k;if(2===S){const e=o.geometry,t=p(_);k=a(t,m(_)-t,e,c,!0,l+1,d)}else k=S&&r(_,o,s,c,u,l+1,d,h,f);return!!k}}}(),W=function(){const e=new v,t=new v,n=new r.Mesh,a=new r.Matrix4,i=new b,o=new b;return function r(s,c,u,l,d=null){let h=2*s,f=X,p=Q,m=J;null===d&&(u.boundingBox||u.computeBoundingBox(),i.set(u.boundingBox.min,u.boundingBox.max,l),i.update(),d=i);if(!!(65535!==p[h+15])){const e=s+8,t=m[s+6];te(e,f,N);if(d.intersectsBox(N)&&r(e,c,u,l,d))return!0;te(t,f,N);return!!(d.intersectsBox(N)&&r(t,c,u,l,d))}{const r=c.geometry,i=r.index,d=r.attributes.position,g=u.index,v=u.attributes.position,b=m[s+6],w=p[h+14];if(a.copy(l).invert(),u.boundsTree){te(s,f,o),o.matrix.copy(a),o.update(),n.geometry=u;const e=u.boundsTree.shapecast(n,e=>o.intersectsBox(e),(function(e){e.a.applyMatrix4(l),e.b.applyMatrix4(l),e.c.applyMatrix4(l),e.update();for(let n=3*b,r=3*(w+b);n<r;n+=3)if(y(t,n,i,d),t.update(),e.intersectsTriangle(t))return!0;return!1}));return n.geometry=null,e}for(let n=3*b,r=w+3*b;n<r;n+=3){y(e,n,i,d),e.a.applyMatrix4(a),e.b.applyMatrix4(a),e.c.applyMatrix4(a),e.update();for(let n=0,r=g.count;n<r;n+=3)if(y(t,n,g,v),t.update(),e.intersectsTriangle(t))return!0}}}}();function q(e,t,n,r){return te(e,t,N),n.intersectBox(N,r)}const Y=[];let K,X,Q,J;function $(e){K&&Y.push(K),K=e,X=new Float32Array(e),Q=new Uint16Array(e),J=new Uint32Array(e)}function ee(){K=null,X=null,Q=null,J=null,Y.length&&$(Y.pop())}function te(e,t,n){n.min.x=t[e],n.min.y=t[e+1],n.min.z=t[e+2],n.max.x=t[e+3],n.max.y=t[e+4],n.max.z=t[e+5]}const ne=Symbol("skip tree generation"),re=new b,ae=new r.Vector3,ie=new v,oe=new r.Vector3,se=new r.Vector3;class ce{static serialize(e,t,n=!0){function r(e){e.continueGeneration&&e.continueGeneration(),e.count||(r(e.left),r(e.right))}function a(e){return e.count?1:1+a(e.left)+a(e.right)}function i(e,t){const n=e/4,r=e/2,a=!!t.count,u=t.boundingData;for(let e=0;e<6;e++)o[n+e]=u[e];if(a){const a=t.offset,i=t.count;return s[n+6]=a,c[r+14]=i,c[r+15]=65535,e+32}{const r=t.left,a=t.right,o=t.splitAxis;let c;return c=i(e+32,r),s[n+6]=c/4,c=i(c,a),s[n+7]=o,c}}let o,s,c;const u=e._roots;let l;if(e._isPacked)l=u;else{l=[];for(let e=0;e<u.length;e++){const t=u[e];r(t);let n=a(t);const d=new ArrayBuffer(32*n);o=new Float32Array(d),s=new Uint32Array(d),c=new Uint16Array(d),i(0,t),l.push(d)}}const d=t.getIndex();return{roots:l,index:n?d.array.slice():d.array}}static deserialize(e,t,n=!0){const{index:a,roots:i}=e,o=new ce(t,{[ne]:!0});if(o._roots=i,o._isPacked=!0,n){const n=t.getIndex();if(null===n){const n=new r.BufferAttribute(e.index,1,!1);t.setIndex(n)}else n.array!==a&&(n.array.set(a),n.needsUpdate=!0)}return o}constructor(e,t={}){if(!e.isBufferGeometry)throw new Error("MeshBVH: Only BufferGeometries are supported.");if(e.attributes.position.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the position attribute.");if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.");(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,lazyGeneration:!0,packData:!0,[ne]:!1},t)).strategy=Math.max(0,Math.min(2,t.strategy)),this._isPacked=!1,this._roots=null,t[ne]||(this._roots=h(e,t),!t.lazyGeneration&&t.packData&&(this._roots=ce.serialize(this,e,!1).roots,this._isPacked=!0))}traverse(e,t=0){if(this._isPacked){const n=this._roots[t],r=new Uint32Array(n),a=new Uint16Array(n);!function t(i,o=0){const s=2*i,c=a[s+15];if(c){const t=r[i+6],u=a[s+14];e(o,c,new Float32Array(n,4*i,6),t,u)}else{const a=i+8,s=r[i+6],u=r[i+7];e(o,c,new Float32Array(n,4*i,6),u,!1)||(t(a,o+1),t(s,o+1))}}(0)}else{!function t(n,r=0){const a=!!n.count;if(a)e(r,a,n.boundingData,n.offset,n.count);else{e(r,a,n.boundingData,n.splitAxis,!!n.continueGeneration)||(n.left&&t(n.left,r+1),n.right&&t(n.right,r+1))}}(this._roots[t])}}raycast(e,t,n,r){const a=this._isPacked;for(const i of this._roots)a?($(i),H(0,e,t,n,r)):Z(i,e,t,n,r);a&&ee()}raycastFirst(e,t,n){const r=this._isPacked;let a=null;for(const i of this._roots){let o;r?($(i),o=G(0,e,t,n)):o=j(i,e,t,n),null!=o&&(null==a||o.distance<a.distance)&&(a=o)}return r&&ee(),a}intersectsGeometry(e,t,n){const r=this._isPacked;let a=!1;for(const i of this._roots)if(r?($(i),a=W(0,e,t,n)):a=U(i,e,t,n),a)break;return r&&ee(),a}shapecast(e,t,n=null,r=null){const a=this._isPacked;let i=!1;for(const o of this._roots)if(a?($(o),i=V(0,e,t,n,r)):i=F(o,e,t,n,r),i)break;return a&&ee(),i}intersectsBox(e,t,n){return re.set(t.min,t.max,n),re.update(),this.shapecast(e,e=>re.intersectsBox(e),e=>re.intersectsTriangle(e))}intersectsSphere(e,t){return this.shapecast(e,e=>t.intersectsBox(e),e=>e.intersectsSphere(t))}closestPointToGeometry(e,t,n,r=null,a=null,i=0,o=1/0){t.boundingBox||t.computeBoundingBox(),re.set(t.boundingBox.min,t.boundingBox.max,n),re.update();const s=t.attributes.position,c=t.index;let u=null,l=null;r&&(u=oe),a&&(l=se);let d=1/0;return this.shapecast(e,(e,t,n)=>n<d&&n<o,e=>{e.needsUpdate&&e.update();const t=e.sphere;for(let o=0,h=c.count;o<h;o+=3){y(ie,o,c,s),ie.a.applyMatrix4(n),ie.b.applyMatrix4(n),ie.c.applyMatrix4(n),ie.sphere.setFromPoints(ie.points);const h=ie.sphere;if(h.center.distanceTo(t.center)-h.radius-t.radius>d)continue;ie.update();const f=e.distanceToTriangle(ie,u,l);if(f<d&&(r&&r.copy(u),a&&a.copy(l),d=f),f<i)return!0}return!1},e=>re.distanceToBox(e,Math.min(d,o))),d}distanceToGeometry(e,t,n,r,a){return this.closestPointToGeometry(e,t,n,null,null,r,a)}closestPointToPoint(e,t,n,r=0,a=1/0){let i=1/0;return this.shapecast(e,(e,t,n)=>n<i&&n<a,e=>{e.closestPointToPoint(t,ae);const a=t.distanceTo(ae);return a<i&&(n&&n.copy(ae),i=a),a<r},e=>e.distanceToPoint(t)),i}distanceToPoint(e,t,n,r){return this.closestPointToPoint(e,t,null,n,r)}}new r.LineBasicMaterial({color:65416,transparent:!0,opacity:.3}),(new r.Box3Helper).geometry;new r.Box3;r.Group;r.Group;new r.Box3,new r.Box3,new r.Vector3;const ue=new r.Ray,le=new r.Matrix4,de=r.Mesh.prototype.raycast;function he(e,t){if(this.geometry.boundsTree){if(void 0===this.material)return;if(le.copy(this.matrixWorld).invert(),ue.copy(e.ray).applyMatrix4(le),!0===e.firstHitOnly){const n=this.geometry.boundsTree.raycastFirst(this,e,ue);n&&t.push(n)}else this.geometry.boundsTree.raycast(this,e,ue,t)}else de.call(this,e,t)}},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={CAMERA_LAYER_DEFAULT:0,CAMERA_LAYER_XR_LEFT_EYE:1,CAMERA_LAYER_XR_RIGHT_EYE:2,CAMERA_LAYER_REFLECTION:3,CAMERA_LAYER_INSPECT:4,CAMERA_LAYER_BATCH_INSPECT:5,CAMERA_LAYER_VIDEO_TEXTURE_TARGET:6,CAMERA_LAYER_THIRD_PERSON_ONLY:7,CAMERA_LAYER_FIRST_PERSON_ONLY:8};AFRAME.registerComponent("layers",{schema:{reflection:{type:"boolean",default:!1},inWorldHud:{type:"boolean",default:!1},exclusive:{type:"boolean",default:!1}},init(){this.update=this.update.bind(this),this.el.addEventListener("model-loaded",this.update)},update(e){const t=this.el.object3D;this.data.exclusive&&t.traverse(e=>e.layers.mask=0);for(const[n,a]of Object.entries(r)){const r=e[n],i=this.data[n];r!==i&&(i?t.traverse(e=>e.layers.enable(a)):t.traverse(e=>e.layers.disable(a)))}},remove(){this.el.removeEventListener("model-loaded",this.update)}})},25:function(e,t,n){"use strict";n.d(t,"f",(function(){return B})),n.d(t,"v",(function(){return z})),n.d(t,"k",(function(){return H})),n.d(t,"l",(function(){return G})),n.d(t,"i",(function(){return V})),n.d(t,"w",(function(){return W})),n.d(t,"u",(function(){return q})),n.d(t,"t",(function(){return Y})),n.d(t,"y",(function(){return K})),n.d(t,"x",(function(){return X})),n.d(t,"o",(function(){return Q})),n.d(t,"q",(function(){return J})),n.d(t,"j",(function(){return $})),n.d(t,"b",(function(){return ee})),n.d(t,"d",(function(){return te})),n.d(t,"n",(function(){return ne})),n.d(t,"s",(function(){return re})),n.d(t,"c",(function(){return ae})),n.d(t,"e",(function(){return ie})),n.d(t,"m",(function(){return oe})),n.d(t,"h",(function(){return se})),n.d(t,"g",(function(){return ce})),n.d(t,"a",(function(){return ue})),n.d(t,"p",(function(){return de})),n.d(t,"r",(function(){return he})),n.d(t,"z",(function(){return fe}));var r=n(155),a=n.n(r),i=n(397),o=n.n(i),s=n(324),c=n.n(s),u=n(398),l=n.n(u),d=n(399),h=n.n(d),f=n(400),p=n.n(f),m=n(401),g=n.n(m),v=n(402),b=n.n(v),y=n(403),w=n.n(y),E=n(404),x=n.n(E),_=n(405),A=n.n(_),L=n(325),S=n.n(L),k=n(406),M=n.n(k),T=n(407),R=n.n(T),C=n(408),P=n.n(C),O=n(409),D=n.n(O),I=n(410),Z=n.n(I),j=n(11),F=n(230),U=n(10);let N=0;const B=N++,z=N++,H=N++,G=N++,V=N++,W=N++,q=N++,Y=N++,K=N++,X=N++,Q=N++,J=N++,$=N++,ee=N++,te=N++,ne=N++,re=N++,ae=N++,ie=N++,oe=N++,se=N++,ce=N++,ue=N++,le=N++,de=N++,he=N++;class fe{constructor(e){this.pendingAudioSourceNodes=[],this.pendingPositionalAudios=[],this.positionalAudiosStationary=[],this.positionalAudiosFollowingObject3Ds=[],this.audioContext=THREE.AudioContext.getContext(),this.scene=e;const t=[[B,a.a],[z,a.a],[H,a.a],[G,a.a],[V,a.a],[W,a.a],[ue,a.a],[q,o.a],[Y,c.a],[K,c.a],[X,a.a],[Q,l.a],[J,h.a],[$,p.a],[ee,g.a],[te,b.a],[ne,w.a],[re,x.a],[ae,A.a],[ie,S.a],[oe,M.a],[se,P.a],[ce,R.a],[le,S.a],[de,D.a],[he,Z.a]],n=new Map,r=e=>{let t=n.get(e);return t||(t=fetch(e).then(e=>e.arrayBuffer()).then(e=>function(e,t){return new Promise((n,r)=>{e.decodeAudioData(t,n,r)})}(this.audioContext,e)),n.set(e,t)),t};this.sounds=new Map,t.map(([e,t])=>{r(t).then(t=>{this.sounds.set(e,t)})}),this.isDisabled=window.APP.store.state.preferences.disableSoundEffects,window.APP.store.addEventListener("statechanged",()=>{const e=window.APP.store.state.preferences.disableSoundEffects;e&&!this.isDisabled&&this.stopAllPositionalAudios(),this.isDisabled=e})}enqueueSound(e,t){if(this.isDisabled)return null;const n=this.sounds.get(e);if(!n)return null;const r=this.audioContext.createBufferSource();return r.buffer=n,this.scene.systems["hubs-systems"].audioSystem.addAudio({sourceType:U.g.SFX,node:r}),r.loop=t,this.pendingAudioSourceNodes.push(r),r}enqueuePositionalSound(e,t){if(this.isDisabled)return null;const n=this.sounds.get(e);if(!n)return null;const r=Object(F.a)()||window.APP.store.state.preferences.disableLeftRightPanning?new THREE.Audio(this.scene.audioListener):new THREE.PositionalAudio(this.scene.audioListener);return r.setBuffer(n),r.loop=t,this.pendingPositionalAudios.push(r),this.scene.systems["hubs-systems"].audioSystem.addAudio({sourceType:U.g.SFX,node:r}),r}playPositionalSoundAt(e,t,n){const r=this.enqueuePositionalSound(e,n);if(!r)return null;r.position.copy(t),r.matrixWorldNeedsUpdate=!0,this.positionalAudiosStationary.push(r)}playPositionalSoundFollowing(e,t,n){const r=this.enqueuePositionalSound(e,n);return r?(this.positionalAudiosFollowingObject3Ds.push({positionalAudio:r,object3D:t}),r):null}playSoundOneShot(e){return this.enqueueSound(e,!1)}playSoundLooped(e){return this.enqueueSound(e,!0)}playSoundLoopedWithGain(e){if(this.isDisabled)return null;const t=this.sounds.get(e);if(!t)return null;const n=this.audioContext.createBufferSource(),r=this.audioContext.createGain();return n.buffer=t,n.connect(r),this.scene.systems["hubs-systems"].audioSystem.addAudio({sourceType:U.g.SFX,node:r}),n.loop=!0,this.pendingAudioSourceNodes.push(n),{gain:r,source:n}}stopSoundNode(e){const t=this.pendingAudioSourceNodes.indexOf(e);-1!==t?this.pendingAudioSourceNodes.splice(t,1):(e.stop(),this.scene.systems["hubs-systems"].audioSystem.removeAudio({node:e}))}stopPositionalAudio(e){const t=this.pendingPositionalAudios.indexOf(e);-1!==t?this.pendingPositionalAudios.splice(t,1):(e.isPlaying&&e.stop(),e.parent&&e.removeFromParent()),this.positionalAudiosStationary=this.positionalAudiosStationary.filter(t=>t!==e),this.positionalAudiosFollowingObject3Ds=this.positionalAudiosFollowingObject3Ds.filter(({positionalAudio:t})=>t!==e),this.scene.systems["hubs-systems"].audioSystem.removeAudio({node:e})}stopAllPositionalAudios(){for(let e=this.positionalAudiosStationary.length-1;e>=0;e--){const t=this.positionalAudiosStationary[e];this.stopPositionalAudio(t)}for(let e=this.positionalAudiosFollowingObject3Ds.length-1;e>=0;e--){const t=this.positionalAudiosFollowingObject3Ds[e].positionalAudio;this.stopPositionalAudio(t)}}tick(){if(!this.isDisabled){for(let e=0;e<this.pendingAudioSourceNodes.length;e++)this.pendingAudioSourceNodes[e].start();this.pendingAudioSourceNodes.length=0;for(let e=0;e<this.pendingPositionalAudios.length;e++){const t=this.pendingPositionalAudios[e];this.scene.object3D.add(t),t.play()}this.pendingPositionalAudios.length=0;for(let e=this.positionalAudiosStationary.length-1;e>=0;e--){const t=this.positionalAudiosStationary[e];t.isPlaying||this.stopPositionalAudio(t)}for(let e=this.positionalAudiosFollowingObject3Ds.length-1;e>=0;e--){const t=this.positionalAudiosFollowingObject3Ds[e],n=t.positionalAudio,r=t.object3D;n.isPlaying&&r.parent?(r.updateMatrices(),Object(j.n)(n,r.matrixWorld)):this.stopPositionalAudio(n)}}}}},256:function(e,t,n){"use strict";function r(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function a(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===a(e)}function o(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function l(e){var t=e.re=n(378)(e.__opts__),r=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function u(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===a(n))return!function(e){return"[object RegExp]"===a(e)}(n.validate)?i(n.validate)?r.validate=n.validate:u(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?u(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===a(e)}(n)?u(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var l=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(o).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+l+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,a=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=a,this.text=a,this.url=a}function h(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function f(e,t){if(!(this instanceof f))return new f(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},c,e),this.__compiled__={},this.__tlds__=u,this.__tlds_replaced__=!1,this.re={},l(this)}f.prototype.add=function(e,t){return this.__schemas__[e]=t,l(this),this},f.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},f.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,a,i,o,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(a=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+a;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,o=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o)),this.__index__>=0},f.prototype.pretest=function(e){return this.re.pretest.test(e)},f.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},f.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(h(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(h(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},f.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),l(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,l(this),this)},f.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},f.prototype.onCompile=function(){},e.exports=f},267:function(e,t,n){"use strict";function r(e){return e*(2-e)}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const a=function(){const e=2*Math.PI,t=.3/e,n=Math.asin(1)*t;return function(e){return 1-1*Math.pow(2,-10*(e=+e))*Math.sin((e+n)/t)}}()},268:function(e,t,n){e.exports=n.p+"assets/waternormals-4418dde3f6abc21dc32506acf5f5b093.jpg"},27:function(e,t){e.exports={GRAVITY:-9.8,MAX_INTERVAL:4/60,ITERATIONS:10,SIMULATION_RATE:8.333,ACTIVATION_STATE:{ACTIVE_TAG:"active",ISLAND_SLEEPING:"islandSleeping",WANTS_DEACTIVATION:"wantsDeactivation",DISABLE_DEACTIVATION:"disableDeactivation",DISABLE_SIMULATION:"disableSimulation"},COLLISION_FLAG:{STATIC_OBJECT:1,KINEMATIC_OBJECT:2,NO_CONTACT_RESPONSE:4,CUSTOM_MATERIAL_CALLBACK:8,CHARACTER_OBJECT:16,DISABLE_VISUALIZE_OBJECT:32,DISABLE_SPU_COLLISION_PROCESSING:64},TYPE:{STATIC:"static",DYNAMIC:"dynamic",KINEMATIC:"kinematic"},SHAPE:{BOX:"box",CYLINDER:"cylinder",SPHERE:"sphere",CAPSULE:"capsule",CONE:"cone",HULL:"hull",HACD:"hacd",VHACD:"vhacd",MESH:"mesh",HEIGHTFIELD:"heightfield"},FIT:{ALL:"all",MANUAL:"manual"},CONSTRAINT:{LOCK:"lock",FIXED:"fixed",SPRING:"spring",SLIDER:"slider",HINGE:"hinge",CONE_TWIST:"coneTwist",POINT_TO_POINT:"pointToPoint"},MESSAGE_TYPES:{INIT:0,READY:1,ADD_BODY:2,BODY_READY:3,UPDATE_BODY:4,REMOVE_BODY:5,ADD_SHAPES:6,REMOVE_SHAPES:7,ADD_CONSTRAINT:8,REMOVE_CONSTRAINT:9,ENABLE_DEBUG:10,RESET_DYNAMIC_BODY:11,ACTIVATE_BODY:12,TRANSFER_DATA:13},BUFFER_CONFIG:{HEADER_LENGTH:2,MAX_BODIES:1e4,MATRIX_OFFSET:0,LINEAR_VELOCITY_OFFSET:16,ANGULAR_VELOCITY_OFFSET:17,COLLISIONS_OFFSET:18,BODY_DATA_SIZE:26},BUFFER_STATE:{UNINITIALIZED:0,READY:1,CONSUMED:2}}},272:function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},281:function(e,t){e.exports=["aaa","aarp","abarth","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","active","actor","ad","adac","ads","adult","ae","aeg","aero","aetna","af","afamilycompany","afl","africa","ag","agakhan","agency","ai","aig","aigo","airbus","airforce","airtel","akdn","al","alfaromeo","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","avianca","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","bananarepublic","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blanco","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnl","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","budapest","bugatti","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","cancerresearch","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","cartier","casa","case","caseih","cash","casino","cat","catering","catholic","cba","cbn","cbre","cbs","cc","cd","ceb","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","chase","chat","cheap","chintai","christmas","chrome","chrysler","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","cityeats","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","comcast","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cookingchannel","cool","coop","corsica","country","coupon","coupons","courses","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","csc","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dabur","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dodge","dog","doha","domains","dot","download","drive","dtv","dubai","duck","dunlop","duns","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epost","epson","equipment","er","ericsson","erni","es","esq","estate","esurance","et","etisalat","eu","eurovision","eus","events","everbank","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fiat","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","foodnetwork","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontdoor","frontier","ftr","fujitsu","fujixerox","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glade","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodhands","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","guardian","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hgtv","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","honeywell","horse","hospital","host","hosting","hot","hoteles","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","industries","infiniti","info","ing","ink","institute","insurance","insure","int","intel","international","intuit","investments","io","ipiranga","iq","ir","irish","is","iselect","ismaili","ist","istanbul","it","itau","itv","iveco","iwc","jaguar","java","jcb","jcp","je","jeep","jetzt","jewelry","jio","jlc","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kim","kinder","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","ladbrokes","lamborghini","lamer","lancaster","lancia","lancome","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","liaison","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","linde","link","lipsy","live","living","lixil","lk","llc","loan","loans","locker","locus","loft","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","lupin","luxe","luxury","lv","ly","ma","macys","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","maserati","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","meo","merckmsd","metlife","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","mobily","moda","moe","moi","mom","monash","money","monster","mopar","mormon","mortgage","moscow","moto","motorcycles","mov","movie","movistar","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","mutual","mv","mw","mx","my","mz","na","nab","nadex","nagoya","name","nationwide","natura","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","newholland","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","northwesternmutual","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","off","office","okinawa","olayan","olayangroup","oldnavy","ollo","om","omega","one","ong","onl","online","onyourside","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","panerai","paris","pars","partners","parts","party","passagens","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","piaget","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","qvc","racing","radio","raid","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","rightathome","ril","rio","rip","rmit","ro","rocher","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sapo","sarl","sas","save","saxo","sb","sbi","sbs","sc","sca","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scjohnson","scor","scot","sd","se","search","seat","secure","security","seek","select","sener","services","ses","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shaw","shell","shia","shiksha","shoes","shop","shopping","shouji","show","showtime","shriram","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","space","spiegel","sport","spot","spreadbetting","sr","srl","srt","st","stada","staples","star","starhub","statebank","statefarm","statoil","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiftcover","swiss","sx","sy","sydney","symantec","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","telecity","telefonica","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tiffany","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelchannel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","uconnect","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","vista","vistaprint","viva","vivo","vlaanderen","vn","vodka","volkswagen","volvo","vote","voting","voto","voyage","vu","vuelos","wales","walmart","walter","wang","wanggou","warman","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xfinity","xihuan","xin","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","vermgensberater","vermgensberatung","","","","","","","","","","","","","","xperia","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zippo","zm","zone","zuerich","zw"]},282:function(e,t,n){e.exports=function(){return n(272)('!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="https://assets.metaverseplus2.xyz/hubs/",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i=\n/*!\n * ZipLoader\n * (c) 2017 @yomotsu\n * Released under the MIT License.\n * \n * ZipLoader uses the library pako released under the MIT license :\n * https://github.com/nodeca/pako/blob/master/LICENSE\n */\nfunction(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(i=0,t=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),r=0,t=0,n=e.length;t<n;t++)a=e[t],o.set(a,r),r+=a.length;return o}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(n)}));i.assign,i.shrinkBuf,i.setTyped,i.Buf8,i.Buf16,i.Buf32;var r=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+t[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0};var a=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();var o=function(e,t,n,i){var r=a,o=i+n;e^=-1;for(var s=i;s<o;s++)e=e>>>8^r[255&(e^t[s])];return-1^e},s=function(e,t){var n,i,r,a,o,s,f,l,d,u,c,h,w,p,b,m,v,k,g,y,x,_,B,A,S;n=e.state,i=e.next_in,A=e.input,r=i+(e.avail_in-5),a=e.next_out,S=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),f=n.dmax,l=n.wsize,d=n.whave,u=n.wnext,c=n.window,h=n.hold,w=n.bits,p=n.lencode,b=n.distcode,m=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{w<15&&(h+=A[i++]<<w,w+=8,h+=A[i++]<<w,w+=8),k=p[h&m];t:for(;;){if(h>>>=g=k>>>24,w-=g,0===(g=k>>>16&255))S[a++]=65535&k;else{if(!(16&g)){if(0==(64&g)){k=p[(65535&k)+(h&(1<<g)-1)];continue t}if(32&g){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}y=65535&k,(g&=15)&&(w<g&&(h+=A[i++]<<w,w+=8),y+=h&(1<<g)-1,h>>>=g,w-=g),w<15&&(h+=A[i++]<<w,w+=8,h+=A[i++]<<w,w+=8),k=b[h&v];n:for(;;){if(h>>>=g=k>>>24,w-=g,!(16&(g=k>>>16&255))){if(0==(64&g)){k=b[(65535&k)+(h&(1<<g)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&k,w<(g&=15)&&(h+=A[i++]<<w,(w+=8)<g&&(h+=A[i++]<<w,w+=8)),(x+=h&(1<<g)-1)>f){e.msg="invalid distance too far back",n.mode=30;break e}if(h>>>=g,w-=g,x>(g=a-o)){if((g=x-g)>d&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(_=0,B=c,0===u){if(_+=l-g,g<y){y-=g;do{S[a++]=c[_++]}while(--g);_=a-x,B=S}}else if(u<g){if(_+=l+u-g,(g-=u)<y){y-=g;do{S[a++]=c[_++]}while(--g);if(_=0,u<y){y-=g=u;do{S[a++]=c[_++]}while(--g);_=a-x,B=S}}}else if(_+=u-g,g<y){y-=g;do{S[a++]=c[_++]}while(--g);_=a-x,B=S}for(;y>2;)S[a++]=B[_++],S[a++]=B[_++],S[a++]=B[_++],y-=3;y&&(S[a++]=B[_++],y>1&&(S[a++]=B[_++]))}else{_=a-x;do{S[a++]=S[_++],S[a++]=S[_++],S[a++]=S[_++],y-=3}while(y>2);y&&(S[a++]=S[_++],y>1&&(S[a++]=S[_++]))}break}}break}}while(i<r&&a<s);i-=y=w>>3,h&=(1<<(w-=y<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<s?s-a+257:257-(a-s),n.hold=h,n.bits=w},f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],c=function(e,t,n,r,a,o,s,c){var h,w,p,b,m,v,k,g,y,x=c.bits,_=0,B=0,A=0,S=0,U=0,C=0,j=0,O=0,T=0,z=0,R=null,E=0,L=new i.Buf16(16),D=new i.Buf16(16),P=null,H=0;for(_=0;_<=15;_++)L[_]=0;for(B=0;B<r;B++)L[t[n+B]]++;for(U=x,S=15;S>=1&&0===L[S];S--);if(U>S&&(U=S),0===S)return a[o++]=20971520,a[o++]=20971520,c.bits=1,0;for(A=1;A<S&&0===L[A];A++);for(U<A&&(U=A),O=1,_=1;_<=15;_++)if(O<<=1,(O-=L[_])<0)return-1;if(O>0&&(0===e||1!==S))return-1;for(D[1]=0,_=1;_<15;_++)D[_+1]=D[_]+L[_];for(B=0;B<r;B++)0!==t[n+B]&&(s[D[t[n+B]]++]=B);if(0===e?(R=P=s,v=19):1===e?(R=f,E-=257,P=l,H-=257,v=256):(R=d,P=u,v=-1),z=0,B=0,_=A,m=o,C=U,j=0,p=-1,b=(T=1<<U)-1,1===e&&T>852||2===e&&T>592)return 1;for(;;){k=_-j,s[B]<v?(g=0,y=s[B]):s[B]>v?(g=P[H+s[B]],y=R[E+s[B]]):(g=96,y=0),h=1<<_-j,A=w=1<<C;do{a[m+(z>>j)+(w-=h)]=k<<24|g<<16|y|0}while(0!==w);for(h=1<<_-1;z&h;)h>>=1;if(0!==h?(z&=h-1,z+=h):z=0,B++,0==--L[_]){if(_===S)break;_=t[n+s[B]]}if(_>U&&(z&b)!==p){for(0===j&&(j=U),m+=A,O=1<<(C=_-j);C+j<S&&!((O-=L[C+j])<=0);)C++,O<<=1;if(T+=1<<C,1===e&&T>852||2===e&&T>592)return 1;a[p=z&b]=U<<24|C<<16|m-o|0}}return 0!==z&&(a[m+z]=_-j<<24|64<<16|0),c.bits=U,0};function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,p(e)):-2}function m(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,b(e))):-2}function v(e,t){var n,i;return e?(i=new w,e.state=i,i.window=null,0!==(n=m(e,t))&&(e.state=null),n):-2}var k,g,y=!0;function x(e){if(y){var t;for(k=new i.Buf32(512),g=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,k,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=k,e.lenbits=9,e.distcode=g,e.distbits=5}function _(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),i.arraySet(o.window,t,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}var B={inflateReset:b,inflateReset2:m,inflateResetKeep:p,inflateInit:function(e){return v(e,15)},inflateInit2:v,inflate:function(e,t){var n,a,f,l,d,u,w,p,b,m,v,k,g,y,B,A,S,U,C,j,O,T,z,R,E=0,L=new i.Buf8(4),D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,f=e.output,w=e.avail_out,l=e.next_in,a=e.input,u=e.avail_in,p=n.hold,b=n.bits,m=u,v=w,T=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;b<16;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(2&n.wrap&&35615===p){n.check=0,L[0]=255&p,L[1]=p>>>8&255,n.check=o(n.check,L,2,0),p=0,b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&p)){e.msg="unknown compression method",n.mode=30;break}if(b-=4,O=8+(15&(p>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&p?10:12,p=0,b=0;break;case 2:for(;b<16;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(n.flags=p,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(L[0]=255&p,L[1]=p>>>8&255,n.check=o(n.check,L,2,0)),p=0,b=0,n.mode=3;case 3:for(;b<32;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.head&&(n.head.time=p),512&n.flags&&(L[0]=255&p,L[1]=p>>>8&255,L[2]=p>>>16&255,L[3]=p>>>24&255,n.check=o(n.check,L,4,0)),p=0,b=0,n.mode=4;case 4:for(;b<16;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(L[0]=255&p,L[1]=p>>>8&255,n.check=o(n.check,L,2,0)),p=0,b=0,n.mode=5;case 5:if(1024&n.flags){for(;b<16;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(L[0]=255&p,L[1]=p>>>8&255,n.check=o(n.check,L,2,0)),p=0,b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((k=n.length)>u&&(k=u),k&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,a,l,k,O)),512&n.flags&&(n.check=o(n.check,a,k,l)),u-=k,l+=k,n.length-=k),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===u)break e;k=0;do{O=a[l+k++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&k<u);if(512&n.flags&&(n.check=o(n.check,a,k,l)),u-=k,l+=k,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===u)break e;k=0;do{O=a[l+k++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&k<u);if(512&n.flags&&(n.check=o(n.check,a,k,l)),u-=k,l+=k,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;b<16;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}p=0,b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;b<32;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}e.adler=n.check=h(p),p=0,b=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=w,e.next_in=l,e.avail_in=u,n.hold=p,n.bits=b,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&b,b-=7&b,n.mode=27;break}for(;b<3;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}switch(n.last=1&p,b-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(x(n),n.mode=20,6===t){p>>>=2,b-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}p>>>=2,b-=2;break;case 14:for(p>>>=7&b,b-=7&b;b<32;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&p,p=0,b=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(k=n.length){if(k>u&&(k=u),k>w&&(k=w),0===k)break e;i.arraySet(f,a,l,k,d),u-=k,l+=k,w-=k,d+=k,n.length-=k;break}n.mode=12;break;case 17:for(;b<14;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(n.nlen=257+(31&p),p>>>=5,b-=5,n.ndist=1+(31&p),p>>>=5,b-=5,n.ncode=4+(15&p),p>>>=4,b-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;b<3;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.lens[D[n.have++]]=7&p,p>>>=3,b-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},T=c(0,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,T){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(E=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,S=65535&E,!((B=E>>>24)<=b);){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(S<16)p>>>=B,b-=B,n.lens[n.have++]=S;else{if(16===S){for(R=B+2;b<R;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(p>>>=B,b-=B,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],k=3+(3&p),p>>>=2,b-=2}else if(17===S){for(R=B+3;b<R;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}b-=B,O=0,k=3+(7&(p>>>=B)),p>>>=3,b-=3}else{for(R=B+7;b<R;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}b-=B,O=0,k=11+(127&(p>>>=B)),p>>>=7,b-=7}if(n.have+k>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;k--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,z={bits:n.lenbits},T=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,T){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},T=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,T){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(u>=6&&w>=258){e.next_out=d,e.avail_out=w,e.next_in=l,e.avail_in=u,n.hold=p,n.bits=b,s(e,v),d=e.next_out,f=e.output,w=e.avail_out,l=e.next_in,a=e.input,u=e.avail_in,p=n.hold,b=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(E=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,S=65535&E,!((B=E>>>24)<=b);){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(A&&0==(240&A)){for(U=B,C=A,j=S;A=(E=n.lencode[j+((p&(1<<U+C)-1)>>U)])>>>16&255,S=65535&E,!(U+(B=E>>>24)<=b);){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}p>>>=U,b-=U,n.back+=U}if(p>>>=B,b-=B,n.back+=B,n.length=S,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(R=n.extra;b<R;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,b-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(E=n.distcode[p&(1<<n.distbits)-1])>>>16&255,S=65535&E,!((B=E>>>24)<=b);){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(0==(240&A)){for(U=B,C=A,j=S;A=(E=n.distcode[j+((p&(1<<U+C)-1)>>U)])>>>16&255,S=65535&E,!(U+(B=E>>>24)<=b);){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}p>>>=U,b-=U,n.back+=U}if(p>>>=B,b-=B,n.back+=B,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=S,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(R=n.extra;b<R;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,b-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===w)break e;if(k=v-w,n.offset>k){if((k=n.offset-k)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}k>n.wnext?(k-=n.wnext,g=n.wsize-k):g=n.wnext-k,k>n.length&&(k=n.length),y=n.window}else y=f,g=d-n.offset,k=n.length;k>w&&(k=w),w-=k,n.length-=k;do{f[d++]=y[g++]}while(--k);0===n.length&&(n.mode=21);break;case 26:if(0===w)break e;f[d++]=n.length,w--,n.mode=21;break;case 27:if(n.wrap){for(;b<32;){if(0===u)break e;u--,p|=a[l++]<<b,b+=8}if(v-=w,e.total_out+=v,n.total+=v,v&&(e.adler=n.check=n.flags?o(n.check,f,v,d-v):r(n.check,f,v,d-v)),v=w,(n.flags?p:h(p))!==n.check){e.msg="incorrect data check",n.mode=30;break}p=0,b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;b<32;){if(0===u)break e;u--,p+=a[l++]<<b,b+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}p=0,b=0}n.mode=29;case 29:T=1;break e;case 30:T=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=d,e.avail_out=w,e.next_in=l,e.avail_in=u,n.hold=p,n.bits=b,(n.wsize||v!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,v-e.avail_out)?(n.mode=31,-4):(m-=e.avail_in,v-=e.avail_out,e.total_in+=m,e.total_out+=v,n.total+=v,n.wrap&&v&&(e.adler=n.check=n.flags?o(n.check,f,v,e.next_out-v):r(n.check,f,v,e.next_out-v)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===m&&0===v||4===t)&&0===T&&(T=-5),T)},inflateEnd:function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},inflateGetHeader:function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?-2:(n.head=t,t.done=!1,0):-2},inflateSetDictionary:function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?-2:11===n.mode&&r(1,t,i,0)!==n.check?-3:_(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},inflateInfo:"pako inflate (from Nodeca project)"},A=!0,S=!0;try{String.fromCharCode.apply(null,[0])}catch(e){A=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){S=!1}for(var U=new i.Buf8(256),C=0;C<256;C++)U[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;U[254]=U[254]=1;function j(e,t){if(t<65537&&(e.subarray&&S||!e.subarray&&A))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var O=function(e){var t,n,r,a,o,s=e.length,f=0;for(a=0;a<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),f+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(f),o=0,a=0;o<f;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},T=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},z=function(e,t){var n,i,r,a,o=t||e.length,s=new Array(2*o);for(i=0,n=0;n<o;)if((r=e[n++])<128)s[i++]=r;else if((a=U[r])>4)s[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&n<o;)r=r<<6|63&e[n++],a--;a>1?s[i++]=65533:r<65536?s[i++]=r:(r-=65536,s[i++]=55296|r>>10&1023,s[i++]=56320|1023&r)}return j(s,i)},R=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+U[e[n]]>t?n:t},E=0,L=2,D=4,P=0,H=1,I=2,N=-5,J={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};var M=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};var $=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},G=Object.prototype.toString;function V(e){if(!(this instanceof V))return new V(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var n=B.inflateInit2(this.strm,t.windowBits);if(n!==P)throw new Error(J[n]);this.header=new $,B.inflateGetHeader(this.strm,this.header)}function q(e,t){var n=new V(t);if(n.push(e,!0),n.err)throw n.msg||J[n.err];return n.result}V.prototype.push=function(e,t){var n,r,a,o,s,f,l=this.strm,d=this.options.chunkSize,u=this.options.dictionary,c=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?D:E,"string"==typeof e?l.input=T(e):"[object ArrayBuffer]"===G.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new i.Buf8(d),l.next_out=0,l.avail_out=d),(n=B.inflate(l,E))===I&&u&&(f="string"==typeof u?O(u):"[object ArrayBuffer]"===G.call(u)?new Uint8Array(u):u,n=B.inflateSetDictionary(this.strm,f)),n===N&&!0===c&&(n=P,c=!1),n!==H&&n!==P)return this.onEnd(n),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&n!==H&&(0!==l.avail_in||r!==D&&r!==L)||("string"===this.options.to?(a=R(l.output,l.next_out),o=l.next_out-a,s=z(l.output,a),l.next_out=o,l.avail_out=d-o,o&&i.arraySet(l.output,l.output,a,o,0),this.onData(s)):this.onData(i.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(c=!0)}while((l.avail_in>0||0===l.avail_out)&&n!==H);return n===H&&(r=D),r===D?(n=B.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===P):r!==L||(this.onEnd(P),l.avail_out=0,!0)},V.prototype.onData=function(e){this.chunks.push(e)},V.prototype.onEnd=function(e){e===P&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var F={Inflate:V,inflate:q,inflateRaw:function(e,t){return(t=t||{}).raw=!0,q(e,t)},ungzip:q};var K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataView=new DataView(t),this.position=0}return e.prototype.skip=function(e){this.position+=e},e.prototype.readBytes=function(e){var t=4===e?"getUint32":2===e?"getUint16":"getUint8",n=this.position;return this.position+=e,this.dataView[t](n,!0)},e}(),X=function(e){for(var t=new K(e),n={};;){var i=t.readBytes(4);if(67324752!==i){if(33639248!==i)break;W(t)}else{var r=Q(t);n[r.name]={buffer:r.buffer}}}return n},Q=function(e){var t=0,n=void 0;e.skip(4);var i=e.readBytes(2);e.skip(8);var r=e.readBytes(4);e.skip(4);var a=e.readBytes(2),o=e.readBytes(2),s=[],f=new Uint8Array(r);for(t=0;t<a;t++)s.push(String.fromCharCode(e.readBytes(1)));for(e.skip(o),t=0;t<r;t++)f[t]=e.readBytes(1);switch(i){case 0:n=f;break;case 8:n=new Uint8Array(F.inflate(f,{raw:!0}));break;default:console.log(s.join("")+": unsupported compression type"),n=f}return{name:s.join(""),buffer:n}},W=function(e){e.skip(24);var t=e.readBytes(2),n=e.readBytes(2),i=e.readBytes(2);e.skip(12),e.skip(t),e.skip(n),e.skip(i)};var Y="function"==typeof Promise?Promise:function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(){};return t((function(){n()})),{then:function(e){n=e}}};var Z=0,ee=void 0,te=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._id=Z,this._listeners={},this.url=t,this.files=null,Z++}return e.unzip=function(t){return new Y((function(n){var i=new e,r=new FileReader;r.onload=function(e){var t=e.target.result;i.files=X(t),n(i)},t instanceof Blob&&r.readAsArrayBuffer(t)}))},e.prototype.load=function(){var e=this;return new Y((function(t){var n=Date.now(),i=new XMLHttpRequest;i.open("GET",e.url,!0),i.responseType="arraybuffer",i.onprogress=function(t){e.dispatch({type:"progress",loaded:t.loaded,total:t.total,elapsedTime:Date.now()-n})},i.onload=function(){e.files=X(i.response),e.dispatch({type:"load",elapsedTime:Date.now()-n}),t()},i.send()}))},e.prototype.extractAsBlobUrl=function(e,t){if(this.files[e].url)return this.files[e].url;var n=new Blob([this.files[e].buffer],{type:t});return this.files[e].url=URL.createObjectURL(n),this.files[e].url},e.prototype.extractAsText=function(e){var t=this.files[e].buffer;if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var n="",i=0,r=t.length;i<r;i++)n+=String.fromCharCode(t[i]);return decodeURIComponent(escape(n))},e.prototype.extractAsJSON=function(e){return JSON.parse(this.extractAsText(e))},e.prototype.loadThreeJSON=function(e){var t=this,n=this.extractAsJSON(e),i=e.replace(/\\/.+\\.json$/,"/"),r="__ziploader_"+this._id+"__",a=new RegExp(r);return-1!==!ee.Loader.Handlers.handlers.indexOf(a)&&ee.Loader.Handlers.add(a,{load:function(e){return t.loadThreeTexture(e.replace(a,""))}}),ee.JSONLoader.prototype.parse(n,r+i)},e.prototype.loadThreeTexture=function(e){var t=new ee.Texture,n=/\\.jpg$/.test(e)?"image/jpeg":/\\.png$/.test(e)?"image/png":/\\.gif$/.test(e)?"image/gif":void 0,i=new Blob([this.files[e].buffer],{type:n});return t.image=new Image,t.image.addEventListener("load",(function e(){t.needsUpdate=!0,t.image.removeEventListener("load",e),URL.revokeObjectURL(t.image.src)})),t.image.src=URL.createObjectURL(i),t},e.prototype.on=function(e,t){this._listeners[e]||(this._listeners[e]=[]),-1===this._listeners[e].indexOf(t)&&this._listeners[e].push(t)},e.prototype.off=function(e,t){var n=this._listeners[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},e.prototype.dispatch=function(e){var t=this._listeners[e.type];if(t){e.target=this;for(var n=t.length,i=0;i<n;i++)t[i].call(this,e)}},e.prototype.clear=function(e){if(e)return URL.revokeObjectURL(this.files[e].url),void delete this.files[e];for(var t in this.files)URL.revokeObjectURL(this.files[t].url);if(delete this.files,ee){var n="__ziploader_"+this._id+"__";ee.Loader.Handlers.handlers.some((function(e,t){if(e instanceof RegExp&&e.source===n)return ee.Loader.Handlers.handlers.splice(t,2),!0}))}},e.install=function(e){e.THREE&&(ee=e.THREE)},e}();function ne(e,t,n,i,r,a,o){try{var s=e[a](o),f=s.value}catch(e){return void n(e)}s.done?t(f):Promise.resolve(f).then(i,r)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function o(e){ne(a,i,r,o,s,"next",e)}function s(e){ne(a,i,r,o,s,"throw",e)}o(void 0)}))}}function re(){return(re=ie((function*(e){const t=new te(e);return t.load().then(()=>{const e={};for(const n in t.files)e[n]=t.extractAsBlobUrl(n);const n=JSON.parse(t.extractAsText("scene.gltf"));return n.buffers&&n.buffers.forEach(t=>t.uri=e[t.uri]),n.images&&n.images.forEach(t=>t.uri=e[t.uri]),e["scene.gtlf"]=URL.createObjectURL(new Blob([JSON.stringify(n,null,2)],{type:"text/plain"})),e})}))).apply(this,arguments)}self.onmessage=function(){var e=ie((function*(e){try{const t=yield function(e){return re.apply(this,arguments)}(e.data.payload);self.postMessage({id:e.data.id,result:t})}catch(t){self.postMessage({id:e.data.id,err:t.message})}}));return function(t){return e.apply(this,arguments)}}()}]);\n//# sourceMappingURL=sketchfab-zip.worker-7073275d8e44913c60f4.js.map',"/assets/js/sketchfab-zip.worker-7073275d8e44913c60f4.js")}},284:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(30),a=n(214),i=n(12);class o{constructor(){this.scene=null,this.store=new r.a,this.mediaSearchStore=new a.b,this.hubChannel=null,this.mediaDevicesManager=null,this.audios=new Map,this.sourceType=new Map,this.audioOverrides=new Map,this.zoneOverrides=new Map,this.audioDebugPanelOverrides=new Map,this.sceneAudioDefaults=new Map,this.gainMultipliers=new Map,this.supplementaryAttenuation=new Map,this.clippingState=new Set,this.mutedState=new Set,this.isAudioPaused=new Set}setupRenderer(e){const t=document.createElement("canvas");t.classList.add("a-canvas"),t.dataset.aframeCanvas=!0,t.addEventListener("touchmove",(function(e){e.preventDefault()}));const n=new THREE.WebGLRenderer({alpha:!1,antialias:!0,depth:!0,stencil:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,logarithmicDepthBuffer:!1,powerPreference:"default",canvas:t});n.setPixelRatio(window.devicePixelRatio),n.debug.checkShaderErrors=Object(i.a)("checkShaderErrors"),n.physicallyCorrectLights=!0,n.outputEncoding=THREE.sRGBEncoding,e.appendChild(n.domElement);const r=new THREE.PerspectiveCamera(80,window.innerWidth/window.innerHeight,.05,1e4),a=new THREE.AudioListener;r.add(a);const o=new THREE.Clock;function s(t,a){const i=1e3*o.getDelta(),s=1e3*o.elapsedTime;e.frame=a,e.isPlaying&&e.tick(s,i),n.render(e.object3D,r)}return e.clock=o,e.addEventListener("loaded",()=>{n.setAnimationLoop(s),e.renderStarted=!0}),{renderer:n,camera:r,audioListener:a}}}},29:function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return a})),n.d(t,"__assign",(function(){return i})),n.d(t,"__rest",(function(){return o})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return c})),n.d(t,"__metadata",(function(){return u})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return d})),n.d(t,"__createBinding",(function(){return h})),n.d(t,"__exportStar",(function(){return f})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return m})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return v})),n.d(t,"__spreadArray",(function(){return b})),n.d(t,"__await",(function(){return y})),n.d(t,"__asyncGenerator",(function(){return w})),n.d(t,"__asyncDelegator",(function(){return E})),n.d(t,"__asyncValues",(function(){return x})),n.d(t,"__makeTemplateObject",(function(){return _})),n.d(t,"__importStar",(function(){return L})),n.d(t,"__importDefault",(function(){return S})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return M}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function s(e,t,n,r){var a,i=arguments.length,o=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,n,o):a(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))}function d(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(e){i=[6,e],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function f(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,i=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)o.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return o}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(m(arguments[t]));return e}function v(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)r[a]=i[o];return r}function b(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function w(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,a=n.apply(e,t||[]),i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(e){a[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=a[e](t)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){s("next",e)}function u(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function E(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,a){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:a?a(t):t}:a}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,a){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,a,(t=e[n](t)).done,t.value)}))}}}function _(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function L(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return A(t,e),t}function S(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function M(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(111),a=n(69),i=n(54),o=n.n(i),s=n(34),c=n.n(s),u=n(12),l=n(70),d=n(8),h=n(59),f=n.n(h);function p(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,s,"next",e)}function s(e){p(i,r,a,o,s,"throw",e)}o(void 0)}))}}const g=["Baers-Pochard","Baikal-Teal","Barrows-Goldeneye","Blue-Billed","Blue-Duck","Blue-Winged","Brown-Teal","Bufflehead","Canvasback","Cape-Shoveler","Chestnut-Teal","Chiloe-Wigeon","Cinnamon-Teal","Comb-Duck","Common-Eider","Common-Goldeneye","Common-Merganser","Common-Pochard","Common-Scoter","Common-Shelduck","Cotton-Pygmy","Crested-Duck","Crested-Shelduck","Eatons-Pintail","Falcated","Ferruginous","Freckled-Duck","Gadwall","Garganey","Greater-Scaup","Green-Pygmy","Grey-Teal","Hardhead","Harlequin","Hartlaubs","Hooded-Merganser","Kelp-Goose","King-Eider","Lake-Duck","Laysan-Duck","Lesser-Scaup","Long-Tailed","Maccoa-Duck","Mallard","Mandarin","Marbled-Teal","Mellers-Duck","Merganser","Northern-Pintail","Orinoco-Goose","Paradise-Shelduck","Plumed-Whistler","Puna-Teal","Pygmy-Goose","Radjah-Shelduck","Red-Billed","Red-Crested","Red-Shoveler","Ring-Necked","Ringed-Teal","Rosy-Billed","Ruddy-Shelduck","Salvadoris-Teal","Scaly-Sided","Shelduck","Shoveler","Silver-Teal","Smew","Spectacled-Eider","Spot-Billed","Spotted-Whistler","Steamerduck","Stellers-Eider","Sunda-Teal","Surf-Scoter","Tufted-Duck","Velvet-Scoter","Wandering-Whistler","Whistling-duck","White-Backed","White-Cheeked","White-Winged","Wigeon","Wood-Duck","Yellow-Billed"];function v(e){return e[Math.floor(Math.random()*e.length)]}function b(){return y.apply(this,arguments)}function y(){return(y=m((function*(){const e=(yield Object(d.e)("/api/v1/media/search?filter=default&source=avatar_listings")).entries||[];if(0===e.length)return new URL(f.a,location.href).href;return v(e.map(e=>e.id))}))).apply(this,arguments)}var w,E=n(7);function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){A(i,r,a,o,s,"next",e)}function s(e){A(i,r,a,o,s,"throw",e)}o(void 0)}))}}const S=Symbol(),k=new r.Validator,M=function(){const e=["low","medium","high"];if(window.AFRAME&&(AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR())){const t=Object(u.b)("default_mobile_material_quality");return t&&-1!==e.indexOf(t)?t:"low"}const t=Object(u.b)("default_material_quality");return t&&-1!==e.indexOf(t)?t:"high"}(),T=(null===(w=window.AFRAME)||void 0===w?void 0:w.utils.device.isMobileVR())&&navigator.userAgent.match(/Firefox/),R={id:"/HubsStore",definitions:{profile:{type:"object",additionalProperties:!1,properties:{displayName:{type:"string",pattern:"^[A-Za-z0-9_~ -]{3,32}$"},avatarId:{type:"string"},personalAvatarId:{type:"string"}}},credentials:{type:"object",additionalProperties:!1,properties:{token:{type:["null","string"]},email:{type:["null","string"]}}},activity:{type:"object",additionalProperties:!1,properties:{hasFoundFreeze:{type:"boolean"},hasChangedName:{type:"boolean"},hasAcceptedProfile:{type:"boolean"},lastEnteredAt:{type:"string"},hasPinned:{type:"boolean"},hasRotated:{type:"boolean"},hasRecentered:{type:"boolean"},hasScaled:{type:"boolean"},hasHoveredInWorldHud:{type:"boolean"},hasOpenedShare:{type:"boolean"},entryCount:{type:"number"}}},settings:{type:"object",additionalProperties:!1,properties:{lastUsedMicDeviceId:{type:"string"},micMuted:{type:"bool"}}},preferences:{type:"object",additionalProperties:!1,properties:{shouldPromptForRefresh:{type:"bool",default:!1},preferredMic:{type:"string",default:E.c},preferredSpeakers:{type:"string",default:E.c},preferredCamera:{type:"string",default:E.c},muteMicOnEntry:{type:"bool",default:!1},disableLeftRightPanning:{type:"bool",default:!1},audioNormalization:{type:"bool",default:0},invertTouchscreenCameraMove:{type:"bool",default:!0},enableOnScreenJoystickLeft:{type:"bool",default:!1},enableOnScreenJoystickRight:{type:"bool",default:!1},enableGyro:{type:"bool",default:!0},animateWaypointTransitions:{type:"bool",default:!0},showFPSCounter:{type:"bool",default:!1},allowMultipleHubsInstances:{type:"bool",default:!1},disableIdleDetection:{type:"bool",default:!1},fastRoomSwitching:{type:"bool",default:!1},lazyLoadSceneMedia:{type:"bool",default:!1},preferMobileObjectInfoPanel:{type:"bool",default:!1},maxResolutionWidth:{type:"number",default:void 0},maxResolutionHeight:{type:"number",default:void 0},globalVoiceVolume:{type:"number",default:100},globalMediaVolume:{type:"number",default:100},globalSFXVolume:{type:"number",default:100},snapRotationDegrees:{type:"number",default:45},materialQualitySetting:{type:"string",default:M},enableDynamicShadows:{type:"bool",default:!1},disableSoundEffects:{type:"bool",default:!1},disableMovement:{type:"bool",default:!1},disableBackwardsMovement:{type:"bool",default:!1},disableStrafing:{type:"bool",default:!1},disableTeleporter:{type:"bool",default:!1},disableAutoPixelRatio:{type:"bool",default:!1},movementSpeedModifier:{type:"number",default:1},disableEchoCancellation:{type:"bool",default:T},disableNoiseSuppression:{type:"bool",default:T},disableAutoGainControl:{type:"bool",default:T},locale:{type:"string",default:"browser"},showRtcDebugPanel:{type:"bool",default:!1},showAudioDebugPanel:{type:"bool",default:!1},enableAudioClipping:{type:"bool",default:!1},audioClippingThreshold:{type:"number",default:.015},theme:{type:"string",default:void 0},cursorSize:{type:"number",default:1},nametagVisibility:{type:"string",default:"showAll"},nametagVisibilityDistance:{type:"number",default:5},avatarVoiceLevels:{type:"object"}}},confirmedDiscordRooms:{type:"array",items:{type:"string"}},confirmedBroadcastedRooms:{type:"array",items:{type:"string"}},uploadPromotionTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{fileId:{type:"string"},promotionToken:{type:"string"}}}},creatorAssignmentTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},creatorAssignmentToken:{type:"string"}}}},embedTokens:{type:"array",items:{type:"object",additionalProperties:!1,properties:{hubId:{type:"string"},embedToken:{type:"string"}}}},onLoadActions:{type:"array",items:{type:"object",additionalProperties:!1,properties:{action:{type:"string"},args:{type:"object"}}}}},type:"object",properties:{profile:{$ref:"#/definitions/profile"},credentials:{$ref:"#/definitions/credentials"},activity:{$ref:"#/definitions/activity"},settings:{$ref:"#/definitions/settings"},preferences:{$ref:"#/definitions/preferences"},confirmedDiscordRooms:{$ref:"#/definitions/confirmedDiscordRooms"},confirmedBroadcastedRooms:{$ref:"#/definitions/confirmedBroadcastedRooms"},uploadPromotionTokens:{$ref:"#/definitions/uploadPromotionTokens"},creatorAssignmentTokens:{$ref:"#/definitions/creatorAssignmentTokens"},embedTokens:{$ref:"#/definitions/embedTokens"},onLoadActions:{$ref:"#/definitions/onLoadActions"}},additionalProperties:!1};class C extends l.a{constructor(){var e;super(),e=this,this._signOutOnExpiredAuthToken=()=>{if(!this.state.credentials.token)return;1e3*c()(this.state.credentials.token).exp<=Date.now()&&this.update({credentials:{token:null,email:null}})},this.initProfile=L((function*(){e._shouldResetAvatarOnInit?yield e.resetToRandomDefaultAvatar():e.update({profile:x({avatarId:yield b()},e.state.profile||{})}),e.state.activity.hasChangedName||e.update({profile:{displayName:"".concat(v(g),"-").concat(Math.floor(1e4+1e4*Math.random()))}})})),this.resetToRandomDefaultAvatar=L((function*(){e.update({profile:x({},e.state.profile||{},{avatarId:yield b()})})})),this._preferences={},null===localStorage.getItem("___hubs_store")&&localStorage.setItem("___hubs_store",JSON.stringify({})),window.addEventListener("storage",e=>{"___hubs_store"===e.key&&(delete this[S],this.dispatchEvent(new CustomEvent("statechanged")))}),this.update({activity:{},settings:{},credentials:{},profile:{},confirmedDiscordRooms:[],confirmedBroadcastedRooms:[],uploadPromotionTokens:[],creatorAssignmentTokens:[],embedTokens:[],onLoadActions:[],preferences:{}}),this._shouldResetAvatarOnInit=!1;const t=o.a.getJSON("ret-oauth-flow-account-credentials");t&&(this.update({credentials:t}),this._shouldResetAvatarOnInit=!0,o.a.remove("ret-oauth-flow-account-credentials")),this._signOutOnExpiredAuthToken();const n=(()=>{let e;return()=>{const t=this.state.preferences.theme;(e||t)&&e!==t&&this.dispatchEvent(new CustomEvent("themechanged",{detail:{current:t,previous:e}})),e=t}})();this.addEventListener("statechanged",n)}get state(){if(!this.hasOwnProperty(S)){const e=this[S]=JSON.parse(localStorage.getItem("___hubs_store"));e.preferences||(e.preferences={}),this._preferences=x({},e.preferences);for(const[t,n]of Object.entries(R.definitions.preferences.properties))n.hasOwnProperty("default")&&(e.preferences.hasOwnProperty(t)?e.preferences[t]===n.default&&delete this._preferences[t]:e.preferences[t]=n.default)}return this[S]}get credentialsAccountId(){return this.state.credentials.token?c()(this.state.credentials.token).sub:null}resetConfirmedBroadcastedRooms(){this.clearStoredArray("confirmedBroadcastedRooms")}resetTipActivityFlags(){this.update({activity:{hasRotated:!1,hasPinned:!1,hasRecentered:!1,hasScaled:!1,entryCount:0}})}bumpEntryCount(){const e=this.state.activity.entryCount||0;this.update({activity:{entryCount:e+1}})}enqueueOnLoadAction(e,t){this.update({onLoadActions:[{action:e,args:t}]})}executeOnLoadActions(e){for(let t=0;t<this.state.onLoadActions.length;t++){const{action:n,args:r}=this.state.onLoadActions[t];"emit_scene_event"===n&&e.emit(r.event,r.detail)}this.clearOnLoadActions()}clearOnLoadActions(){this.clearStoredArray("onLoadActions")}clearStoredArray(e){const t={};t[e]=[],this.update(t,{arrayMerge:(e,t)=>t})}update(e,t){const n=Object(a.a)(x({},this.state,{preferences:this._preferences}),e,t),{valid:r,errors:i}=k.validate(n,R);if(r||i.forEach(e=>{console.error("Removing invalid preference from store: ".concat(e.message)),delete e.instance[e.argument]}),e.preferences){for(const[e,t]of Object.entries(n.preferences)){var o;(null===(o=R.definitions.preferences.properties[e])||void 0===o?void 0:o.hasOwnProperty("default"))&&t===R.definitions.preferences.properties[e].default&&delete n.preferences[e]}this._preferences=n.preferences}return localStorage.setItem("___hubs_store",JSON.stringify(n)),delete this[S],void 0!==e.profile&&this.dispatchEvent(new CustomEvent("profilechanged")),this.dispatchEvent(new CustomEvent("statechanged")),n}get schema(){return R}}},307:function(e,t){e.exports=/[!-#%-\*,-/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E49\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},314:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const r=[];class a{tick(e){for(let t=0;t<r.length;t++){const n=r[t];n.mixer&&n.mixer.update(e/1e3)}}}AFRAME.registerComponent("animation-mixer",{initMixer(e){this.mixer=new THREE.AnimationMixer(this.el.object3D),this.el.object3D.animations=e,this.animations=e},play(){r.push(this)},pause(){r.splice(r.indexOf(this),1)}})},319:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const r=AFRAME.THREE;function a(){if(/Android.+Firefox/.test(navigator.userAgent)){const e=WebGLRenderingContext.prototype.getExtension,t=function(){const e=new r.WebGLRenderer({forceWebVR:!0}),t=new r.Scene,n=new Float32Array(16),a=new r.DataTexture(n,2,2,r.RGBAFormat,r.FloatType),i=new r.Mesh(new r.PlaneBufferGeometry(1,1),new r.MeshBasicMaterial({map:a}));i.material.map.needsUpdate=!0,t.add(i),e.render(t,new r.Camera);const o=0===e.getContext().getError();return e.dispose(),o}();WebGLRenderingContext.prototype.getExtension=function(n){return"OES_texture_float"!==n||t?e.call(this,n):null}}}function i(e){const t=e.getContext();return t.getParameter(t.VERSION).split(" ")[1]}},32:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},320:function(e,t,n){"use strict";function r(e){e.components["animation-mixer"]&&(e.querySelector("[loop-animation]")||e.setAttribute("loop-animation",""))}n.d(t,"a",(function(){return r}))},322:function(e,t,n){"use strict";(function(e){var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),r="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==e&&e.Math===Math?e:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var o=["top","right","bottom","left","width","height","size","weight"],s="undefined"!=typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&c()}function s(){i(o)}function c(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){r&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),s?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){r&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;o.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},l=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},d=v(0,0,0,0);function h(e){return parseFloat(e)||0}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function p(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=l(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],i=e["padding-"+a];t[a]=h(i)}return t}(r),i=a.left+a.right,o=a.top+a.bottom,s=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+i)!==t&&(s-=f(r,"left","right")+i),Math.round(c+o)!==n&&(c-=f(r,"top","bottom")+o)),!function(e){return e===l(e).document.documentElement}(e)){var u=Math.round(s+i)-t,p=Math.round(c+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(p)&&(c-=p)}return v(a.left,a.top,s,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof l(e).SVGGraphicsElement}:function(e){return e instanceof l(e).SVGElement&&"function"==typeof e.getBBox};function g(e){return r?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):p(e):d}function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,r,a,i,o,s,c,l=(r=(n=t).x,a=n.y,i=n.width,o=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),u(c,{x:r,y:a,width:i,height:o,top:a,right:r+i,bottom:o+a,left:r}),c);u(this,{target:e,contentRect:l})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof l(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!=typeof WeakMap?new WeakMap:new n,x=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);E.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){x.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var _=void 0!==a.ResizeObserver?a.ResizeObserver:x;t.a=_}).call(this,n(32))},324:function(e,t,n){e.exports=n.p+"assets/sfx/quickTurn-cda89edb1a7a32e4442cac70cd2694be.mp3"},325:function(e,t,n){e.exports=n.p+"assets/sfx/Eb_blip-8d7302990e83d6798400a6027dce3936.mp3"},327:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(3),a=n(170);var i=function(){return function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var a=n.LRI|n.RLI|n.FSI,i=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,s=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,c=n.S|n.WS|n.B|a|n.PDI|s,u=null;function l(e){return function(){if(!u){u=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var a=t.split("+"),i=a[0],o=a[1];i=parseInt(i,36),o=o?parseInt(o,36):0,u.set(r+=i,n[e]);for(var s=0;s<o;s++)u.set(++r,n[e])}))}};for(var r in t)e(r)}}(),u.get(e.codePointAt(0))||n.L}var d,h,f,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",m="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function g(e,t){var n,r=0,a=new Map,i=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var s=+o;s--;)e(n);else{n=o;var c=o.split(">"),u=c[0],l=c[1];u=String.fromCodePoint(r+=parseInt(u,36)),l=String.fromCodePoint(r+=parseInt(l,36)),a.set(u,l),t&&i.set(l,u)}})),{map:a,reverseMap:i}}function v(){if(!d){var e=g(p,!0),t=e.map,n=e.reverseMap;d=t,h=n,f=g(m,!1).map}}function b(e){return v(),d.get(e)||null}function y(e){return v(),h.get(e)||null}function w(e){return v(),f.get(e)||null}var E=n.L,x=n.R,_=n.EN,A=n.ES,L=n.ET,S=n.AN,k=n.CS,M=n.B,T=n.S,R=n.ON,C=n.BN,P=n.NSM,O=n.AL,D=n.LRO,I=n.RLO,Z=n.LRE,j=n.RLE,F=n.PDF,U=n.LRI,N=n.RLI,B=n.FSI,z=n.PDI;var H;function G(e){return function(){if(!H){var e=g("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),H=t}}(),H.get(e)||null}function V(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);var i=[];return t.paragraphs.forEach((function(a){var o=Math.max(n,a.start),s=Math.min(r,a.end);if(o<s){for(var u=t.levels.slice(o,s+1),d=s;d>=o&&l(e[d])&c;d--)u[d]=a.level;for(var h=a.level,f=1/0,p=0;p<u.length;p++){var m=u[p];m>h&&(h=m),m<f&&(f=1|m)}for(var g=h;g>=f;g--)for(var v=0;v<u.length;v++)if(u[v]>=g){for(var b=v;v+1<u.length&&u[v+1]>=g;)v++;v>b&&i.push([b+n,v+n])}}})),i}function W(e,t,n,r){for(var a=V(e,t,n,r),i=[],o=0;o<e.length;o++)i[o]=o;return a.forEach((function(e){for(var t=e[0],n=e[1],r=i.slice(t,n+1),a=r.length;a--;)i[n-a]=r[a]})),i}return e.closingToOpeningBracket=y,e.getBidiCharType=l,e.getBidiCharTypeName=function(e){return r[l(e)]},e.getCanonicalBracket=w,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=l(e[r]);var u=new Map;function d(e,t){var r=n[e];n[e]=t,u.set(r,u.get(r)-1),r&o&&u.set(o,u.get(o)-1),u.set(t,(u.get(t)||0)+1),t&o&&u.set(o,(u.get(o)||0)+1)}for(var h=new Uint8Array(e.length),f=new Map,p=[],m=null,g=0;g<e.length;g++)m||p.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:Bt(g,!1)}),n[g]&M&&(m.end=g,m=null);for(var v=j|Z|I|D|a|z|F|M,H=function(e){return e+(1&e?1:2)},G=function(e){return e+(1&e?2:1)},V=0;V<p.length;V++){var W=[{_level:(m=p[V]).level,_override:0,_isolate:0}],q=void 0,Y=0,K=0,X=0;u.clear();for(var Q=m.start;Q<=m.end;Q++){var J=n[Q];if(q=W[W.length-1],u.set(J,(u.get(J)||0)+1),J&o&&u.set(o,(u.get(o)||0)+1),J&v)if(J&(j|Z)){h[Q]=q._level;var $=(J===j?G:H)(q._level);$<=125&&!Y&&!K?W.push({_level:$,_override:0,_isolate:0}):Y||K++}else if(J&(I|D)){h[Q]=q._level;var ee=(J===I?G:H)(q._level);ee<=125&&!Y&&!K?W.push({_level:ee,_override:J&I?x:E,_isolate:0}):Y||K++}else if(J&a){J&B&&(J=1===Bt(Q+1,!0)?N:U),h[Q]=q._level,q._override&&d(Q,q._override);var te=(J===N?G:H)(q._level);te<=125&&0===Y&&0===K?(X++,W.push({_level:te,_override:0,_isolate:1,_isolInitIndex:Q})):Y++}else if(J&z){if(Y>0)Y--;else if(X>0){for(K=0;!W[W.length-1]._isolate;)W.pop();var ne=W[W.length-1]._isolInitIndex;null!=ne&&(f.set(ne,Q),f.set(Q,ne)),W.pop(),X--}q=W[W.length-1],h[Q]=q._level,q._override&&d(Q,q._override)}else J&F?(0===Y&&(K>0?K--:!q._isolate&&W.length>1&&(W.pop(),q=W[W.length-1])),h[Q]=q._level):J&M&&(h[Q]=m.level);else h[Q]=q._level,q._override&&J!==C&&d(Q,q._override)}for(var re=[],ae=null,ie=m.start;ie<=m.end;ie++){var oe=n[ie];if(!(oe&s)){var se=h[ie],ce=oe&a,ue=oe===z;ae&&se===ae._level?(ae._end=ie,ae._endsWithIsolInit=ce):re.push(ae={_start:ie,_end:ie,_level:se,_startsWithPDI:ue,_endsWithIsolInit:ce})}}for(var le=[],de=0;de<re.length;de++){var he=re[de];if(!he._startsWithPDI||he._startsWithPDI&&!f.has(he._start)){for(var fe=[ae=he],pe=void 0;ae&&ae._endsWithIsolInit&&null!=(pe=f.get(ae._end));)for(var me=de+1;me<re.length;me++)if(re[me]._start===pe){fe.push(ae=re[me]);break}for(var ge=[],ve=0;ve<fe.length;ve++)for(var be=fe[ve],ye=be._start;ye<=be._end;ye++)ge.push(ye);for(var we=h[ge[0]],Ee=m.level,xe=ge[0]-1;xe>=0;xe--)if(!(n[xe]&s)){Ee=h[xe];break}var _e=ge[ge.length-1],Ae=h[_e],Le=m.level;if(!(n[_e]&a))for(var Se=_e+1;Se<=m.end;Se++)if(!(n[Se]&s)){Le=h[Se];break}le.push({_seqIndices:ge,_sosType:Math.max(Ee,we)%2?x:E,_eosType:Math.max(Le,Ae)%2?x:E})}}for(var ke=0;ke<le.length;ke++){var Me=le[ke],Te=Me._seqIndices,Re=Me._sosType,Ce=Me._eosType;if(u.get(P))for(var Pe=0;Pe<Te.length;Pe++){var Oe=Te[Pe];if(n[Oe]&P){for(var De=Re,Ie=Pe-1;Ie>=0;Ie--)if(!(n[Te[Ie]]&s)){De=n[Te[Ie]];break}d(Oe,De&(a|z)?R:De)}}if(u.get(_))for(var Ze=0;Ze<Te.length;Ze++){var je=Te[Ze];if(n[je]&_)for(var Fe=Ze-1;Fe>=-1;Fe--){var Ue=-1===Fe?Re:n[Te[Fe]];if(Ue&i){Ue===O&&d(je,S);break}}}if(u.get(O))for(var Ne=0;Ne<Te.length;Ne++){var Be=Te[Ne];n[Be]&O&&d(Be,x)}if(u.get(A)||u.get(k))for(var ze=1;ze<Te.length-1;ze++){var He=Te[ze];if(n[He]&(A|k)){for(var Ge=0,Ve=0,We=ze-1;We>=0&&(Ge=n[Te[We]])&s;We--);for(var qe=ze+1;qe<Te.length&&(Ve=n[Te[qe]])&s;qe++);Ge===Ve&&(n[He]===A?Ge===_:Ge&(_|S))&&d(He,Ge)}}if(u.get(_))for(var Ye=0;Ye<Te.length;Ye++){var Ke=Te[Ye];if(n[Ke]&_){for(var Xe=Ye-1;Xe>=0&&n[Te[Xe]]&(L|s);Xe--)d(Te[Xe],_);for(var Qe=Ye+1;Qe<Te.length&&n[Te[Qe]]&(L|s);Qe++)d(Te[Qe],_)}}if(u.get(L)||u.get(A)||u.get(k))for(var Je=0;Je<Te.length;Je++){var $e=Te[Je];if(n[$e]&(L|A|k)){d($e,R);for(var et=Je-1;et>=0&&n[Te[et]]&s;et--)d(Te[et],R);for(var tt=Je+1;tt<Te.length&&n[Te[tt]]&s;tt++)d(Te[tt],R)}}if(u.get(_))for(var nt=0,rt=Re;nt<Te.length;nt++){var at=Te[nt],it=n[at];it&_?rt===E&&d(at,E):it&i&&(rt=it)}if(u.get(o)){for(var ot=x|_|S,st=ot|E,ct=[],ut=[],lt=0;lt<Te.length;lt++)if(n[Te[lt]]&o){var dt=e[Te[lt]],ht=void 0;if(null!==b(dt)){if(!(ut.length<63))break;ut.push({char:dt,seqIndex:lt})}else if(null!==(ht=y(dt)))for(var ft=ut.length-1;ft>=0;ft--){var pt=ut[ft].char;if(pt===ht||pt===y(w(dt))||b(w(pt))===dt){ct.push([ut[ft].seqIndex,lt]),ut.length=ft;break}}}ct.sort((function(e,t){return e[0]-t[0]}));for(var mt=0;mt<ct.length;mt++){for(var gt=ct[mt],vt=gt[0],bt=gt[1],yt=!1,wt=0,Et=vt+1;Et<bt;Et++){var xt=Te[Et];if(n[xt]&st){yt=!0;var _t=n[xt]&ot?x:E;if(_t===Ht(xt)){wt=_t;break}}}if(yt&&!wt){wt=Re;for(var At=vt-1;At>=0;At--){var Lt=Te[At];if(n[Lt]&st){var St=n[Lt]&ot?x:E;wt=St!==Ht(Lt)?St:Ht(Lt);break}}}if(wt){if(n[Te[vt]]=n[Te[bt]]=wt,wt!==Ht(Te[vt]))for(var kt=vt+1;kt<Te.length;kt++)if(!(n[Te[kt]]&s)){l(e[Te[kt]])&P&&(n[Te[kt]]=wt);break}if(wt!==Ht(Te[bt]))for(var Mt=bt+1;Mt<Te.length;Mt++)if(!(n[Te[Mt]]&s)){l(e[Te[Mt]])&P&&(n[Te[Mt]]=wt);break}}}for(var Tt=0;Tt<Te.length;Tt++)if(n[Te[Tt]]&o){for(var Rt=Tt,Ct=Tt,Pt=Re,Ot=Tt-1;Ot>=0;Ot--){if(!(n[Te[Ot]]&s)){Pt=n[Te[Ot]]&ot?x:E;break}Rt=Ot}for(var Dt=Ce,It=Tt+1;It<Te.length;It++){if(!(n[Te[It]]&(o|s))){Dt=n[Te[It]]&ot?x:E;break}Ct=It}for(var Zt=Rt;Zt<=Ct;Zt++)n[Te[Zt]]=Pt===Dt?Pt:Ht(Te[Zt]);Tt=Ct}}}for(var jt=m.start;jt<=m.end;jt++){var Ft=h[jt],Ut=n[jt];if(1&Ft?Ut&(E|_|S)&&h[jt]++:Ut&x?h[jt]++:Ut&(S|_)&&(h[jt]+=2),Ut&s&&(h[jt]=0===jt?m.level:h[jt-1]),jt===m.end||l(e[jt])&(T|M))for(var Nt=jt;Nt>=0&&l(e[Nt])&c;Nt--)h[Nt]=m.level}}return{levels:h,paragraphs:p};function Bt(t,r){for(var i=t;i<e.length;i++){var o=n[i];if(o&(x|O))return 1;if(o&(M|E)||r&&o===z)return 0;if(o&a){var s=zt(i);i=-1===s?e.length:s}}return 0}function zt(t){for(var r=1,i=t+1;i<e.length;i++){var o=n[i];if(o&M)break;if(o&z){if(0==--r)return i}else o&a&&r++}return-1}function Ht(e){return 1&h[e]?x:E}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,n,r){var a=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(a-1,null==r?a-1:+r);for(var i=new Map,o=n;o<=r;o++)if(1&t[o]){var s=G(e[o]);null!==s&&i.set(o,s)}return i},e.getReorderSegments=V,e.getReorderedIndices=W,e.getReorderedString=function(e,t,n,r){var a=W(e,t,n,r),i=[].concat(e);return a.forEach((function(n,r){i[r]=(1&t.levels[n]?G(e[n]):null)||e[n]})),i.join("")},e.openingToClosingBracket=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({})};const o=/\bvoid\s+main\s*\(\s*\)\s*{/g;function s(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){let n=r.ShaderChunk[t];return n?s(n):e}))}const c=[];for(let e=0;e<256;e++)c[e]=(e<16?"0":"")+e.toString(16);const u=Object.assign||function(){let e=arguments[0];for(let t=1,n=arguments.length;t<n;t++){let n=arguments[t];if(n)for(let t in n)n.hasOwnProperty(t)&&(e[t]=n[t])}return e},l=Date.now(),d=new WeakMap,h=new Map;let f=1e10;function p(e,t){const n=function(e){const t=JSON.stringify(e,g);let n=b.get(t);null==n&&b.set(t,n=++v);return n}(t);let a=d.get(e);if(a||d.set(e,a=Object.create(null)),a[n])return new a[n];const i="_onBeforeCompile"+n,o=function(r){e.onBeforeCompile.call(this,r);const a=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader;let o=h[a];if(!o){const e=function({vertexShader:e,fragmentShader:t},n,r){let{vertexDefs:a,vertexMainIntro:i,vertexMainOutro:o,vertexTransform:c,fragmentDefs:u,fragmentMainIntro:l,fragmentMainOutro:d,fragmentColorTransform:h,customRewriter:f,timeUniform:p}=n;a=a||"",i=i||"",o=o||"",u=u||"",l=l||"",d=d||"",(c||f)&&(e=s(e));(h||f)&&(t=s(t=t.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(f){let n=f({vertexShader:e,fragmentShader:t});e=n.vertexShader,t=n.fragmentShader}if(h){let e=[];t=t.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),d=`${h}\n${e.join("\n")}\n${d}`}if(p){const e=`\nuniform float ${p};\n`;a=e+a,u=e+u}c&&(e=`vec3 troika_position_${r};\nvec3 troika_normal_${r};\nvec2 troika_uv_${r};\n${e}\n`,a=`${a}\nvoid troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ${c}\n}\n`,i=`\ntroika_position_${r} = vec3(position);\ntroika_normal_${r} = vec3(normal);\ntroika_uv_${r} = vec2(uv);\ntroikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});\n${i}\n`,e=e.replace(/\b(position|normal|uv)\b/g,(e,t,n,a)=>/\battribute\s+vec[23]\s+$/.test(a.substr(0,n))?t:`troika_${t}_${r}`));return e=m(e,r,a,i,o),t=m(t,r,u,l,d),{vertexShader:e,fragmentShader:t}}(r,t,n);o=h[a]=e}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,u(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-l}}),this[i]&&this[i](r)},y=function(){return w(t.chained?e:e.clone())},w=function(r){const a=Object.create(r,E);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:f++}),a.uuid=function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(c[255&e]+c[e>>8&255]+c[e>>16&255]+c[e>>24&255]+"-"+c[255&t]+c[t>>8&255]+"-"+c[t>>16&15|64]+c[t>>24&255]+"-"+c[63&n|128]+c[n>>8&255]+"-"+c[n>>16&255]+c[n>>24&255]+c[255&r]+c[r>>8&255]+c[r>>16&255]+c[r>>24&255]).toUpperCase()}(),a.uniforms=u({},r.uniforms,t.uniforms),a.defines=u({},r.defines,t.defines),a.defines["TROIKA_DERIVED_MATERIAL_"+n]="",a.extensions=u({},r.extensions,t.extensions),a._listeners=void 0,a},E={constructor:{value:y},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:()=>o,set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(u(this.extensions,t.extensions),u(this.defines,t.defines),u(this.uniforms,r.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const t=new e.constructor;return w(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let n=this._depthMaterial;return n||(n=this._depthMaterial=p(e.isDerivedMaterial?e.getDepthMaterial():new r.MeshDepthMaterial({depthPacking:r.RGBADepthPacking}),t),n.defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let n=this._distanceMaterial;return n||(n=this._distanceMaterial=p(e.isDerivedMaterial?e.getDistanceMaterial():new r.MeshDistanceMaterial,t),n.defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:t,_distanceMaterial:n}=this;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return a[n]=y,new y}function m(e,t,n,r,a){return(r||a||n)&&(e=e.replace(o,`\n${n}\nvoid troikaOrigMain${t}() {`),e+=`\nvoid main() {\n  ${r}\n  troikaOrigMain${t}();\n  ${a}\n}`),e}function g(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let v=0;const b=new Map;r.DoubleSide;r.Mesh;function y(e){function t(e,t,n,r,a,i,o){const s=1-o;return{x:s*s*e+2*s*o*n+o*o*a,y:s*s*t+2*s*o*r+o*o*i}}function n(e,t,n,r,a,i,o,s,c){const u=1-c;return{x:u*u*u*e+3*u*u*c*n+3*u*c*c*a+c*c*c*o,y:u*u*u*t+3*u*u*c*r+3*u*c*c*i+c*c*c*s}}function r(){return(self.performance||Date).now()}return function(a,i,o,s,c,u=1){const l=r(),d=new Uint8Array(a*i),h=s[2]-s[0],f=s[3]-s[1],p=e(s),m=/([MLQCZ])([^MLQCZ]*)/g;let g,v,b,y,w;for(;g=m.exec(o);){const e=g[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(e=>parseFloat(e));switch(g[1]){case"M":y=v=e[0],w=b=e[1];break;case"L":e[0]===y&&e[1]===w||p.addLineSegment(y,w,y=e[0],w=e[1]);break;case"Q":{let n={x:y,y:w};for(let r=1;r<16;r++){let a=t(y,w,e[0],e[1],e[2],e[3],r/15);p.addLineSegment(n.x,n.y,a.x,a.y),n=a}y=e[2],w=e[3];break}case"C":{let t={x:y,y:w};for(let r=1;r<16;r++){let a=n(y,w,e[0],e[1],e[2],e[3],e[4],e[5],r/15);p.addLineSegment(t.x,t.y,a.x,a.y),t=a}y=e[4],w=e[5];break}case"Z":y===v&&w===b||p.addLineSegment(y,w,v,b)}}for(let e=0;e<a;e++)for(let t=0;t<i;t++){const n=p.findNearestSignedDistance(s[0]+h*(e+.5)/a,s[1]+f*(t+.5)/i,c);let r=Math.pow(1-Math.abs(n)/c,u)/2;n<0&&(r=1-r),r=Math.max(0,Math.min(255,Math.round(255*r))),d[t*a+e]=r}return{textureData:d,timing:r()-l}}}function w(e){let t=!1;const n=[];function r(){t&&(n.sort((function(e,t){return e.maxX-t.maxX})),t=!1)}function a(e,t,n,r,a,i){const o=a-n,s=i-r,c=o*o+s*s,u=c?Math.max(0,Math.min(1,((e-n)*o+(t-r)*s)/c)):0,l=e-(n+u*o),d=t-(r+u*s);return l*l+d*d}return{addLineSegment:function(e,r,a,i){const o={x0:e,y0:r,x1:a,y1:i,minX:Math.min(e,a),minY:Math.min(r,i),maxX:Math.max(e,a),maxY:Math.max(r,i)};n.push(o),t=!0},findNearestSignedDistance:function(e,t){r();let i=1/0,o=1/0;for(let r=n.length;r--;){const s=n[r];if(s.maxX+o<=e)break;if(e+o>s.minX&&t-o<s.maxY&&t+o>s.minY){const n=a(e,t,s.x0,s.y0,s.x1,s.y1);n<i&&(i=n,o=Math.sqrt(i))}}return function(e,t){r();let a=!1;for(let r=n.length;r--;){const i=n[r];if(i.maxX<=e)break;if(i.minY<t&&i.maxY>t){i.y0>t!=i.y1>t&&e<(i.x1-i.x0)*(t-i.y0)/(i.y1-i.y0)+i.x0&&(a=!a)}}return a}(e,t)&&(o=-o),o}}}
/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/const E=Object(a.c)({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var a=4;n.readUshort(r,a),a+=2,n.readUshort(r,a),a+=2;var i=n.readUint(r,a);a+=4;for(var o=[],s=0;s<i;s++){var c=n.readUint(r,a);a+=4,o.push(t._readFont(r,c))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,a=n;r.readFixed(e,n),n+=4;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:a},c={},u=0;u<i;u++){var l=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var d=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,c[l]={offset:d,length:h}}for(u=0;u<o.length;u++){var f=o[u];c[f]&&(s[f.trim()]=t[f.trim()].parse(e,c[f].offset,c[f].length,s))}return s},_tabOffset:function(e,n,r){for(var a=t._bin,i=a.readUshort(e,r+4),o=r+12,s=0;s<i;s++){var c=a.readASCII(e,o,4);o+=4,a.readUint(e,o),o+=4;var u=a.readUint(e,o);if(o+=4,a.readUint(e,o),o+=4,c==n)return u}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var a=[],i=0;i<r;i++)a.push(t._bin.readUshort(e,n+2*i));return a},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",a=0;a<n;a++)r+=String.fromCharCode(e[t+a]);return r},readUnicode:function(e,t,n){for(var r="",a=0;a<n;a++){var i=e[t++]<<8|e[t++];r+=String.fromCharCode(i)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var a=t._bin._tdec;return a&&0==n&&r==e.length?a.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(e[t+a]);return r},readASCIIArray:function(e,t,n){for(var r=[],a=0;a<n;a++)r.push(String.fromCharCode(e[t+a]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,a,i){var o=t._bin,s={},c=n;o.readFixed(e,n),n+=4;var u=o.readUshort(e,n);n+=2;var l=o.readUshort(e,n);n+=2;var d=o.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,c+u),s.featureList=t._lctf.readFeatureList(e,c+l),s.lookupList=t._lctf.readLookupList(e,c+d,i),s},t._lctf.readLookupList=function(e,n,r){var a=t._bin,i=n,o=[],s=a.readUshort(e,n);n+=2;for(var c=0;c<s;c++){var u=a.readUshort(e,n);n+=2;var l=t._lctf.readLookupTable(e,i+u,r);o.push(l)}return o},t._lctf.readLookupTable=function(e,n,r){var a=t._bin,i=n,o={tabs:[]};o.ltype=a.readUshort(e,n),n+=2,o.flag=a.readUshort(e,n),n+=2;var s=a.readUshort(e,n);n+=2;for(var c=o.ltype,u=0;u<s;u++){var l=a.readUshort(e,n);n+=2;var d=r(e,c,i+l,o);o.tabs.push(d)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,a=[],i=r.readUshort(e,n);if(n+=2,1==i){var o=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var c=0;c<s;c++)a.push(o+c),a.push(o+c),a.push(r.readUshort(e,n)),n+=2}if(2==i){var u=r.readUshort(e,n);for(n+=2,c=0;c<u;c++)a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2,a.push(r.readUshort(e,n)),n+=2}return a},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],a=e[n+1];if(e[n+2],r<=t&&t<=a)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,a={};a.fmt=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,1==a.fmt&&(a.tab=r.readUshorts(e,n,i)),2==a.fmt&&(a.tab=r.readUshorts(e,n,3*i)),a},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var a=t._lctf.getInterval(r,n);if(-1!=a)return r[a+2]+(n-r[a])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2;var l=t._lctf.readFeatureTable(e,a+u);l.tag=c.trim(),i.push(l)}return i},t._lctf.readFeatureTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,o>0&&(i.featureParams=a+o);var s=r.readUshort(e,n);n+=2,i.tab=[];for(var c=0;c<s;c++)i.tab.push(r.readUshort(e,n+2*c));return i},t._lctf.readScriptList=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readASCII(e,n,4);n+=4;var u=r.readUshort(e,n);n+=2,i[c.trim()]=t._lctf.readScriptTable(e,a+u)}return i},t._lctf.readScriptTable=function(e,n){var r=t._bin,a=n,i={},o=r.readUshort(e,n);n+=2,i.default=t._lctf.readLangSysTable(e,a+o);var s=r.readUshort(e,n);n+=2;for(var c=0;c<s;c++){var u=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,i[u.trim()]=t._lctf.readLangSysTable(e,a+l)}return i},t._lctf.readLangSysTable=function(e,n){var r=t._bin,a={};r.readUshort(e,n),n+=2,a.reqFeature=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);return n+=2,a.features=r.readUshorts(e,n,i),a},t.CFF={},t.CFF.parse=function(e,n,r){var a=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var i=[];n=t.CFF.readIndex(e,n,i);for(var o=[],s=0;s<i.length-1;s++)o.push(a.readASCII(e,n+i[s],i[s+1]-i[s]));n+=i[i.length-1];var c=[];n=t.CFF.readIndex(e,n,c);var u=[];for(s=0;s<c.length-1;s++)u.push(t.CFF.readDict(e,n+c[s],n+c[s+1]));n+=c[c.length-1];var l=u[0],d=[];n=t.CFF.readIndex(e,n,d);var h=[];for(s=0;s<d.length-1;s++)h.push(a.readASCII(e,n+d[s],d[s+1]-d[s]));if(n+=d[d.length-1],t.CFF.readSubrs(e,n,l),l.CharStrings){n=l.CharStrings,d=[],n=t.CFF.readIndex(e,n,d);var f=[];for(s=0;s<d.length-1;s++)f.push(a.readBytes(e,n+d[s],d[s+1]-d[s]));l.CharStrings=f}if(l.ROS){n=l.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),l.FDArray=[],s=0;s<p.length-1;s++){var m=t.CFF.readDict(e,n+p[s],n+p[s+1]);t.CFF._readFDict(e,m,h),l.FDArray.push(m)}n+=p[p.length-1],n=l.FDSelect,l.FDSelect=[];var g=e[n];if(n++,3!=g)throw g;var v=a.readUshort(e,n);for(n+=2,s=0;s<v+1;s++)l.FDSelect.push(a.readUshort(e,n),e[n+2]),n+=3}return l.Encoding&&(l.Encoding=t.CFF.readEncoding(e,l.Encoding,l.CharStrings.length)),l.charset&&(l.charset=t.CFF.readCharset(e,l.charset,l.CharStrings.length)),t.CFF._readFDict(e,l,h),l},t.CFF._readFDict=function(e,n,r){var a;for(var i in n.Private&&(a=n.Private[1],n.Private=t.CFF.readDict(e,a,a+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,a+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(i)&&(n[i]=r[n[i]-426+35])},t.CFF.readSubrs=function(e,n,r){var a=t._bin,i=[];n=t.CFF.readIndex(e,n,i);var o,s=i.length;o=s<1240?107:s<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var c=0;c<i.length-1;c++)r.Subrs.push(a.readBytes(e,n+i[c],i[c+1]-i[c]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var a=[".notdef"],i=e[n];if(n++,0!=i)throw"error: unknown encoding format: "+i;var o=e[n];n++;for(var s=0;s<o;s++)a.push(e[n+s]);return a},t.CFF.readCharset=function(e,n,r){var a=t._bin,i=[".notdef"],o=e[n];if(n++,0==o)for(var s=0;s<r;s++){var c=a.readUshort(e,n);n+=2,i.push(c)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;i.length<r;){c=a.readUshort(e,n),n+=2;var u=0;for(1==o?(u=e[n],n++):(u=a.readUshort(e,n),n+=2),s=0;s<=u;s++)i.push(c),c++}}return i},t.CFF.readIndex=function(e,n,r){var a=t._bin,i=a.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var s=0;s<i;s++)r.push(e[n+s]);else if(2==o)for(s=0;s<i;s++)r.push(a.readUshort(e,n+2*s));else if(3==o)for(s=0;s<i;s++)r.push(16777215&a.readUint(e,n+3*s-1));else if(1!=i)throw"unsupported offset size: "+o+", count: "+i;return(n+=i*o)-1},t.CFF.getCharString=function(e,n,r){var a=t._bin,i=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var s=1,c=null,u=null;i<=20&&(c=i,s=1),12==i&&(c=100*i+o,s=2),21<=i&&i<=27&&(c=i,s=1),28==i&&(u=a.readShort(e,n+1),s=3),29<=i&&i<=31&&(c=i,s=1),32<=i&&i<=246&&(u=i-139,s=1),247<=i&&i<=250&&(u=256*(i-247)+o+108,s=2),251<=i&&i<=254&&(u=256*-(i-251)-o-108,s=2),255==i&&(u=a.readInt(e,n+1)/65535,s=5),r.val=null!=u?u:"o"+c,r.size=s},t.CFF.readCharString=function(e,n,r){for(var a=n+r,i=t._bin,o=[];n<a;){var s=e[n],c=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,l=null,d=null;s<=20&&(l=s,u=1),12==s&&(l=100*s+c,u=2),19!=s&&20!=s||(l=s,u=2),21<=s&&s<=27&&(l=s,u=1),28==s&&(d=i.readShort(e,n+1),u=3),29<=s&&s<=31&&(l=s,u=1),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+c+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-c-108,u=2),255==s&&(d=i.readInt(e,n+1)/65535,u=5),o.push(null!=d?d:"o"+l),n+=u}return o},t.CFF.readDict=function(e,n,r){for(var a=t._bin,i={},o=[];n<r;){var s=e[n],c=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,l=null,d=null;if(28==s&&(d=a.readShort(e,n+1),u=3),29==s&&(d=a.readInt(e,n+1),u=5),32<=s&&s<=246&&(d=s-139,u=1),247<=s&&s<=250&&(d=256*(s-247)+c+108,u=2),251<=s&&s<=254&&(d=256*-(s-251)-c-108,u=2),255==s)throw d=a.readInt(e,n+1)/65535,u=5,"unknown number";if(30==s){var h=[];for(u=1;;){var f=e[n+u];u++;var p=f>>4,m=15&f;if(15!=p&&h.push(p),15!=m&&h.push(m),15==m)break}for(var g="",v=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],b=0;b<h.length;b++)g+=v[h[b]];d=parseFloat(g)}s<=21&&(l=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],u=1,12==s&&(l=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][c],u=2)),null!=l?(i[l]=1==o.length?o[0]:o,o=[]):o.push(d),n+=u}return i},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2;var s=[];i.tables=[];for(var c=0;c<o;c++){var u=a.readUshort(e,n);n+=2;var l=a.readUshort(e,n);n+=2;var d=a.readUint(e,n);n+=4;var h="p"+u+"e"+l,f=s.indexOf(d);if(-1==f){var p;f=i.tables.length,s.push(d);var m=a.readUshort(e,d);0==m?p=t.cmap.parse0(e,d):4==m?p=t.cmap.parse4(e,d):6==m?p=t.cmap.parse6(e,d):12==m?p=t.cmap.parse12(e,d):console.debug("unknown format: "+m,u,l,d),i.tables.push(p)}if(null!=i[h])throw"multiple tables for one platform+encoding";i[h]=f}return i},t.cmap.parse0=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,a.map=[];for(var o=0;o<i-6;o++)a.map.push(e[n+o]);return a},t.cmap.parse4=function(e,n){var r=t._bin,a=n,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var c=s/2;i.searchRange=r.readUshort(e,n),n+=2,i.entrySelector=r.readUshort(e,n),n+=2,i.rangeShift=r.readUshort(e,n),n+=2,i.endCount=r.readUshorts(e,n,c),n+=2*c,n+=2,i.startCount=r.readUshorts(e,n,c),n+=2*c,i.idDelta=[];for(var u=0;u<c;u++)i.idDelta.push(r.readShort(e,n)),n+=2;for(i.idRangeOffset=r.readUshorts(e,n,c),n+=2*c,i.glyphIdArray=[];n<a+o;)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse6=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,a.firstCode=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2,a.glyphIdArray=[];for(var o=0;o<i;o++)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse12=function(e,n){var r=t._bin,a={};a.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var i=r.readUint(e,n);n+=4,a.groups=[];for(var o=0;o<i;o++){var s=n+12*o,c=r.readUint(e,s+0),u=r.readUint(e,s+4),l=r.readUint(e,s+8);a.groups.push([c,u,l])}return a},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var a=[],i=0;i<r.maxp.numGlyphs;i++)a.push(null);return a},t.glyf._parseGlyf=function(e,n){var r=t._bin,a=e._data,i=t._tabOffset(a,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(a,i),i+=2,o.xMin=r.readShort(a,i),i+=2,o.yMin=r.readShort(a,i),i+=2,o.xMax=r.readShort(a,i),i+=2,o.yMax=r.readShort(a,i),i+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var s=0;s<o.noc;s++)o.endPts.push(r.readUshort(a,i)),i+=2;var c=r.readUshort(a,i);if(i+=2,a.length-i<c)return null;o.instructions=r.readBytes(a,i,c),i+=c;var u=o.endPts[o.noc-1]+1;for(o.flags=[],s=0;s<u;s++){var l=a[i];if(i++,o.flags.push(l),0!=(8&l)){var d=a[i];i++;for(var h=0;h<d;h++)o.flags.push(l),s++}}for(o.xs=[],s=0;s<u;s++){var f=0!=(2&o.flags[s]),p=0!=(16&o.flags[s]);f?(o.xs.push(p?a[i]:-a[i]),i++):p?o.xs.push(0):(o.xs.push(r.readShort(a,i)),i+=2)}for(o.ys=[],s=0;s<u;s++)f=0!=(4&o.flags[s]),p=0!=(32&o.flags[s]),f?(o.ys.push(p?a[i]:-a[i]),i++):p?o.ys.push(0):(o.ys.push(r.readShort(a,i)),i+=2);var m=0,g=0;for(s=0;s<u;s++)m+=o.xs[s],g+=o.ys[s],o.xs[s]=m,o.ys[s]=g}else{var v;o.parts=[];do{v=r.readUshort(a,i),i+=2;var b={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(b),b.glyphIndex=r.readUshort(a,i),i+=2,1&v){var y=r.readShort(a,i);i+=2;var w=r.readShort(a,i);i+=2}else y=r.readInt8(a,i),i++,w=r.readInt8(a,i),i++;2&v?(b.m.tx=y,b.m.ty=w):(b.p1=y,b.p2=w),8&v?(b.m.a=b.m.d=r.readF2dot14(a,i),i+=2):64&v?(b.m.a=r.readF2dot14(a,i),i+=2,b.m.d=r.readF2dot14(a,i),i+=2):128&v&&(b.m.a=r.readF2dot14(a,i),i+=2,b.m.b=r.readF2dot14(a,i),i+=2,b.m.c=r.readF2dot14(a,i),i+=2,b.m.d=r.readF2dot14(a,i),i+=2)}while(32&v);if(256&v){var E=r.readUshort(a,i);for(i+=2,o.instr=[],s=0;s<E;s++)o.instr.push(a[i]),i++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&s.fmt<=2){var c=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,c+o)}if(1==n&&1==s.fmt){var u=i.readUshort(e,r);r+=2;var l=t._lctf.numOfOnes(u);0!=u&&(s.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n&&s.fmt>=1&&s.fmt<=2){u=i.readUshort(e,r),r+=2;var d=i.readUshort(e,r);r+=2,l=t._lctf.numOfOnes(u);var h=t._lctf.numOfOnes(d);if(1==s.fmt){s.pairsets=[];var f=i.readUshort(e,r);r+=2;for(var p=0;p<f;p++){var m=o+i.readUshort(e,r);r+=2;var g=i.readUshort(e,m);m+=2;for(var v=[],b=0;b<g;b++){var y=i.readUshort(e,m);m+=2,0!=u&&(L=t.GPOS.readValueRecord(e,m,u),m+=2*l),0!=d&&(S=t.GPOS.readValueRecord(e,m,d),m+=2*h),v.push({gid2:y,val1:L,val2:S})}s.pairsets.push(v)}}if(2==s.fmt){var w=i.readUshort(e,r);r+=2;var E=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);r+=2;var _=i.readUshort(e,r);for(r+=2,s.classDef1=t._lctf.readClassDef(e,o+w),s.classDef2=t._lctf.readClassDef(e,o+E),s.matrix=[],p=0;p<x;p++){var A=[];for(b=0;b<_;b++){var L=null,S=null;0!=u&&(L=t.GPOS.readValueRecord(e,r,u),r+=2*l),0!=d&&(S=t.GPOS.readValueRecord(e,r,d),r+=2*h),A.push({val1:L,val2:S})}s.matrix.push(A)}}}else{if(9==n&&1==s.fmt){var k=i.readUshort(e,r);r+=2;var M=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=k;else if(a.ltype!=k)throw"invalid extension substitution";return t.GPOS.subt(e,a.ltype,o+M)}console.debug("unsupported GPOS table LookupType",n,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(e,n,r){var a=t._bin,i=[];return i.push(1&r?a.readShort(e,n):0),n+=1&r?2:0,i.push(2&r?a.readShort(e,n):0),n+=2&r?2:0,i.push(4&r?a.readShort(e,n):0),n+=4&r?2:0,i.push(8&r?a.readShort(e,n):0),n+=8&r?2:0,i},t.GSUB={},t.GSUB.parse=function(e,n,r,a){return t._lctf.parse(e,n,r,a,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,a){var i=t._bin,o=r,s={};if(s.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&s.fmt<=2||6==n&&s.fmt<=2){var c=i.readUshort(e,r);r+=2,s.coverage=t._lctf.readCoverage(e,o+c)}if(1==n&&s.fmt>=1&&s.fmt<=2){if(1==s.fmt)s.delta=i.readShort(e,r),r+=2;else if(2==s.fmt){var u=i.readUshort(e,r);r+=2,s.newg=i.readUshorts(e,r,u),r+=2*s.newg.length}}else if(4==n){s.vals=[],u=i.readUshort(e,r),r+=2;for(var l=0;l<u;l++){var d=i.readUshort(e,r);r+=2,s.vals.push(t.GSUB.readLigatureSet(e,o+d))}}else if(5==n&&2==s.fmt){if(2==s.fmt){var h=i.readUshort(e,r);r+=2,s.cDef=t._lctf.readClassDef(e,o+h),s.scset=[];var f=i.readUshort(e,r);for(r+=2,l=0;l<f;l++){var p=i.readUshort(e,r);r+=2,s.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==s.fmt){if(3==s.fmt){for(l=0;l<3;l++){u=i.readUshort(e,r),r+=2;for(var m=[],g=0;g<u;g++)m.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*g)));r+=2*u,0==l&&(s.backCvg=m),1==l&&(s.inptCvg=m),2==l&&(s.ahedCvg=m)}u=i.readUshort(e,r),r+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}}else{if(7==n&&1==s.fmt){var v=i.readUshort(e,r);r+=2;var b=i.readUint(e,r);if(r+=4,9==a.ltype)a.ltype=v;else if(a.ltype!=v)throw"invalid extension substitution";return t.GSUB.subt(e,a.ltype,o+b)}console.debug("unsupported GSUB table LookupType",n,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,a=n,i=[],o=r(e,n);n+=2;for(var s=0;s<o;s++){var c=r(e,n);n+=2,i.push(t.GSUB.readSubClassRule(e,a+c))}return i},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,a={},i=r(e,n),o=r(e,n+=2);n+=2,a.input=[];for(var s=0;s<i-1;s++)a.input.push(r(e,n)),n+=2;return a.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),a},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var a=t._bin.readUshort,i=[],o=0;o<r;o++)i.push(a(e,n),a(e,n+2)),n+=4;return i},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readUshort(e,n);n+=2,i.push(t.GSUB.readChainSubClassRule(e,a+c))}return i},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,a={},i=["backtrack","input","lookahead"],o=0;o<i.length;o++){var s=r.readUshort(e,n);n+=2,1==o&&s--,a[i[o]]=r.readUshorts(e,n,s),n+=2*a[i[o]].length}return s=r.readUshort(e,n),n+=2,a.subst=r.readUshorts(e,n,2*s),n+=2*a.subst.length,a},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,a=n,i=[],o=r.readUshort(e,n);n+=2;for(var s=0;s<o;s++){var c=r.readUshort(e,n);n+=2,i.push(t.GSUB.readLigature(e,a+c))}return i},t.GSUB.readLigature=function(e,n){var r=t._bin,a={chain:[]};a.nglyph=r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=0;o<i-1;o++)a.chain.push(r.readUshort(e,n)),n+=2;return a},t.head={},t.head.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.fontRevision=a.readFixed(e,n),n+=4,a.readUint(e,n),n+=4,a.readUint(e,n),n+=4,i.flags=a.readUshort(e,n),n+=2,i.unitsPerEm=a.readUshort(e,n),n+=2,i.created=a.readUint64(e,n),n+=8,i.modified=a.readUint64(e,n),n+=8,i.xMin=a.readShort(e,n),n+=2,i.yMin=a.readShort(e,n),n+=2,i.xMax=a.readShort(e,n),n+=2,i.yMax=a.readShort(e,n),n+=2,i.macStyle=a.readUshort(e,n),n+=2,i.lowestRecPPEM=a.readUshort(e,n),n+=2,i.fontDirectionHint=a.readShort(e,n),n+=2,i.indexToLocFormat=a.readShort(e,n),n+=2,i.glyphDataFormat=a.readShort(e,n),n+=2,i},t.hhea={},t.hhea.parse=function(e,n,r){var a=t._bin,i={};return a.readFixed(e,n),n+=4,i.ascender=a.readShort(e,n),n+=2,i.descender=a.readShort(e,n),n+=2,i.lineGap=a.readShort(e,n),n+=2,i.advanceWidthMax=a.readUshort(e,n),n+=2,i.minLeftSideBearing=a.readShort(e,n),n+=2,i.minRightSideBearing=a.readShort(e,n),n+=2,i.xMaxExtent=a.readShort(e,n),n+=2,i.caretSlopeRise=a.readShort(e,n),n+=2,i.caretSlopeRun=a.readShort(e,n),n+=2,i.caretOffset=a.readShort(e,n),n+=2,n+=8,i.metricDataFormat=a.readShort(e,n),n+=2,i.numberOfHMetrics=a.readUshort(e,n),n+=2,i},t.hmtx={},t.hmtx.parse=function(e,n,r,a){for(var i=t._bin,o={aWidth:[],lsBearing:[]},s=0,c=0,u=0;u<a.maxp.numGlyphs;u++)u<a.hhea.numberOfHMetrics&&(s=i.readUshort(e,n),n+=2,c=i.readShort(e,n),n+=2),o.aWidth.push(s),o.lsBearing.push(c);return o},t.kern={},t.kern.parse=function(e,n,r,a){var i=t._bin,o=i.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,a);var s=i.readUshort(e,n);n+=2;for(var c={glyph1:[],rval:[]},u=0;u<s;u++){n+=2,r=i.readUshort(e,n),n+=2;var l=i.readUshort(e,n);n+=2;var d=l>>>8;if(0!=(d&=15))throw"unknown kern table format: "+d;n=t.kern.readFormat0(e,n,c)}return c},t.kern.parseV1=function(e,n,r,a){var i=t._bin;i.readFixed(e,n),n+=4;var o=i.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},c=0;c<o;c++){i.readUint(e,n),n+=4;var u=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2;var l=u>>>8;if(0!=(l&=15))throw"unknown kern table format: "+l;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var a=t._bin,i=-1,o=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2,a.readUshort(e,n),n+=2;for(var s=0;s<o;s++){var c=a.readUshort(e,n);n+=2;var u=a.readUshort(e,n);n+=2;var l=a.readShort(e,n);n+=2,c!=i&&(r.glyph1.push(c),r.rval.push({glyph2:[],vals:[]}));var d=r.rval[r.rval.length-1];d.glyph2.push(u),d.vals.push(l),i=c}return n},t.loca={},t.loca.parse=function(e,n,r,a){var i=t._bin,o=[],s=a.head.indexToLocFormat,c=a.maxp.numGlyphs+1;if(0==s)for(var u=0;u<c;u++)o.push(i.readUshort(e,n+(u<<1))<<1);if(1==s)for(u=0;u<c;u++)o.push(i.readUint(e,n+(u<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var a=t._bin,i={},o=a.readUint(e,n);return n+=4,i.numGlyphs=a.readUshort(e,n),n+=2,65536==o&&(i.maxPoints=a.readUshort(e,n),n+=2,i.maxContours=a.readUshort(e,n),n+=2,i.maxCompositePoints=a.readUshort(e,n),n+=2,i.maxCompositeContours=a.readUshort(e,n),n+=2,i.maxZones=a.readUshort(e,n),n+=2,i.maxTwilightPoints=a.readUshort(e,n),n+=2,i.maxStorage=a.readUshort(e,n),n+=2,i.maxFunctionDefs=a.readUshort(e,n),n+=2,i.maxInstructionDefs=a.readUshort(e,n),n+=2,i.maxStackElements=a.readUshort(e,n),n+=2,i.maxSizeOfInstructions=a.readUshort(e,n),n+=2,i.maxComponentElements=a.readUshort(e,n),n+=2,i.maxComponentDepth=a.readUshort(e,n),n+=2),i},t.name={},t.name.parse=function(e,n,r){var a=t._bin,i={};a.readUshort(e,n),n+=2;var o=a.readUshort(e,n);n+=2,a.readUshort(e,n);for(var s,c=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],u=n+=2,l=0;l<o;l++){var d=a.readUshort(e,n);n+=2;var h=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);n+=2;var p=a.readUshort(e,n);n+=2;var m=a.readUshort(e,n);n+=2;var g=a.readUshort(e,n);n+=2;var v,b=c[p],y=u+12*o+g;if(0==d)v=a.readUnicode(e,y,m/2);else if(3==d&&0==h)v=a.readUnicode(e,y,m/2);else if(0==h)v=a.readASCII(e,y,m);else if(1==h)v=a.readUnicode(e,y,m/2);else if(3==h)v=a.readUnicode(e,y,m/2);else{if(1!=d)throw"unknown encoding "+h+", platformID: "+d;v=a.readASCII(e,y,m),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var w="p"+d+","+f.toString(16);null==i[w]&&(i[w]={}),i[w][void 0!==b?b:p]=v,i[w]._lang=f}for(var E in i)if(null!=i[E].postScriptName&&1033==i[E]._lang)return i[E];for(var E in i)if(null!=i[E].postScriptName&&0==i[E]._lang)return i[E];for(var E in i)if(null!=i[E].postScriptName&&3084==i[E]._lang)return i[E];for(var E in i)if(null!=i[E].postScriptName)return i[E];for(var E in i){s=E;break}return console.debug("returning name table with languageID "+i[s]._lang),i[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var a=t._bin.readUshort(e,n);n+=2;var i={};if(0==a)t["OS/2"].version0(e,n,i);else if(1==a)t["OS/2"].version1(e,n,i);else if(2==a||3==a||4==a)t["OS/2"].version2(e,n,i);else{if(5!=a)throw"unknown OS/2 table version: "+a;t["OS/2"].version5(e,n,i)}return i},t["OS/2"].version0=function(e,n,r){var a=t._bin;return r.xAvgCharWidth=a.readShort(e,n),n+=2,r.usWeightClass=a.readUshort(e,n),n+=2,r.usWidthClass=a.readUshort(e,n),n+=2,r.fsType=a.readUshort(e,n),n+=2,r.ySubscriptXSize=a.readShort(e,n),n+=2,r.ySubscriptYSize=a.readShort(e,n),n+=2,r.ySubscriptXOffset=a.readShort(e,n),n+=2,r.ySubscriptYOffset=a.readShort(e,n),n+=2,r.ySuperscriptXSize=a.readShort(e,n),n+=2,r.ySuperscriptYSize=a.readShort(e,n),n+=2,r.ySuperscriptXOffset=a.readShort(e,n),n+=2,r.ySuperscriptYOffset=a.readShort(e,n),n+=2,r.yStrikeoutSize=a.readShort(e,n),n+=2,r.yStrikeoutPosition=a.readShort(e,n),n+=2,r.sFamilyClass=a.readShort(e,n),n+=2,r.panose=a.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=a.readUint(e,n),n+=4,r.ulUnicodeRange2=a.readUint(e,n),n+=4,r.ulUnicodeRange3=a.readUint(e,n),n+=4,r.ulUnicodeRange4=a.readUint(e,n),n+=4,r.achVendID=[a.readInt8(e,n),a.readInt8(e,n+1),a.readInt8(e,n+2),a.readInt8(e,n+3)],n+=4,r.fsSelection=a.readUshort(e,n),n+=2,r.usFirstCharIndex=a.readUshort(e,n),n+=2,r.usLastCharIndex=a.readUshort(e,n),n+=2,r.sTypoAscender=a.readShort(e,n),n+=2,r.sTypoDescender=a.readShort(e,n),n+=2,r.sTypoLineGap=a.readShort(e,n),n+=2,r.usWinAscent=a.readUshort(e,n),n+=2,r.usWinDescent=a.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var a=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=a.readUint(e,n),n+=4,r.ulCodePageRange2=a.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var a=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=a.readShort(e,n),n+=2,r.sCapHeight=a.readShort(e,n),n+=2,r.usDefault=a.readUshort(e,n),n+=2,r.usBreak=a.readUshort(e,n),n+=2,r.usMaxContext=a.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var a=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=a.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=a.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var a=t._bin,i={};return i.version=a.readFixed(e,n),n+=4,i.italicAngle=a.readFixed(e,n),n+=4,i.underlinePosition=a.readShort(e,n),n+=2,i.underlineThickness=a.readShort(e,n),n+=2,i},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var a=n.tables[r];if(0==a.format)return t>=a.map.length?0:a.map[t];if(4==a.format){for(var i=-1,o=0;o<a.endCount.length;o++)if(t<=a.endCount[o]){i=o;break}return-1==i||a.startCount[i]>t?0:65535&(0!=a.idRangeOffset[i]?a.glyphIdArray[t-a.startCount[i]+(a.idRangeOffset[i]>>1)-(a.idRangeOffset.length-i)]:t+a.idDelta[i])}if(12==a.format){if(t>a.groups[a.groups.length-1][1])return 0;for(o=0;o<a.groups.length;o++){var s=a.groups[o];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+a.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var a=e.SVG.entries[n];return null==a?r:("string"==typeof a&&(a=t.SVG.toPath(a),e.SVG.entries[n]=a),a)}if(e.CFF){var i={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,s=e.CFF.Private;if(o.ROS){for(var c=0;o.FDSelect[c+2]<=n;)c+=2;s=o.FDArray[o.FDSelect[c+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],i,o,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var a=n.glyf[e];null==a&&(a=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=a&&(a.noc>-1?t.U._simpleGlyph(a,r):t.U._compoGlyph(a,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var a=0==r?0:e.endPts[r-1]+1,i=e.endPts[r],o=a;o<=i;o++){var s=o==a?i:o-1,c=o==i?a:o+1,u=1&e.flags[o],l=1&e.flags[s],d=1&e.flags[c],h=e.xs[o],f=e.ys[o];if(o==a)if(u){if(!l){t.U.P.moveTo(n,h,f);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else l?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+h)/2,(e.ys[s]+f)/2);u?l&&t.U.P.lineTo(n,h,f):d?t.U.P.qcurveTo(n,h,f,e.xs[c],e.ys[c]):t.U.P.qcurveTo(n,h,f,(h+e.xs[c])/2,(f+e.ys[c])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var a=0;a<e.parts.length;a++){var i={cmds:[],crds:[]},o=e.parts[a];t.U._drawGlyf(o.glyphIndex,n,i);for(var s=o.m,c=0;c<i.crds.length;c+=2){var u=i.crds[c],l=i.crds[c+1];r.crds.push(u*s.a+l*s.b+s.tx),r.crds.push(u*s.c+l*s.d+s.ty)}for(c=0;c<i.cmds.length;c++)r.cmds.push(i.cmds[c])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var a=0;if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,s=i.featureList,c=[],u=0;u<s.length;u++){var l=s[u];if("kern"==l.tag)for(var d=0;d<l.tab.length;d++)if(!c[l.tab[d]]){c[l.tab[d]]=!0;for(var h=o[l.tab[d]],f=0;f<h.tabs.length;f++)if(null!=h.tabs[f]){var p,m=h.tabs[f];if(!m.coverage||-1!=(p=t._lctf.coverageIndex(m.coverage,n)))if(1==h.ltype);else if(2==h.ltype){var g;if(1==m.fmt){var v=m.pairsets[p];for(u=0;u<v.length;u++)v[u].gid2==r&&(g=v[u])}else if(2==m.fmt){var b=t.U._getGlyphClass(n,m.classDef1),y=t.U._getGlyphClass(r,m.classDef2);g=m.matrix[b][y]}g&&g.val1&&g.val1[2]&&(a+=g.val1[2]),g&&g.val2&&g.val2[0]&&(a+=g.val2[0])}}}}if(e.kern){var w=e.kern.glyph1.indexOf(n);if(-1!=w){var E=e.kern.rval[w].glyph2.indexOf(r);-1!=E&&(a+=e.kern.rval[w].vals[E])}}return a},t.U._applySubs=function(e,n,r,a){for(var i=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var s,c=r.tabs[o];if(!c.coverage||-1!=(s=t._lctf.coverageIndex(c.coverage,e[n])))if(1==r.ltype)e[n],1==c.fmt?e[n]=e[n]+c.delta:e[n]=c.newg[s];else if(4==r.ltype)for(var u=c.vals[s],l=0;l<u.length;l++){var d=u[l],h=d.chain.length;if(!(h>i)){for(var f=!0,p=0,m=0;m<h;m++){for(;-1==e[n+p+(1+m)];)p++;d.chain[m]!=e[n+p+(1+m)]&&(f=!1)}if(f){for(e[n]=d.nglyph,m=0;m<h+p;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==c.fmt)for(var g=t._lctf.getInterval(c.cDef,e[n]),v=c.cDef[g+2],b=c.scset[v],y=0;y<b.length;y++){var w=b[y],E=w.input;if(!(E.length>i)){for(f=!0,m=0;m<E.length;m++){var x=t._lctf.getInterval(c.cDef,e[n+1+m]);if(-1==g&&c.cDef[x+2]!=E[m]){f=!1;break}}if(f){var _=w.substLookupRecords;for(l=0;l<_.length;l+=2)_[l],_[l+1]}}}else if(6==r.ltype&&3==c.fmt){if(!t.U._glsCovered(e,c.backCvg,n-c.backCvg.length))continue;if(!t.U._glsCovered(e,c.inptCvg,n))continue;if(!t.U._glsCovered(e,c.ahedCvg,n+c.inptCvg.length))continue;var A=c.lookupRec;for(y=0;y<A.length;y+=2){g=A[y];var L=a[A[y+1]];t.U._applySubs(e,n+g,L,a)}}}},t.U._glsCovered=function(e,n,r){for(var a=0;a<n.length;a++)if(-1==t._lctf.coverageIndex(n[a],e[r+a]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var a={cmds:[],crds:[]},i=0,o=0;o<n.length;o++){var s=n[o];if(-1!=s){for(var c=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,u=t.U.glyphToPath(e,s),l=0;l<u.crds.length;l+=2)a.crds.push(u.crds[l]+i),a.crds.push(u.crds[l+1]);for(r&&a.cmds.push(r),l=0;l<u.cmds.length;l++)a.cmds.push(u.cmds[l]);r&&a.cmds.push("X"),i+=e.hmtx.aWidth[s],o<n.length-1&&(i+=t.U.getPairAdjustment(e,s,c))}}return a},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,a,i,o){e.cmds.push("C"),e.crds.push(t,n,r,a,i,o)},t.U.P.qcurveTo=function(e,t,n,r,a){e.cmds.push("Q"),e.crds.push(t,n,r,a)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,a,i){for(var o=n.stack,s=n.nStems,c=n.haveWidth,u=n.width,l=n.open,d=0,h=n.x,f=n.y,p=0,m=0,g=0,v=0,b=0,y=0,w=0,E=0,x=0,_=0,A={val:0,size:0};d<e.length;){t.CFF.getCharString(e,d,A);var L=A.val;if(d+=A.size,"o1"==L||"o18"==L)o.length%2!=0&&!c&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if("o3"==L||"o23"==L)o.length%2!=0&&!c&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0;else if("o4"==L)o.length>1&&!c&&(u=o.shift()+a.nominalWidthX,c=!0),l&&t.U.P.closePath(i),f+=o.pop(),t.U.P.moveTo(i,h,f),l=!0;else if("o5"==L)for(;o.length>0;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);else if("o6"==L||"o7"==L)for(var S=o.length,k="o6"==L,M=0;M<S;M++){var T=o.shift();k?h+=T:f+=T,k=!k,t.U.P.lineTo(i,h,f)}else if("o8"==L||"o24"==L){S=o.length;for(var R=0;R+6<=S;)p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f),R+=6;"o24"==L&&(h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f))}else{if("o11"==L)break;if("o1234"==L||"o1235"==L||"o1236"==L||"o1237"==L)"o1234"==L&&(m=f,g=(p=h+o.shift())+o.shift(),_=v=m+o.shift(),y=v,E=f,h=(w=(b=(x=g+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,g,v,x,_),t.U.P.curveTo(i,b,y,w,E,h,f)),"o1235"==L&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),x=g+o.shift(),_=v+o.shift(),b=x+o.shift(),y=_+o.shift(),w=b+o.shift(),E=y+o.shift(),h=w+o.shift(),f=E+o.shift(),o.shift(),t.U.P.curveTo(i,p,m,g,v,x,_),t.U.P.curveTo(i,b,y,w,E,h,f)),"o1236"==L&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),_=v=m+o.shift(),y=v,w=(b=(x=g+o.shift())+o.shift())+o.shift(),E=y+o.shift(),h=w+o.shift(),t.U.P.curveTo(i,p,m,g,v,x,_),t.U.P.curveTo(i,b,y,w,E,h,f)),"o1237"==L&&(p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),x=g+o.shift(),_=v+o.shift(),b=x+o.shift(),y=_+o.shift(),w=b+o.shift(),E=y+o.shift(),Math.abs(w-h)>Math.abs(E-f)?h=w+o.shift():f=E+o.shift(),t.U.P.curveTo(i,p,m,g,v,x,_),t.U.P.curveTo(i,b,y,w,E,h,f));else if("o14"==L){if(o.length>0&&!c&&(u=o.shift()+r.nominalWidthX,c=!0),4==o.length){var C=o.shift(),P=o.shift(),O=o.shift(),D=o.shift(),I=t.CFF.glyphBySE(r,O),Z=t.CFF.glyphBySE(r,D);t.U._drawCFF(r.CharStrings[I],n,r,a,i),n.x=C,n.y=P,t.U._drawCFF(r.CharStrings[Z],n,r,a,i)}l&&(t.U.P.closePath(i),l=!1)}else if("o19"==L||"o20"==L)o.length%2!=0&&!c&&(u=o.shift()+a.nominalWidthX),s+=o.length>>1,o.length=0,c=!0,d+=s+7>>3;else if("o21"==L)o.length>2&&!c&&(u=o.shift()+a.nominalWidthX,c=!0),f+=o.pop(),h+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),l=!0;else if("o22"==L)o.length>1&&!c&&(u=o.shift()+a.nominalWidthX,c=!0),h+=o.pop(),l&&t.U.P.closePath(i),t.U.P.moveTo(i,h,f),l=!0;else if("o25"==L){for(;o.length>6;)h+=o.shift(),f+=o.shift(),t.U.P.lineTo(i,h,f);p=h+o.shift(),m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f)}else if("o26"==L)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,m=f+o.shift(),h=g=p+o.shift(),f=(v=m+o.shift())+o.shift(),t.U.P.curveTo(i,p,m,g,v,h,f);else if("o27"==L)for(o.length%2&&(f+=o.shift());o.length>0;)m=f,g=(p=h+o.shift())+o.shift(),v=m+o.shift(),h=g+o.shift(),f=v,t.U.P.curveTo(i,p,m,g,v,h,f);else if("o10"==L||"o29"==L){var j="o10"==L?a:r;if(0==o.length)console.debug("error: empty stack");else{var F=o.pop(),U=j.Subrs[F+j.Bias];n.x=h,n.y=f,n.nStems=s,n.haveWidth=c,n.width=u,n.open=l,t.U._drawCFF(U,n,r,a,i),h=n.x,f=n.y,s=n.nStems,c=n.haveWidth,u=n.width,l=n.open}}else if("o30"==L||"o31"==L){var N=o.length,B=(R=0,"o31"==L);for(R+=N-(S=-3&N);R<S;)B?(m=f,g=(p=h+o.shift())+o.shift(),f=(v=m+o.shift())+o.shift(),S-R==5?(h=g+o.shift(),R++):h=g,B=!1):(p=h,m=f+o.shift(),g=p+o.shift(),v=m+o.shift(),h=g+o.shift(),S-R==5?(f=v+o.shift(),R++):f=v,B=!0),t.U.P.curveTo(i,p,m,g,v,h,f),R+=4}else{if("o"==(L+"").charAt(0))throw console.debug("Unknown operation: "+L,e),L;o.push(L)}}}n.x=h,n.y=f,n.nStems=s,n.haveWidth=c,n.width=u,n.open=l};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr}
/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/,function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,a=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(e,t){for(var a=new n(31),i=0;i<31;++i)a[i]=t+=1<<e[i-1];var o=new r(a[30]);for(i=1;i<30;++i)for(var s=a[i];s<a[i+1];++s)o[s]=s-a[i]<<5|i;return[a,o]},c=s(a,2),u=c[0],l=c[1];u[28]=258,l[258]=28;for(var d=s(i,0)[0],h=new n(32768),f=0;f<32768;++f){var p=(43690&f)>>>1|(21845&f)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[f]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(e,t,r){for(var a=e.length,i=0,o=new n(t);i<a;++i)++o[e[i]-1];var s,c=new n(t);for(i=0;i<t;++i)c[i]=c[i-1]+o[i-1]<<1;if(r){s=new n(1<<t);var u=15-t;for(i=0;i<a;++i)if(e[i])for(var l=i<<4|e[i],d=t-e[i],f=c[e[i]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)s[h[f]>>>u]=l}else for(s=new n(a),i=0;i<a;++i)e[i]&&(s[i]=h[c[e[i]-1]++]>>>15-e[i]);return s},g=new t(288);for(f=0;f<144;++f)g[f]=8;for(f=144;f<256;++f)g[f]=9;for(f=256;f<280;++f)g[f]=7;for(f=280;f<288;++f)g[f]=8;var v=new t(32);for(f=0;f<32;++f)v[f]=5;var b=m(g,9,1),y=m(v,5,1),w=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},E=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},x=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],A=function(e,t,n){var r=new Error(t||_[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,A),!n)throw r;return r},L=function(e,s,c){var l=e.length;if(!l||c&&!c.l&&l<5)return s||new t(0);var h=!s||c,f=!c||c.i;c||(c={}),s||(s=new t(3*l));var p,g=function(e){var n=s.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(s),s=r}},v=c.f||0,_=c.p||0,L=c.b||0,S=c.l,k=c.d,M=c.m,T=c.n,R=8*l;do{if(!S){c.f=v=E(e,_,1);var C=E(e,_+1,3);if(_+=3,!C){var P=e[(H=((p=_)/8|0)+(7&p&&1)+4)-4]|e[H-3]<<8,O=H+P;if(O>l){f&&A(0);break}h&&g(L+P),s.set(e.subarray(H,O),L),c.b=L+=P,c.p=_=8*O;continue}if(1==C)S=b,k=y,M=9,T=5;else if(2==C){var D=E(e,_,31)+257,I=E(e,_+10,15)+4,Z=D+E(e,_+5,31)+1;_+=14;for(var j=new t(Z),F=new t(19),U=0;U<I;++U)F[o[U]]=E(e,_+3*U,7);_+=3*I;var N=w(F),B=(1<<N)-1,z=m(F,N,1);for(U=0;U<Z;){var H,G=z[E(e,_,B)];if(_+=15&G,(H=G>>>4)<16)j[U++]=H;else{var V=0,W=0;for(16==H?(W=3+E(e,_,3),_+=2,V=j[U-1]):17==H?(W=3+E(e,_,7),_+=3):18==H&&(W=11+E(e,_,127),_+=7);W--;)j[U++]=V}}var q=j.subarray(0,D),Y=j.subarray(D);M=w(q),T=w(Y),S=m(q,M,1),k=m(Y,T,1)}else A(1);if(_>R){f&&A(0);break}}h&&g(L+131072);for(var K=(1<<M)-1,X=(1<<T)-1,Q=_;;Q=_){var J=(V=S[x(e,_)&K])>>>4;if((_+=15&V)>R){f&&A(0);break}if(V||A(2),J<256)s[L++]=J;else{if(256==J){Q=_,S=null;break}var $=J-254;if(J>264){var ee=a[U=J-257];$=E(e,_,(1<<ee)-1)+u[U],_+=ee}var te=k[x(e,_)&X],ne=te>>>4;if(te||A(3),_+=15&te,Y=d[ne],ne>3&&(ee=i[ne],Y+=x(e,_)&(1<<ee)-1,_+=ee),_>R){f&&A(0);break}h&&g(L+131072);for(var re=L+$;L<re;L+=4)s[L]=s[L-Y],s[L+1]=s[L+1-Y],s[L+2]=s[L+2-Y],s[L+3]=s[L+3-Y];L=re}}c.l=S,c.p=Q,c.b=L,S&&(v=1,c.m=M,c.d=k,c.n=T)}while(!v);return L==s.length?s:function(e,a,i){(null==a||a<0)&&(a=0),(null==i||i>e.length)&&(i=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(i-a);return o.set(e.subarray(a,i)),o}(s,0,L)},S=new t(0),k="undefined"!=typeof TextDecoder&&new TextDecoder;try{k.decode(S,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function a(){var e=t.getUint32(n);return n+=4,e}function i(e){v.setUint16(b,e),b+=2}function o(e){v.setUint32(b,e),b+=4}for(var s={signature:a(),flavor:a(),length:a(),numTables:r(),reserved:r(),totalSfntSize:a(),majorVersion:r(),minorVersion:r(),metaOffset:a(),metaLength:a(),metaOrigLength:a(),privOffset:a(),privLength:a()},c=0;Math.pow(2,c)<=s.numTables;)c++;c--;for(var u=16*Math.pow(2,c),l=16*s.numTables-u,d=12,h=[],f=0;f<s.numTables;f++)h.push({tag:a(),offset:a(),compLength:a(),origLength:a(),origChecksum:a()}),d+=16;var p,m=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),g=m.buffer,v=new DataView(g),b=0;return o(s.flavor),i(s.numTables),i(u),i(c),i(l),h.forEach((function(e){o(e.tag),o(e.origChecksum),o(d),o(e.origLength),e.outOffset=d,(d+=e.origLength)%4!=0&&(d+=4-d%4)})),h.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var a=new Uint8Array(t.origLength);n=new Uint8Array(r,2),L(n,a)}else a=new Uint8Array(r);m.set(a,t.outOffset);var i=0;(d=t.outOffset+t.origLength)%4!=0&&(i=4-d%4),m.set(new Uint8Array(i).buffer,t.outOffset+t.origLength),p=d+i})),g.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"};let a;function i(e){if(!a){const e={R:2,L:1,D:4,C:16,U:32,T:8};a=new Map;for(let t in r){let n=0;r[t].split(",").forEach(r=>{let[i,o]=r.split("+");i=parseInt(i,36),o=o?parseInt(o,36):0,a.set(n+=i,e[t]);for(let r=o;r--;)a.set(++n,e[t])})}}return a.get(e)||32}const o=[null,"isol","init","fina","medi"];function s(e){const t=new Uint8Array(e.length);let n=32,r=1,a=-1;for(let o=0;o<e.length;o++){const s=e.codePointAt(o);let c=0|i(s),u=1;8&c||(21&n?22&c?(u=3,1!==r&&3!==r||t[a]++):33&c&&(2!==r&&4!==r||t[a]--):34&n&&(2!==r&&4!==r||t[a]--),r=t[o]=u,n=c,a=o,s>65535&&o++)}return t}function c(t){const r=Object.create(null),a={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph(i,c,u,l){let d=0;const h=1/a.unitsPerEm*c,f=function(t,n){const r=[];for(let a=0;a<n.length;a++){const i=n.codePointAt(a);i>65535&&a++,r.push(e.U.codeToGlyph(t,i))}const a=t.GSUB;if(a){const{lookupList:t,featureList:i}=a;let c;const u=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,l=[];i.forEach(a=>{if(u.test(a.tag))for(let i=0;i<a.tab.length;i++){if(l[a.tab[i]])continue;l[a.tab[i]]=!0;const u=t[a.tab[i]],d=/^(isol|init|fina|medi)$/.test(a.tag);d&&!c&&(c=s(n));for(let n=0;n<r.length;n++)c&&d&&o[c[n]]!==a.tag||e.U._applySubs(r,n,u,t)}})}return r}(t,i);let p=0,m=-1;return f.forEach((a,o)=>{if(-1!==a){let i=r[a];if(!i){const{cmds:o,crds:s}=e.U.glyphToPath(t,a);let c,u,l,d,h="",f=0;for(let e=0,t=o.length;e<t;e++){const t=n[o[e]];h+=o[e];for(let e=1;e<=t;e++)h+=(e>1?",":"")+s[f++]}if(s.length){c=u=1/0,l=d=-1/0;for(let e=0,t=s.length;e<t;e+=2){let t=s[e],n=s[e+1];t<c&&(c=t),n<u&&(u=n),t>l&&(l=t),n>d&&(d=n)}}else c=l=u=d=0;i=r[a]={index:a,advanceWidth:t.hmtx.aWidth[a],xMin:c,yMin:u,xMax:l,yMax:d,path:h,pathCommandCount:o.length}}-1!==m&&(d+=e.U.getPairAdjustment(t,m,a)*h),l.call(null,i,d,p),i.advanceWidth&&(d+=i.advanceWidth*h),u&&(d+=u*c),m=a}p+=i.codePointAt(p)>65535?2:1}),d}};return a}return function(n){const r=new Uint8Array(n,0,4),a=e._bin.readASCII(r,0,4);if("wOFF"===a)n=t(n);else if("wOF2"===a)throw new Error("woff2 fonts not supported");return c(e.parse(n)[0])}}],init:(e,t,n)=>n(e(),t())}),x={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},_=new r.Color;let A=!1;function L(){return(self.performance||Date).now()}const S=Object.create(null);function k(e,t){A=!0,e=M({},e);const n=L();if(e.font=function(e){T||(T="undefined"==typeof document?{}:document.createElement("a"));return T.href=e,T.href}(e.font||x.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||x.sdfGlyphSize,null!=e.colorRanges){let t={};for(let n in e.colorRanges)if(e.colorRanges.hasOwnProperty(n)){let r=e.colorRanges[n];"number"!=typeof r&&(r=_.set(r).getHex()),t[n]=r}e.colorRanges=t}Object.freeze(e);const{textureWidth:i,sdfExponent:o}=x,{sdfGlyphSize:s}=e;let c=S[s];c||(c=S[s]={glyphCount:0,sdfTexture:new r.DataTexture(new Uint8Array(s*i*4),i,s,r.RGBAFormat,void 0,void 0,void 0,void 0,r.LinearFilter,r.LinearFilter),glyphsByFont:new Map});let u=c.glyphsByFont.get(e.font);u||c.glyphsByFont.set(e.font,u=new Map),P(e).then(r=>{const{glyphIds:i,glyphPositions:l,fontSize:d,unitsPerEm:h,timings:f}=r,p=[],m=new Float32Array(4*i.length),g=d/h;let v=0,b=0;const y=L();i.forEach((e,t)=>{let n=u.get(e);if(!n){const{path:t,pathBounds:a}=r.glyphData[e],i=Math.max(a[2]-a[0],a[3]-a[1])/s*(x.sdfMargin*s+.5),o=c.glyphCount++,l=[a[0]-i,a[1]-i,a[2]+i,a[3]+i];u.set(e,n={path:t,atlasIndex:o,sdfViewBox:l}),p.push(n)}const{sdfViewBox:a}=n,o=l[b++],d=l[b++];m[v++]=o+a[0]*g,m[v++]=d+a[1]*g,m[v++]=o+a[2]*g,m[v++]=d+a[3]*g,i[t]=n.atlasIndex}),f.quads=(f.quads||0)+(L()-y);const w=L();f.sdf={},a.a.all(p.map(({path:e,atlasIndex:t,sdfViewBox:n})=>{const r=Math.max(n[2]-n[0],n[3]-n[1]);return C(s,s,e,n,r,x.sdfExponent).then(({textureData:e,timing:n})=>(f.sdf[t]=n,{atlasIndex:t,textureData:e,timing:n}))})).then(a=>{a.length&&(a.forEach(({atlasIndex:e,textureData:t})=>{const n=c.sdfTexture.image;for(;n.data.length<(e+1)*s*s;){const e=new Uint8Array(2*n.data.length);e.set(n.data),n.data=e,n.height*=2}const r=Math.floor(e/4),a=n.width/s,i=Math.floor(r/a)*n.width*s*4+r%a*s*4+e%4;for(let e=0;e<s;e++){const r=e*s,a=i+e*n.width*4;for(let e=0;e<s;e++)n.data[a+4*e]=t[r+e]}}),c.sdfTexture.needsUpdate=!0),f.sdfTotal=L()-w,f.total=L()-n,t(Object.freeze({parameters:e,sdfTexture:c.sdfTexture,sdfGlyphSize:s,sdfExponent:o,glyphBounds:m,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");const[e,t,n,a]=r.blockBounds;return[n-e,a-t]}}))})})}function M(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}let T;const R=Object(a.c)({name:"Typesetter",dependencies:[x,E,function(e,t,n){const{defaultFontURL:r}=n,a=Object.create(null),i=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function s(t,n){t||(t=r);let i=a[t];i?i.pending?i.pending.push(n):n(i):(a[t]={pending:[n]},function(t,n){!function a(){const i=e=>{console.error(`Failure loading font ${t}${t===r?"":"; trying fallback"}`,e),t!==r&&(t=r,a())};try{const r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="arraybuffer",r.onload=function(){if(r.status>=400)i(new Error(r.statusText));else if(r.status>0)try{const t=e(r.response);n(t)}catch(e){i(e)}},r.onerror=i,r.send()}catch(e){i(e)}}()}(t,e=>{let n=a[t].pending;a[t]=e,n.forEach(t=>t(e))}))}function c({text:e="",font:n=r,sdfGlyphSize:a=64,fontSize:c=1,letterSpacing:f=0,lineHeight:p="normal",maxWidth:m=1/0,direction:g,textAlign:v="left",textIndent:b=0,whiteSpace:y="normal",overflowWrap:w="normal",anchorX:E=0,anchorY:x=0,includeCaretPositions:_=!1,chunkedBoundsSize:A=8192,colorRanges:L=null},S,k=!1){const M=d(),T={fontLoad:0,typesetting:0};e.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),c=+c,f=+f,m=+m,p=p||"normal",b=+b,s(n,n=>{const r=isFinite(m);let a=null,s=null,R=null,C=null,P=null,O=null,D=null,I=0,Z=0,j="nowrap"!==y;const{ascender:F,descender:U,unitsPerEm:N}=n;T.fontLoad=d()-M;const B=d(),z=c/N;"normal"===p&&(p=(F-U)/N);const H=((p*=c)-(F-U)*z)/2,G=-(F*z+H),V=Math.min(p,(F-U)*z),W=(F+U)/2*z-V/2;let q=b,Y=new h;const K=[Y];n.forEachGlyph(e,c,f,(t,n,a)=>{const s=e.charAt(a),u=t.advanceWidth*z,l=Y.count;let d;if("isEmpty"in t||(t.isWhitespace=!!s&&/\s/.test(s),t.canBreakAfter=!!s&&o.test(s),t.isEmpty=t.xMin===t.xMax||t.yMin===t.yMax||i.test(s)),t.isWhitespace||t.isEmpty||Z++,j&&r&&!t.isWhitespace&&n+u+q>m&&l){if(Y.glyphAt(l-1).glyphObj.canBreakAfter)d=new h,q=-n;else for(let e=l;e--;){if(0===e&&"break-word"===w){d=new h,q=-n;break}if(Y.glyphAt(e).glyphObj.canBreakAfter){d=Y.splitAt(e+1);const t=d.glyphAt(0).x;q-=t;for(let e=d.count;e--;)d.glyphAt(e).x-=t;break}}d&&(Y.isSoftWrapped=!0,Y=d,K.push(Y),I=m)}let p=Y.glyphAt(Y.count);p.glyphObj=t,p.x=n+q,p.width=u,p.charIndex=a,"\n"===s&&(Y=new h,K.push(Y),q=-(n+u+f*c)+b)}),K.forEach(e=>{for(let t=e.count;t--;){let{glyphObj:n,x:r,width:a}=e.glyphAt(t);if(!n.isWhitespace)return e.width=r+a,void(e.width>I&&(I=e.width))}});let X=0,Q=0;if(E&&("number"==typeof E?X=-E:"string"==typeof E&&(X=-I*("left"===E?0:"center"===E?.5:"right"===E?1:u(E)))),x)if("number"==typeof x)Q=-x;else if("string"==typeof x){let e=K.length*p;Q="top"===x?0:"top-baseline"===x?-G:"middle"===x?e/2:"bottom"===x?e:"bottom-baseline"===x?e-H+U*z:u(x)*e}if(!k){const r=t.getEmbeddingLevels(e,g);a=new Uint16Array(Z),s=new Float32Array(2*Z),R={},O=[1/0,1/0,-1/0,-1/0],D=[];let i=G;_&&(P=new Float32Array(3*e.length)),L&&(C=new Uint8Array(3*Z));let o,c,u=0,d=-1,h=-1;if(K.forEach((f,m)=>{let{count:g,width:b}=f;if(g>0){let p=0;for(let e=g;e--&&f.glyphAt(e).glyphObj.isWhitespace;)p++;let m=0,y=0;if("center"===v)m=(I-b)/2;else if("right"===v)m=I-b;else if("justify"===v&&f.isSoftWrapped){let e=0;for(let t=g-p;t--;)f.glyphAt(t).glyphObj.isWhitespace&&e++;y=(I-b)/e}if(y||m){let e=0;for(let t=0;t<g;t++){let n=f.glyphAt(t);const r=n.glyphObj;n.x+=m+e,0!==y&&r.isWhitespace&&t<g-p&&(e+=y,n.width+=y)}}const w=t.getReorderSegments(e,r,f.glyphAt(0).charIndex,f.glyphAt(f.count-1).charIndex);for(let e=0;e<w.length;e++){const[t,n]=w[e];let r=1/0,a=-1/0;for(let e=0;e<g;e++)if(f.glyphAt(e).charIndex>=t){let t=e,i=e;for(;i<g;i++){let e=f.glyphAt(i);if(e.charIndex>n)break;i<g-p&&(r=Math.min(r,e.x),a=Math.max(a,e.x+e.width))}for(let e=t;e<i;e++){const t=f.glyphAt(e);t.x=a-(t.x+t.width-r)}break}}let E;const x=e=>E=e;for(let p=0;p<g;p++){let m=f.glyphAt(p);E=m.glyphObj;const g=E.index,v=1&r.levels[m.charIndex];if(v){const r=t.getMirroredCharacter(e[m.charIndex]);r&&n.forEachGlyph(r,0,0,x)}if(_){const{charIndex:e}=m,t=m.x+X,n=m.x+m.width+X;P[3*e]=v?n:t,P[3*e+1]=v?t:n,P[3*e+2]=i+W+Q;const r=e-d;r>1&&l(P,d,r),d=e}if(L){const{charIndex:e}=m;for(;e>h;)h++,L.hasOwnProperty(h)&&(c=L[h])}if(!E.isWhitespace&&!E.isEmpty){const e=u++;R[g]||(R[g]={path:E.path,pathBounds:[E.xMin,E.yMin,E.xMax,E.yMax]});const t=m.x+X,n=i+Q;s[2*e]=t,s[2*e+1]=n;const r=t+E.xMin*z,l=n+E.yMin*z,d=t+E.xMax*z,h=n+E.yMax*z;r<O[0]&&(O[0]=r),l<O[1]&&(O[1]=l),d>O[2]&&(O[2]=d),h>O[3]&&(O[3]=h),e%A==0&&(o={start:e,end:e,rect:[1/0,1/0,-1/0,-1/0]},D.push(o)),o.end++;const f=o.rect;if(r<f[0]&&(f[0]=r),l<f[1]&&(f[1]=l),d>f[2]&&(f[2]=d),h>f[3]&&(f[3]=h),a[e]=g,L){const t=3*e;C[t]=c>>16&255,C[t+1]=c>>8&255,C[t+2]=255&c}}}}i-=p}),P){const t=e.length-d;t>1&&l(P,d,t)}}T.typesetting=d()-B,S({glyphIds:a,glyphPositions:s,glyphData:R,caretPositions:P,caretHeight:V,glyphColors:C,chunkedBounds:D,fontSize:c,unitsPerEm:N,ascender:F*z,descender:U*z,lineHeight:p,topBaseline:G,blockBounds:[X,Q-K.length*p,X+I,Q],visibleBounds:O,timings:T})})}function u(e){let t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function l(e,t,n){const r=e[3*t],a=e[3*t+1],i=e[3*t+2],o=(a-r)/n;for(let a=0;a<n;a++){const n=3*(t+a);e[n]=r+o*a,e[n+1]=r+o*(a+1),e[n+2]=i}}function d(){return(self.performance||Date).now()}function h(){this.data=[]}const f=["glyphObj","x","width","charIndex"];return h.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/f.length)},glyphAt(e){let t=h.flyweight;return t.data=this.data,t.index=e,t},splitAt(e){let t=new h;return t.data=this.data.splice(e*f.length),t}},h.flyweight=f.reduce((e,t,n,r)=>(Object.defineProperty(e,t,{get(){return this.data[this.index*f.length+n]},set(e){this.data[this.index*f.length+n]=e}}),e),{data:null,index:0}),{typeset:c,measure:function(e,t){c(e,e=>{const[n,r,a,i]=e.blockBounds;t({width:a-n,height:i-r})},{metricsOnly:!0})},loadFont:s}},i],init(e,t,n,r){const{defaultFontURL:a}=e;return n(t,r(),{defaultFontURL:a})}}),C=function(){const e={};let t=0;return function(...n){const r="TroikaTextSDFGenerator_"+t++%4;let i=e[r];return i||(i=e[r]={workerModule:Object(a.c)({name:r,workerId:r,dependencies:[x,w,y],init(e,t,n){const{sdfExponent:r,sdfMargin:a}=e;return n(t,{sdfExponent:r,sdfMargin:a})},getTransferables:e=>[e.textureData.buffer]}),requests:0,idleTimer:null}),i.requests++,clearTimeout(i.idleTimer),i.workerModule(...n).then(e=>(0==--i.requests&&(i.idleTimer=setTimeout(()=>{Object(a.d)(r)},2e3)),e))}}(),P=Object(a.c)({name:"Typesetter",dependencies:[R,a.b],init:(e,t)=>function(n){const r=new t;return e.typeset(n,r.resolve),r},getTransferables(e){const t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}});const O=(()=>{const e={};class t extends r.InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new r.Sphere,this.boundingBox=new r.Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(e){const t=this.getIndex().count;this.setDrawRange(e===r.BackSide?t/2:0,e===r.DoubleSide?t:t/2)}set detail(t){if(t!==this._detail){this._detail=t,("number"!=typeof t||t<1)&&(t=1);let n=function(t){let n=e[t];if(!n){const a=new r.PlaneBufferGeometry(1,1,t,t),i=a.clone(),o=a.attributes,s=i.attributes,c=new r.BufferGeometry,u=o.uv.count;for(let e=0;e<u;e++)s.position.array[3*e]*=-1,s.normal.array[3*e+2]*=-1;["position","normal","uv"].forEach(e=>{c.setAttribute(e,new r.Float32BufferAttribute([...o[e].array,...s[e].array],o[e].itemSize))}),c.setIndex([...a.index.array,...i.index.array.map(e=>e+u)]),c.translate(.5,.5,0),n=e[t]=c}return n}(t);["position","normal","uv"].forEach(e=>{this.attributes[e]=n.attributes[e].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,t,r,i,o){n(this,"aTroikaGlyphBounds",e,4),n(this,"aTroikaGlyphIndex",t,1),n(this,"aTroikaGlyphColor",o,3),this._blockBounds=r,this._chunkedBounds=i,a(this,t.length),this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:t,boundingBox:n}=this;if(t){const{PI:r,floor:a,min:i,max:o,sin:s,cos:c}=Math,u=r/2,l=2*r,d=Math.abs(t),h=e[0]/d,f=e[2]/d,p=a((h+u)/l)!==a((f+u)/l)?-d:i(s(h)*d,s(f)*d),m=a((h-u)/l)!==a((f-u)/l)?d:o(s(h)*d,s(f)*d),g=a((h+r)/l)!==a((f+r)/l)?2*d:o(d-c(h)*d,d-c(f)*d);n.min.set(p,e[1],t<0?-g:0),n.max.set(m,e[3],t<0?0:g)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let t=this.getAttribute("aTroikaGlyphIndex").count,n=this._chunkedBounds;if(n)for(let r=n.length;r--;){t=n[r].end;let a=n[r].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}a(this,t)}}function n(e,t,n,a){const i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new r.InstancedBufferAttribute(n,a)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}function a(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return t.prototype.setAttribute||(t.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),t})();const D=(()=>{const e=new r.MeshBasicMaterial({color:16777215,side:r.DoubleSide,transparent:!0}),t=new r.Matrix4,n=new r.Vector3,a=new r.Vector3,i=[],s=new r.Vector3;function c(e){return Array.isArray(e)?e[0]:e}let u=()=>{const t=new r.Mesh(new r.PlaneBufferGeometry(1,1),e);return u=()=>t,t},l=()=>{const t=new r.Mesh(new r.PlaneBufferGeometry(1,1,32,1),e);return l=()=>t,t};const d={type:"syncstart"},h={type:"synccomplete"},f=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],m=f.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");class g extends r.Mesh{constructor(){super(new O,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=8421504,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation="+x+y",this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(d),k({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},t=>{this._isSyncing=!1,this._textRenderInfo=t,this.geometry.updateGlyphs(t.glyphBounds,t.glyphAtlasIndices,t.blockBounds,t.chunkedBounds,t.glyphColors);const n=this._queuedSyncs;n&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{n.forEach(e=>e&&e())})),this.dispatchEvent(h),e&&e()})))}onBeforeRender(e,t,n,a,i,o){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=r.FrontSide}onAfterRender(e,t,n,r,a,i){a._hadOwnSide?a.side=a._actualSide:delete a.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){const t=p(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new r.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new r.Vector4(0,0,0,0)},uTroikaClipRect:{value:new r.Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new r.Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new r.Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new r.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of encoding in SDFGenerator.js\n  \n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  \n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n",fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat distance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(distance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  distance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter({vertexShader:e,fragmentShader:t}){let n=/\buniform\s+vec3\s+diffuse\b/;return n.test(t)&&(t=t.replace(n,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),n.test(e)||(e=e.replace(o,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:e,fragmentShader:t}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let e=t._outlineMtl;return e||(e=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),e.isTextOutlineMaterial=!0,e.depthWrite=!1,e.map=null,t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),[e,t]}return t}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return c(this.material).getDepthMaterial()}get customDistanceMaterial(){return c(this.material).getDistanceMaterial()}_prepareForRender(e){const i=e.isTextOutlineMaterial,o=e.uniforms,c=this.textRenderInfo;if(c){const{sdfTexture:e,blockBounds:t}=c;o.uTroikaSDFTexture.value=e,o.uTroikaSDFTextureSize.value.set(e.image.width,e.image.height),o.uTroikaSDFGlyphSize.value=c.sdfGlyphSize,o.uTroikaSDFExponent.value=c.sdfExponent,o.uTroikaTotalBounds.value.fromArray(t),o.uTroikaUseGlyphColors.value=!i&&!!c.glyphColors;let n,r,a,s=0,u=0,l=0,d=0,h=0;if(i){let{outlineWidth:e,outlineOffsetX:t,outlineOffsetY:r,outlineBlur:a,outlineOpacity:i}=this;s=this._parsePercent(e)||0,u=Math.max(0,this._parsePercent(a)||0),n=i,d=this._parsePercent(t)||0,h=this._parsePercent(r)||0}else l=Math.max(0,this._parsePercent(this.strokeWidth)||0),l&&(a=this.strokeColor,o.uTroikaStrokeColor.value.set(null==a?8421504:a),r=this.strokeOpacity,null==r&&(r=1)),n=this.fillOpacity;o.uTroikaDistanceOffset.value=s,o.uTroikaPositionOffset.value.set(d,h),o.uTroikaBlurRadius.value=u,o.uTroikaStrokeWidth.value=l,o.uTroikaStrokeOpacity.value=r,o.uTroikaFillOpacity.value=null==n?1:n,o.uTroikaCurveRadius.value=this.curveRadius||0;let f=this.clipRect;if(f&&Array.isArray(f)&&4===f.length)o.uTroikaClipRect.value.fromArray(f);else{const e=100*(this.fontSize||.1);o.uTroikaClipRect.value.set(t[0]-e,t[1]-e,t[2]+e,t[3]+e)}this.geometry.applyClipRect(o.uTroikaClipRect.value)}o.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const u=i?this.outlineColor||0:this.color;if(null==u)delete e.color;else{const t=e.hasOwnProperty("color")?e.color:e.color=new r.Color;u===t._input&&"object"!=typeof u||t.set(t._input=u)}let l=this.orientation||"+x+y";if(l!==e._orientation){let r=o.uTroikaOrient.value;l=l.replace(/[^-+xyz]/g,"");let i="+x+y"!==l&&l.match(/^([-+])([xyz])([-+])([xyz])$/);if(i){let[,e,o,c,u]=i;n.set(0,0,0)[o]="-"===e?1:-1,a.set(0,0,0)[u]="-"===c?-1:1,t.lookAt(s,n.cross(a),a),r.setFromMatrix4(t)}else r.identity();e._orientation=l}}_parsePercent(e){if("string"==typeof e){let t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}localPositionToTextCoords(e,t=new r.Vector2){t.copy(e);const n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}worldPositionToTextCoords(e,t=new r.Vector2){return n.copy(e),this.localPositionToTextCoords(this.worldToLocal(n),t)}raycast(e,t){const{textRenderInfo:n,curveRadius:r}=this;if(n){const a=n.blockBounds,o=r?l():u(),s=o.geometry,{position:c,uv:d}=s.attributes;for(let e=0;e<d.count;e++){let t=a[0]+d.getX(e)*(a[2]-a[0]);const n=a[1]+d.getY(e)*(a[3]-a[1]);let i=0;r&&(i=r-Math.cos(t/r)*r,t=Math.sin(t/r)*r),c.setXYZ(e,t,n,i)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,i.length=0,o.raycast(e,i);for(let e=0;e<i.length;e++)i[e].object=this,t.push(i[e])}}copy(e){const t=this.geometry;return super.copy(e),this.geometry=t,m.forEach(t=>{this[t]=e[t]}),this}clone(){return(new this.constructor).copy(this)}}f.forEach(e=>{const t="_private_"+e;Object.defineProperty(g.prototype,e,{get(){return this[t]},set(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})});let v=!1;return Object.defineProperty(g.prototype,"anchor",{get(){return this._deprecated_anchor},set(e){this._deprecated_anchor=e,v||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),v=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}}),g})();new WeakMap;new WeakMap},345:function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},346:function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},347:function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/},356:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(37),a=n(113);const i=[],o=[],s=["MeshStandardMaterial","MeshBasicMaterial","MeshPhongMaterial"];AFRAME.registerComponent("hoverable-visuals",{schema:{enableSweepingEffect:{type:"boolean",default:!0}},init(){this.uniforms=null,this.geometryRadius=0,this.sweepParams=[0,0]},remove(){this.uniforms=null,this.boundingBox=null;const e=this.el.sceneEl.systems["hubs-systems"].batchManagerSystem;this.el.object3D.traverse(t=>{t.material&&Object(r.c)(t,n=>{!s.includes(n.type)||t.el.classList.contains("ui")||t.el.classList.contains("hud")||t.el.getAttribute("text-button")||e.batchingEnabled&&e.meshToEl.delete(t)})});const t=AFRAME.utils.device.isMobile(),n=AFRAME.utils.device.isMobileVR();this.isTouchscreen=t&&!n},tick(e){if(!this.uniforms||!this.uniforms.length)return;const t=this.el.sceneEl.is("frozen"),n=Object(a.d)(this.el),r=this.el.sceneEl.systems["hubs-systems"].cursorTogglingSystem;let s,c;const u=this.el.sceneEl.systems.interaction;if(u.ready){if(u.state.leftHand.hovered!==this.el||u.state.leftHand.held||(s=u.options.leftHand.entity.object3D),u.state.leftRemote.hovered!==this.el||u.state.leftRemote.held||r.leftToggledOff||(s=u.options.leftRemote.entity.object3D),u.state.rightRemote.hovered!==this.el||u.state.rightRemote.held||r.rightToggledOff||(c=u.options.rightRemote.entity.object3D),u.state.rightHand.hovered!==this.el||u.state.rightHand.held||(c=u.options.rightHand.entity.object3D),s&&s.matrixWorld.toArray(i),c&&c.matrixWorld.toArray(o),s||c||t){const e=this.el.object3D.matrixWorld.elements[13],t=this.el.object3D.matrixWorld.elements[4],n=this.el.object3D.matrixWorld.elements[5],r=this.el.object3D.matrixWorld.elements[6],a=Math.sqrt(t*t+n*n+r*r)*this.geometryRadius;this.sweepParams[0]=e-a,this.sweepParams[1]=e+a}for(let r=0,a=this.uniforms.length;r<a;r++){const a=this.uniforms[r];a.hubs_EnableSweepingEffect.value=this.data.enableSweepingEffect&&n,a.hubs_IsFrozen.value=t,a.hubs_SweepParams.value=this.sweepParams,a.hubs_HighlightInteractorOne.value=!!s&&n&&!this.isTouchscreen,a.hubs_InteractorOnePos.value[0]=i[12],a.hubs_InteractorOnePos.value[1]=i[13],a.hubs_InteractorOnePos.value[2]=i[14],a.hubs_HighlightInteractorTwo.value=!!c&&n&&!this.isTouchscreen,a.hubs_InteractorTwoPos.value[0]=o[12],a.hubs_InteractorTwoPos.value[1]=o[13],a.hubs_InteractorTwoPos.value[2]=o[14],(s||c||t)&&(a.hubs_Time.value=e)}}}})},36:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,a,i,o,s){let c={};const u=(e.location.state&&e.location.state.__historyLength||0)+(t?0:1);(n||o||s)&&(c=e.location.state?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){r(e,t,n[t])}))}return e}({},e.location.state):{},delete c.__duplicate,n&&(c[n]=a,c.key=n,c.value=a,c.detail=i));const l=void 0!==o?o:"/"===e.location.pathname?"":e.location.pathname,d=void 0!==s?s:e.location.search,h=e.location.hash,f=e.location.state&&e.location.state.__duplicate,p=t||f?e.replace:e.push;c.__historyLength=u,p({pathname:l,search:d,state:c,hash:h})}function i(e,t,n,r){a(e,!1,t,n,r)}function o(e,t,n,r){a(e,!0,t,n,r)}function s(e,t,n){a(e,!1,null,null,null,t,n)}function c(e){a(e,!1)}function u(e,t){if(!e.location.state||void 0===e.location.state.__historyLength)return;const n=e.location.state.__historyLength;return 0!==n?new Promise(r=>{const a=e.listen(()=>{a(),e.push({pathname:e.location.pathname,search:e.location.search,state:{__historyLength:0,__duplicate:!0}}),t&&e.go(-2),r()});e.go(-n)}):void 0}function l(e){u(e,!0)}function d(e){const t=e.pathname.split("/");return"/".concat(t.slice(2).join("/"))}function h(e,t){const n=e.pathname.split("/");return"/".concat(n[1]).concat(t)}n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return h}))},360:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function a(e){return r.a.feature(e.name)&&e.children||null}},37:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function a(e,t){e.material&&(Array.isArray(e.material)?e.material.forEach(t):t(e.material))}function i(e,t){e.material&&(Array.isArray(e.material)?e.material=e.material.map(t):e.material=t(e.material))}function o(e,t){return e.material?Array.isArray(e.material)?e.material.map(t):[t(e.material)]:[]}n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));class s extends THREE.MeshBasicMaterial{static fromMeshStandardMaterial(e){const t=new s;return THREE.Material.prototype.copy.call(t,e),t.color.copy(e.color),t.emissive.copy(e.emissive),t.emissiveIntensity=e.emissiveIntensity,t.emissiveMap=e.emissiveMap,t.map=e.map,t.lightMap=e.lightMap,t.lightMapIntensity=e.lightMapIntensity,t.aoMap=e.aoMap,t.aoMapIntensity=e.aoMapIntensity,t.alphaMap=e.alphaMap,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.wireframeLinecap=e.wireframeLinecap,t.wireframeLinejoin=e.wireframeLinejoin,t}constructor(e={}){let{emissive:t,emissiveMap:n,emissiveIntensity:a}=e;super(r(e,["emissive","emissiveMap","emissiveIntensity"])),this.onBeforeCompile=e=>{e.uniforms.emissive=this._emissive,e.uniforms.emissiveIntensity=this._emissiveIntensity,e.uniforms.emissiveMap=this._emissiveMap,e.fragmentShader=e.fragmentShader.replace("#include <lightmap_pars_fragment>","#include <lightmap_pars_fragment>\n      uniform vec3 emissive;\n      uniform sampler2D emissiveMap;\n      "),e.fragmentShader=e.fragmentShader.replace("#include <envmap_fragment>","#include <envmap_fragment>\n\n      vec3 totalEmissiveRadiance = emissive;\n      #include <emissivemap_fragment>\n      outgoingLight += totalEmissiveRadiance;\n\n      ")},this._emissive={value:t||new THREE.Color},this._emissiveIntensity={value:void 0===a?1:a},this._emissiveMap={value:n}}get emissive(){return this._emissive.value}set emissive(e){this._emissive.value=e}get emissiveIntensity(){return this._emissiveIntensity.value}set emissiveIntensity(e){this._emissiveIntensity.value=e}get emissiveMap(){return this._emissiveMap.value}set emissiveMap(e){this._emissiveMap.value=e}copy(e){return super.copy(e),this.emissive.copy(e.emissive),this.emissiveIntensity=e.emissiveIntensity,this.emissiveMap=e.emissiveMap,this}}class c extends THREE.MeshPhongMaterial{constructor(...e){super(...e),this.onBeforeCompile=e=>{e.vertexShader=e.vertexShader.replace("varying vec3 vNormal;","varying vec3 vNormal;\n      #ifdef USE_TANGENT\n        varying vec3 vTangent;\n        varying vec3 vBitangent;\n      #endif\n      "),e.vertexShader=e.vertexShader.replace("vNormal = normalize( transformedNormal );","vNormal = normalize( transformedNormal );\n      \n        #ifdef USE_TANGENT\n      \n          vTangent = normalize( transformedTangent );\n          vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n      \n        #endif\n      "),e.fragmentShader=e.fragmentShader.replace("#include <lights_phong_pars_fragment>","#include <lights_phong_pars_fragment>\n      #ifndef FLAT_SHADED\n\n        #ifdef USE_TANGENT\n          varying vec3 vTangent;\n          varying vec3 vBitangent;\n        #endif\n\n      #endif\n      ")}}static fromMeshStandardMaterial(e){const t=new c;return THREE.Material.prototype.copy.call(t,e),t.color.copy(e.color),t.map=e.map,t.lightMap=e.lightMap,t.lightMapIntensity=e.lightMapIntensity,t.aoMap=e.aoMap,t.aoMapIntensity=e.aoMapIntensity,t.emissive.copy(e.emissive),t.emissiveMap=e.emissiveMap,t.emissiveIntensity=e.emissiveIntensity,t.normalMapType=e.normalMapType,t.normalMap=e.normalMap,t.normalScale.copy(e.normalScale),t.bumpMap=e.bumpMap,t.bumpScale=e.bumpScale,t.displacementMap=e.displacementMap,t.displacementScale=e.displacementScale,t.displacementBias=e.displacementBias,t.alphaMap=e.alphaMap,t.reflectivity=.5,t.refractionRatio=e.refractionRatio,t.wireframe=e.wireframe,t.wireframeLinewidth=e.wireframeLinewidth,t.wireframeLinecap=e.wireframeLinecap,t.wireframeLinejoin=e.wireframeLinejoin,t}}function u(e,t){return e.isMeshStandardMaterial?"medium"===t?c.fromMeshStandardMaterial(e):"low"===t?s.fromMeshStandardMaterial(e):e:e}function l(e){if(e.dash&&e.dash.reset(),e.image instanceof HTMLVideoElement){const t=e.image;t.pause(),t.src="",t.load()}e.hls&&(e.hls.stopLoad(),e.hls.detachMedia(),e.hls.destroy(),e.hls=null),e.dispose()}},376:function(e,t,n){"use strict";var r=n(259),a=n.n(r),i=n(12);const o=new URLSearchParams(location.search),s=Object(i.a)("debug"),c=o.get("log_filter")||s&&"naf-janus-adapter:*,naf-dialog-adapter:*,mediasoup*";c&&a.a.enable(c)},378:function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(345).source,t.src_Cc=n(346).source,t.src_Z=n(347).source,t.src_P=n(307).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|[><]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,3}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]+',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-(?!-)|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|[><]|\\(|"+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u}));var r=n(10),a=n(230);const i=Object.freeze(new Map([[r.g.MEDIA_VIDEO,r.f],[r.g.AVATAR_AUDIO_SOURCE,r.b],[r.g.AUDIO_TARGET,r.h]]));function o(e){const t=APP.sourceType.get(e),n=i.get(t),o=APP.sceneAudioDefaults.get(t),s=APP.audioOverrides.get(e),c=APP.audioDebugPanelOverrides.get(t),u=APP.zoneOverrides.get(e),l=APP.store.state.preferences.disableLeftRightPanning?{audioType:r.a.Stereo}:{},d=Object(a.a)()?{audioType:r.a.Stereo}:{},h=Object.assign({},n,o,s,c,u,l,d);return APP.clippingState.has(e)||APP.mutedState.has(e)?h.gain=0:APP.gainMultipliers.has(e)&&(h.gain=h.gain*APP.gainMultipliers.get(e)),APP.supplementaryAttenuation.has(e)&&(h.gain=h.gain*APP.supplementaryAttenuation.get(e)),h}function s(e){const t=i.get(e),n=APP.sceneAudioDefaults.get(e),r=APP.audioDebugPanelOverrides.get(e);return Object.assign({},t,n,r)}function c(e,t){const n=o(e);(void 0===t.panner&&n.audioType===r.a.PannerNode||void 0!==t.panner&&n.audioType===r.a.Stereo)&&e.emit("audio_type_changed"),function(e,t){e.panner&&(e.setDistanceModel(t.distanceModel),e.setRolloffFactor(t.rolloffFactor),e.setRefDistance(t.refDistance),e.setMaxDistance(t.maxDistance),e.panner.coneInnerAngle=t.coneInnerAngle,e.panner.coneOuterAngle=t.coneOuterAngle,e.panner.coneOuterGain=t.coneOuterGain),e.gain.gain.setTargetAtTime(t.gain,e.context.currentTime,.1)}(t,n)}function u(e,t){if(t.panner)return!1;const n=APP.sourceType.get(e),a=i.get(n),o=APP.sceneAudioDefaults.get(n),s=APP.audioDebugPanelOverrides.get(n),c=APP.audioOverrides.get(e),u=APP.zoneOverrides.get(e);return Object.assign({},a,o,s,c,u).audioType===r.a.PannerNode}},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=new Map,a=[];class i{tick(e){for(let t=0;t<a.length;t++){const n=a[t],{offset:i,instances:o}=r.get(n),{component:s}=o[0];i.addScaledVector(s.data.speed,e/1e3),i.x=i.x%1,i.y=i.y%1;const c=s.data.increment;n.offset.x=c.x?i.x-i.x%c.x:i.x,n.offset.y=c.y?i.y-i.y%c.y:i.y}}}AFRAME.registerComponent("uv-scroll",{schema:{speed:{type:"vec2",default:{x:0,y:0}},increment:{type:"vec2",default:{x:0,y:0}}},play(){const e=this.el.getObject3D("mesh")||this.el.getObject3D("skinnedmesh"),t=e&&e.material;if(t){const n={component:this,mesh:e};this.instance=n,this.map=t.map||t.emissiveMap,this.map&&!r.has(this.map)?(r.set(this.map,{offset:new THREE.Vector2,instances:[n]}),a.push(this.map)):this.map?(console.warn("Multiple uv-scroll instances added to objects sharing a texture, only the speed/increment from the first one will have any effect"),r.get(this.map).instances.push(n)):console.warn("Ignoring uv-scroll added to mesh with no scrollable texture.")}},pause(){if(this.map){const e=r.get(this.map).instances;e.splice(e.indexOf(this.instance),1),e.length||(r.delete(this.map),a.splice(a.indexOf(this.map),1))}}})},391:function(e,t){e.exports="if (hubs_HighlightInteractorOne || hubs_HighlightInteractorTwo || hubs_IsFrozen) {\n  float ratio = 0.0;\n  float size = hubs_SweepParams.t - hubs_SweepParams.s;\n\n  if (hubs_EnableSweepingEffect) {\n    float line = mod(hubs_Time / 500.0 * size, size * 3.0) + hubs_SweepParams.s - size / 3.0;\n\n    if (hubs_WorldPosition.y < line) {\n      // Highlight with a sweeping gradient.\n      ratio = max(0.0, 1.0 - (line - hubs_WorldPosition.y) / (size * 1.5));\n    }\n  }\n\n  // Highlight with a gradient falling off with distance.\n  float pulse = 1.0 / (size + 0.2) * 8.0 + 1.0 / (size + 0.3) * 3.0 * (sin(hubs_Time / 1000.0) + 1.0);\n\n  if (hubs_HighlightInteractorOne) {\n    float dist1 = distance(hubs_WorldPosition, hubs_InteractorOnePos);\n    ratio += -min(1.0, pow(dist1 * pulse, 3.0)) + 1.0;\n  } \n\n  if (hubs_HighlightInteractorTwo) {\n    float dist2 = distance(hubs_WorldPosition, hubs_InteractorTwoPos);\n    ratio += -min(1.0, pow(dist2 * pulse, 3.0)) + 1.0;\n  }\n\n  ratio = min(1.0, ratio);\n\n  // Gamma corrected highlight color\n  vec3 highlightColor = vec3(0.184, 0.499, 0.933);\n\n  gl_FragColor.rgb = (gl_FragColor.rgb * (1.0 - ratio)) + (highlightColor * ratio);\n}\n"},392:function(e,t,n){e.exports=n.p+"assets/hud/action_button.9-438d957372d6db1f225653a7e1083ffe.png"},393:function(e,t,n){e.exports=n.p+"assets/hud/button.9-1983f9e07c50d99b7f0db40e9bd0c3a1.png"},394:function(e,t,n){e.exports=n.p+"assets/hud/nametag.9-7b9c7f3806be28f5ba1468cdae710338.png"},395:function(e,t,n){e.exports=n.p+"assets/hud/nametag-border.9-7b34c214fad1f34baa28d0b0be5a027a.png"},396:function(e,t,n){e.exports=n.p+"assets/models/LoadingObject_Atom-63177fe6a0cd36cf826c1037e1beab66.glb"},397:function(e,t,n){e.exports=n.p+"assets/sfx/teleport-loop-84e2caa4f62e5c6d6ce339b0c715c06d.mp3"},398:function(e,t,n){e.exports=n.p+"assets/sfx/tap_mellow-673398d6e97818ec4b675708d460bd0f.mp3"},399:function(e,t,n){e.exports=n.p+"assets/sfx/PenSpawn-aac1f534773040f0fafa41e9db76017b.mp3"},4:function(e,t,n){"use strict";n(64),n(65),n(66),n(67),n(68);var r=n(16),a={},i=!1;["RETICULUM_SERVER","THUMBNAIL_SERVER","CORS_PROXY_SERVER","NON_CORS_PROXY_DOMAINS","SENTRY_DSN","GA_TRACKING_ID","SHORTLINK_DOMAIN","BASE_ASSETS_PATH","UPLOADS_HOST"].forEach((function(e){var t=document.querySelector("meta[name='env:".concat(e.toLowerCase(),"']"));a[e]=t?t.getAttribute("content"):{NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}[e];"BASE_ASSETS_PATH"===e&&a.BASE_ASSETS_PATH&&(a.BASE_ASSETS_PATH.startsWith("http")||(a.BASE_ASSETS_PATH=new URL(a.BASE_ASSETS_PATH,window.location).toString()),n.p=a.BASE_ASSETS_PATH)}));var o=!!document.querySelector("meta[name='env:thumbnail_server']");if(a.IS_LOCAL_OR_CUSTOM_CLIENT=!o,a.AVAILABLE_INTEGRATIONS=window.AVAILABLE_INTEGRATIONS||{},{NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}.APP_CONFIG&&(window.APP_CONFIG={NODE_ENV:"production",SHORTLINK_DOMAIN:"nftbrandshub.xyz",RETICULUM_SERVER:"",THUMBNAIL_SERVER:"metaverseplus2.xyz",CORS_PROXY_SERVER:"cors-proxy.metaverseplus2.xyz",NON_CORS_PROXY_DOMAINS:"metaverseplus2.xyz,assets.metaverseplus2.xyz,mvp1-73920e77f1e2-hubs-worker.com",BUILD_VERSION:"1.0.0.20220616041622",SENTRY_DSN:"",GA_TRACKING_ID:"",POSTGREST_SERVER:"",UPLOADS_HOST:"",BASE_ASSETS_PATH:"https://assets.metaverseplus2.xyz/hubs/"}.APP_CONFIG),window.APP_CONFIG){a.APP_CONFIG=window.APP_CONFIG;var s=a.APP_CONFIG.theme;if(s){var c=[];for(var u in s)s.hasOwnProperty(u)&&c.push("--".concat(u,": ").concat(s[u],";"));var l=document.createElement("style");l.innerHTML=":root{".concat(c.join("\n"),"}"),document.head.insertBefore(l,document.head.firstChild)}a.APP_CONFIG.features||(a.APP_CONFIG.features={})}else a.APP_CONFIG={features:{}};a.feature=function(e){var t=a.APP_CONFIG&&a.APP_CONFIG.features&&a.APP_CONFIG.features[e];return("boolean"==typeof t||"enable_spoke"===e)&&"enable_spoke"===e&&i||t};var d={};a.image=function(e,t){var n=a.APP_CONFIG&&a.APP_CONFIG.images&&a.APP_CONFIG.images[e]||d[e];return n&&t?"url(".concat(n,")"):n},a.link=function(e,t){return a.APP_CONFIG&&a.APP_CONFIG.links&&a.APP_CONFIG.links[e]||t},a.setIsAdmin=function(e){i=e},a.isAdmin=function(){return i},a.integration=function(e){var t=a.AVAILABLE_INTEGRATIONS;return!t.hasOwnProperty(e)||t[e]},a.translation=function(e){var t=Object(r.a)(),n=a.APP_CONFIG&&a.APP_CONFIG.translations||{};return n[t]&&n[t][e]||n.en&&n.en[e]||Object(r.b)(e)||""},t.a=a},400:function(e,t,n){e.exports=n.p+"assets/sfx/PenDraw1-ddbdc17a6beefecbca2685c8c9d0d2d5.mp3"},401:function(e,t,n){e.exports=n.p+"assets/sfx/PicSnapHey-0228ddd197e5a6d88f7bcd2ceb340f8e.mp3"},402:function(e,t,n){e.exports=n.p+"assets/sfx/welcome-2a510e5f966867a4c9ca3cff716a1797.mp3"},403:function(e,t,n){e.exports=n.p+"assets/sfx/quack-1f18502834f8f1db43990b769c2ab193.mp3"},404:function(e,t,n){e.exports=n.p+"assets/sfx/specialquack-6d1a192a6092e8dfed5d3de063755ee2.mp3"},405:function(e,t,n){e.exports=n.p+"assets/sfx/pop-5784f3bcfaf98637147737448d6df8df.mp3"},406:function(e,t,n){e.exports=n.p+"assets/sfx/tack-0d55b064794faaa1733fcf6bc89cad0c.mp3"},407:function(e,t,n){e.exports=n.p+"assets/sfx/A_bendUp-de32e556413bb2a527fb514984738c70.mp3"},408:function(e,t,n){e.exports=n.p+"assets/sfx/suspense-f27c64840e5ede36ec694c22a030615c.mp3"},409:function(e,t,n){e.exports=n.p+"assets/sfx/emoji-27673179a22e6f42e8187ccba07e4dce.mp3"},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnicodeLocaleId=t.parseUnicodeLanguageId=t.isUnicodeVariantSubtag=t.isUnicodeScriptSubtag=t.isUnicodeRegionSubtag=t.isStructurallyValidLanguageTag=t.isUnicodeLanguageSubtag=t.SEPARATOR=void 0;var r=n(29),a=/^[a-z0-9]{1,8}$/i,i=/^[a-z0-9]{2,8}$/i,o=/^[a-z0-9]{3,8}$/i,s=/^[a-z0-9][a-z]$/i,c=/^[a-z0-9]{3,8}$/i,u=/^[a-z]{4}$/i,l=/^[0-9a-svwyz]$/i,d=/^([a-z]{2}|[0-9]{3})$/i,h=/^([a-z0-9]{5,8}|[0-9][a-z0-9]{3})$/i,f=/^([a-z]{2,3}|[a-z]{5,8})$/i,p=/^[a-z][0-9]$/i;function m(e){return f.test(e)}function g(e){return d.test(e)}function v(e){return u.test(e)}function b(e){return h.test(e)}function y(e){"string"==typeof e&&(e=e.split(t.SEPARATOR));var n,r,a=e.shift();if(!a)throw new RangeError("Missing unicode_language_subtag");if("root"===a)return{lang:"root",variants:[]};if(!m(a))throw new RangeError("Malformed unicode_language_subtag");v(e[0])&&(n=e.shift()),g(e[0])&&(r=e.shift());for(var i={};e.length&&b(e[0]);){var o=e.shift();if(o in i)throw new RangeError('Duplicate variant "'+o+'"');i[o]=1}return{lang:a,script:n,region:r,variants:Object.keys(i)}}function w(e){for(var t,n=[];e.length&&(t=E(e));)n.push(t);if(n.length)return{type:"u",keywords:n,attributes:[]};for(var r=[];e.length&&o.test(e[0]);)r.push(e.shift());for(;e.length&&(t=E(e));)n.push(t);if(n.length||r.length)return{type:"u",attributes:r,keywords:n};throw new RangeError("Malformed unicode_extension")}function E(e){var n;if(s.test(e[0])){n=e.shift();for(var r=[];e.length&&c.test(e[0]);)r.push(e.shift());var a="";return r.length&&(a=r.join(t.SEPARATOR)),[n,a]}}function x(e){var n;try{n=y(e)}catch(e){}for(var r=[];e.length&&p.test(e[0]);){for(var a=e.shift(),i=[];e.length&&o.test(e[0]);)i.push(e.shift());if(!i.length)throw new RangeError('Missing tvalue for tkey "'+a+'"');r.push([a,i.join(t.SEPARATOR)])}if(r.length)return{type:"t",fields:r,lang:n};throw new RangeError("Malformed transformed_extension")}function _(e){for(var n=[];e.length&&a.test(e[0]);)n.push(e.shift());if(n.length)return{type:"x",value:n.join(t.SEPARATOR)};throw new RangeError("Malformed private_use_extension")}function A(e){for(var n=[];e.length&&i.test(e[0]);)n.push(e.shift());return n.length?n.join(t.SEPARATOR):""}t.SEPARATOR="-",t.isUnicodeLanguageSubtag=m,t.isStructurallyValidLanguageTag=function(e){try{y(e.split(t.SEPARATOR))}catch(e){return!1}return!0},t.isUnicodeRegionSubtag=g,t.isUnicodeScriptSubtag=v,t.isUnicodeVariantSubtag=b,t.parseUnicodeLanguageId=y,t.parseUnicodeLocaleId=function(e){var n=e.split(t.SEPARATOR),a=y(n);return r.__assign({lang:a},function(e){if(!e.length)return{extensions:[]};var t,n,r,a=[],i={};do{var o=e.shift();switch(o){case"u":case"U":if(t)throw new RangeError("There can only be 1 -u- extension");t=w(e),a.push(t);break;case"t":case"T":if(n)throw new RangeError("There can only be 1 -t- extension");n=x(e),a.push(n);break;case"x":case"X":if(r)throw new RangeError("There can only be 1 -x- extension");r=_(e),a.push(r);break;default:if(!l.test(o))throw new RangeError("Malformed extension type");if(o in i)throw new RangeError("There can only be 1 -"+o+"- extension");var s={type:o,value:A(e)};i[s.type]=s,a.push(s)}}while(e.length);return{extensions:a}}(n))}},410:function(e,t,n){e.exports=n.p+"assets/sfx/tone-3fa0defb5172b2533fedcc1929605799.mp3"},42:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitUnicodeLocaleId=t.emitUnicodeLanguageId=void 0;var r=n(29);function a(e){return e?r.__spreadArrays([e.lang,e.script,e.region],e.variants||[]).filter(Boolean).join("-"):""}t.emitUnicodeLanguageId=a,t.emitUnicodeLocaleId=function(e){for(var t=e.lang,n=e.extensions,i=[a(t)],o=0,s=n;o<s.length;o++){var c=s[o];switch(i.push(c.type),c.type){case"u":i.push.apply(i,r.__spreadArrays(c.attributes,c.keywords.reduce((function(e,t){return e.concat(t)}),[])));break;case"t":i.push.apply(i,r.__spreadArrays([a(c.lang)],c.fields.reduce((function(e,t){return e.concat(t)}),[])));break;default:i.push(c.value)}}return i.filter(Boolean).join("-")}},422:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(322);function i(e,t,n){const[i,o]=Object(r.useState)({width:window.screen.width,height:window.screen.height});Object(r.useEffect)(()=>{function e(){const{maxResolutionWidth:e,maxResolutionHeight:n}=t.state.preferences;o({width:void 0===e?window.screen.width:e,height:void 0===n?window.screen.height:n})}return e(),t.addEventListener("statechanged",e),()=>{t.removeEventListener("statechanged",e)}},[t]),Object(r.useEffect)(()=>{const t=new a.a(e=>{const t=n.renderer.xr.isPresenting,r=n.renderer.xr.enabled&&t;if(!n.camera||!n.canvas||n.is("vr-mode")&&(n.isMobile||r))return;const a=e[0].contentRect,o=function(e,t,n){const r=window.devicePixelRatio;if(!t||n||-1===t.width&&-1===t.height)return e;if(e.width*r<t.width&&e.height*r<t.height)return e;const a=e.width/e.height;return e.width*r>t.width&&-1!==t.width?{width:Math.round(t.width/r),height:Math.round(t.width/a/r)}:e.height*r>t.height&&-1!==t.height?{height:Math.round(t.height/r),width:Math.round(t.height*a/r)}:e}(a,i,r),s=n.canvas;s.style.width=a.width+"px",s.style.height=a.height+"px",n.renderer.setSize(o.width,o.height,!1),n.camera.aspect=o.width/o.height,n.camera.updateProjectionMatrix(),n.renderer.render(n.object3D,n.camera),n.emit("rendererresize",null,!1)});return t.observe(e.current),()=>{t.disconnect()}},[e,n,i])}},423:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(140),a=n(11);let i,o;class s{constructor(){this.entities=[]}register(e){this.entities.push(e)}unregister(e){this.entities.splice(this.entities.indexOf(e),1)}tick(){i=i||document.getElementById("viewing-camera"),o=o||document.getElementById("ui-root");const e=i&&i.sceneEl.is("entered"),t=!e&&o&&o.firstChild&&o.firstChild.classList.contains("isGhost");for(let n=0;n<this.entities.length;n++){const o=this.entities[n],s=AFRAME.scenes[0].systems["hubs-systems"];!o||s&&(s.cameraSystem.mode===r.b||t||e)||(o.components["scene-preview-camera"].tick2(),s&&i&&(o.object3D.updateMatrices(),Object(a.n)(i.object3DMap.camera,o.object3D.matrixWorld)))}}}},424:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(37);const a=new THREE.Box3,i=new THREE.Matrix4,o=new THREE.Box3,s=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];class c{constructor(e){this.sceneEl=e,this.shadowCameraBoundingBox=new THREE.Box3,this.previousShadowsEnabled=this.realtimeShadowsEnabled=null,e.renderer.shadowMap.enabled=!1,e.renderer.shadowMap.type=THREE.PCFSoftShadowMap,e.renderer.shadowMap.autoUpdate=!0,window.APP.store.addEventListener("statechanged",this.updatePrefs.bind(this)),this.updatePrefs()}updatePrefs(){this.realtimeShadowsEnabled=!0===window.APP.store.state.preferences.enableDynamicShadows&&"low"!==window.APP.store.materialQualitySetting,this.previousShadowsEnabled!==this.realtimeShadowsEnabled&&(this.sceneEl.renderer.shadowMap.enabled=this.realtimeShadowsEnabled,this.sceneEl.hasLoaded&&this.sceneEl.object3D.traverse(e=>{e.receiveShadow&&e.material&&Object(r.e)(e,e=>(e.needsUpdate=!0,e))})),this.previousShadowsEnabled=this.realtimeShadowsEnabled}tick(){this.realtimeShadowsEnabled&&(!function(e,t=new THREE.Box3){t.makeEmpty(),e.updateMatrixWorld(),e.traverse(e=>{const n=e.geometry;n&&e.castShadow&&(n.boundingBox||n.computeBoundingBox(),o.copy(n.boundingBox),o.applyMatrix4(e.matrixWorld),t.union(o))}),o.makeEmpty()}(this.sceneEl.object3D,this.shadowCameraBoundingBox),this.sceneEl.object3D.traverse(e=>{e.isDirectionalLight&&function(e,t){a.makeEmpty();const n=t.min,r=t.max;s[0].set(n.x,n.y,n.z),s[1].set(n.x,n.y,r.z),s[2].set(n.x,r.y,n.z),s[3].set(n.x,r.y,r.z),s[4].set(r.x,n.y,n.z),s[5].set(r.x,n.y,r.z),s[6].set(r.x,r.y,n.z),s[7].set(r.x,r.y,r.z),e.updateMatrices(),e.target.updateMatrices(),e.shadow.updateMatrices(e),i.copy(e.shadow.camera.matrixWorld).invert();for(let e=0;e<s.length;e++)s[e].applyMatrix4(i),a.expandByPoint(s[e]);const o=e.shadow.camera;o.left=a.min.x-1,o.right=a.max.x+1,o.bottom=a.min.y-1,o.top=a.max.y+1,o.near=a.min.z+-500,o.far=a.max.z+500,o.updateProjectionMatrix()}(e,this.shadowCameraBoundingBox)}))}}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(477),a=n(12),i=n(478),o=n(426),s=n.n(o);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l={None:"NoToneMapping",Linear:"LinearToneMapping",Reinhard:"ReinhardToneMapping",Cineon:"CineonToneMapping",ACESFilmic:"ACESFilmicToneMapping",CustomToneMapping:"CustomToneMapping",LUTToneMapping:"LUTToneMapping"},d={LinearEncoding:"LinearEncoding",sRGBEncoding:"sRGBEncoding",GammaEncoding:"GammaEncoding",GBEEncoding:"GBEEncoding",LogLuvEncoding:"LogLuvEncoding",GBM7Encoding:"GBM7Encoding",RGBM16Encoding:"RGBM16Encoding",GBDEncoding:"GBDEncoding",BasicDepthPacking:"BasicDepthPacking",GBADepthPacking:"GBADepthPackig"},h={toneMapping:l.Linear,outputEncoding:d.sRGBEncoding,toneMappingExposure:1,physicallyCorrectLights:!0,envMapTexture:null,backgroundTexture:null,backgroundColor:new THREE.Color("#000000"),fogType:null,fogColor:new THREE.Color("#ffffff"),fogDensity:25e-5,fogFar:1e3,fogNear:1};let f;class p{constructor(e){this.scene=e.object3D,this.renderer=e.renderer,this.pmremGenerator=new THREE.PMREMGenerator(this.renderer),this.applyEnvSettings(h),Object(a.a)("envSettingsDebug")&&this.setupDebugView()}setupDebugView(){const e=c({},h),t=()=>{this.applyEnvSettings(e)},n=new r.a;n.add(e,"toneMapping",Object.values(l)).onChange(t).listen(),n.add(e,"toneMappingExposure",0,4,.01).onChange(t).listen(),n.add(e,"outputEncoding",Object.values(d)).onChange(t).listen(),n.add(e,"physicallyCorrectLights",!0).onChange(t).listen(),n.open(),this.debugGui=n,this.debugSettings=e,this.debugMode=!0,window.$E=this}updateEnvironment(e){const t=e.querySelector("[environment-settings]"),n=e.querySelector("[skybox]"),r=e.querySelector("[nav-mesh]"),a=c({},h,{skybox:null==n?void 0:n.components.skybox});t&&Object.assign(a,t.components["environment-settings"].data);const i=null==r?void 0:r.object3D.getObjectByProperty("isMesh",!0);i&&AFRAME.scenes[0].systems.nav.loadMesh(i,r.components["nav-mesh"].data.zone),e.object3D.traverse(e=>{e.isMesh&&(e.reflectionProbeMode="static")}),this.applyEnvSettings(a)}applyEnvSettings(e){var t;this.debugSettings&&Object.assign(this.debugSettings,e);let n=!1;this.debugMode&&console.log("Applying environment settings",e),this.renderer.physicallyCorrectLights!==e.physicallyCorrectLights&&(this.renderer.physicallyCorrectLights=e.physicallyCorrectLights,n=!0);const r=THREE[e.toneMapping];this.renderer.toneMapping!==r&&(this.renderer.toneMapping=r,n=!0,r===THREE.LUTToneMapping?(f||(f=new Promise((function(e,t){(new i.a).load(s.a,({texture3D:t})=>e(t),null,t)}))),f.then(e=>{this.renderer.tonemappingLUT=e}).catch((function(e){console.error("Error loading Blender LUT",e),f=null}))):this.renderer.tonemappingLUT=null),this.renderer.toneMappingExposure=e.toneMappingExposure;const a=THREE[e.outputEncoding];this.renderer.outputEncoding!==a&&(this.renderer.outputEncoding=a,n=!0),this.scene.remove(window.lp),e.backgroundTexture?(e.backgroundTexture.mapping=THREE.EquirectangularReflectionMapping,this.scene.background=e.backgroundTexture):this.scene.background=e.backgroundColor,e.envMapTexture?this.prevEnvMapTextureUUID!==e.envMapTexture.uuid&&(this.prevEnvMapTextureUUID=e.envMapTexture.uuid,e.envMapTexture.flipY=!0,e.envMapTexture.mapping=THREE.EquirectangularReflectionMapping,this.scene.environment=e.envMapTexture):e.skybox?this.prevEnvMapTextureUUID!==e.skybox.uuid&&(this.prevEnvMapTextureUUID=e.skybox.uuid,this.scene.environment=e.skybox.sky.generateEnvironmentMap(this.renderer)):(this.scene.environment=null,this.prevEnvMapTextureUUID=null),(null===(t=this.scene.fog)||void 0===t?void 0:t.name)!==e.fogType?("linear"===e.fogType?this.scene.fog=new THREE.Fog(e.fogColor,e.fogNear,e.fogFar):"exponential"===e.fogType?this.scene.fog=new THREE.FogExp2(e.fogColor,e.fogDensity):this.scene.fog=null,n=!0):e.fogType&&(this.scene.fog.color.copy(e.fogColor),"linear"===e.fogType?(this.scene.fog.near=e.fogNear,this.scene.fog.far=e.fogFar):"exponential"===e.fogType&&(this.scene.fog.density=e.fogDensity)),n&&(this.debugMode&&console.log("materials need updating"),this.scene.traverse(e=>{e.material&&(e.material.needsUpdate=!0)}))}}AFRAME.registerComponent("nav-mesh",{schema:{zone:{default:"character"}}}),AFRAME.registerComponent("environment-settings",{schema:{toneMapping:{default:h.toneMapping,oneOf:Object.values(l)},toneMappingExposure:{default:h.toneMappingExposure},backgroundColor:{type:"color",default:h.background},fogType:{type:"string",default:h.fogType},fogColor:{type:"color",default:h.fogColor},fogDensity:{type:"number",default:h.fogDensity},fogNear:{type:"number",default:h.forNear},fogFar:{type:"number",default:h.fogFar}}}),AFRAME.registerComponent("reflection-probe",{schema:{size:{default:1},envMapTexture:{type:"map"}},init:function(){this.el.object3D.updateMatrices();const e=(new THREE.Box3).setFromCenterAndSize(new THREE.Vector3,(new THREE.Vector3).setScalar(2*this.data.size)).applyMatrix4(this.el.object3D.matrixWorld);if(this.el.setObject3D("probe",new THREE.ReflectionProbe(e,this.data.envMapTexture)),this.el.sceneEl.systems["hubs-systems"].environmentSystem.debugMode){const e=(new THREE.Box3).setFromCenterAndSize(new THREE.Vector3,(new THREE.Vector3).setScalar(2*this.data.size));this.el.setObject3D("helper",new THREE.Box3Helper(e,new THREE.Color(Math.random(),Math.random(),Math.random())))}}})},426:function(e,t,n){e.exports=n.p+"assets/blender-lut-d60eebdc2b11fbaa6a041253ed1402b0.cube"},430:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r={};n.r(r),n.d(r,"linear",(function(){return i})),n.d(r,"quadraticIn",(function(){return o})),n.d(r,"quadraticOut",(function(){return s})),n.d(r,"quadraticInOut",(function(){return c})),n.d(r,"cubicIn",(function(){return u})),n.d(r,"cubicOut",(function(){return l})),n.d(r,"cubicInOut",(function(){return d})),n.d(r,"quarticIn",(function(){return h})),n.d(r,"quarticOut",(function(){return f})),n.d(r,"quarticInOut",(function(){return p})),n.d(r,"quinticIn",(function(){return m})),n.d(r,"quinticOut",(function(){return g})),n.d(r,"quinticInOut",(function(){return v})),n.d(r,"sinusoidalIn",(function(){return b})),n.d(r,"sinusoidalOut",(function(){return y})),n.d(r,"sinusoidalInOut",(function(){return w})),n.d(r,"exponentialIn",(function(){return E})),n.d(r,"exponentialOut",(function(){return x})),n.d(r,"exponentialInOut",(function(){return _})),n.d(r,"circularIn",(function(){return A})),n.d(r,"circularOut",(function(){return L})),n.d(r,"circularInOut",(function(){return S})),n.d(r,"elasticIn",(function(){return k})),n.d(r,"elasticOut",(function(){return M})),n.d(r,"elasticInOut",(function(){return T})),n.d(r,"backIn",(function(){return R})),n.d(r,"backOut",(function(){return C})),n.d(r,"backInOut",(function(){return P})),n.d(r,"bounceIn",(function(){return O})),n.d(r,"bounceOut",(function(){return D})),n.d(r,"bounceInOut",(function(){return I}));var a=n(3);function i(e){return e}function o(e){return e*e}function s(e){return e*(2-e)}function c(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}function u(e){return e*e*e}function l(e){return--e*e*e+1}function d(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}function h(e){return e*e*e*e}function f(e){return 1- --e*e*e*e}function p(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}function m(e){return e*e*e*e*e}function g(e){return--e*e*e*e*e+1}function v(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}function b(e){return 1-Math.cos(e*Math.PI/2)}function y(e){return Math.sin(e*Math.PI/2)}function w(e){return.5*(1-Math.cos(Math.PI*e))}function E(e){return 0===e?0:Math.pow(1024,e-1)}function x(e){return 1===e?1:1-Math.pow(2,-10*e)}function _(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}function A(e){return 1-Math.sqrt(1-e*e)}function L(e){return Math.sqrt(1- --e*e)}function S(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}function k(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)}function M(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1}function T(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}function R(e){const t=1.70158;return e*e*((t+1)*e-t)}function C(e){const t=1.70158;return--e*e*((t+1)*e+t)+1}function P(e){const t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}function O(e){return 1-D(1-e)}function D(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function I(e){return e<.5?.5*O(2*e):.5*D(2*e-1)+.5}function Z(e,t,n){return(t-e)*n+e}function j(e){const t=e.getAttribute("uv");for(let e=0;e<t.count;e++)t.setY(e,1-t.getY(e));return e}class F extends a.Mesh{constructor(e){const t=new a.PlaneBufferGeometry(1,1,1,1);e&&!e.flipY&&j(t);const n=new a.InstancedBufferGeometry;n.index=t.index,n.attributes=t.attributes;super(n,new a.ShaderMaterial({uniforms:a.UniformsUtils.merge([{map:{value:e},emitterMatrix:{value:new a.Matrix4}},a.UniformsLib.fog]),vertexShader:"\n  #include <common>\n\n  attribute vec4 particlePosition;\n  attribute vec4 particleColor;\n  attribute float particleAngle;\n\n  varying vec4 vColor;\n  varying vec2 vUV;\n\n  uniform mat4 emitterMatrix;\n\n  #include <fog_pars_vertex>\n\n  void main() {\n    vUV = uv;\n    vColor = particleColor;\n\n    float particleScale = particlePosition.w;\n    vec4 mvPosition = viewMatrix * emitterMatrix * vec4(particlePosition.xyz, 1.0);\n    \n    vec3 rotatedPosition = position;\n    rotatedPosition.x = cos( particleAngle ) * position.x - sin( particleAngle ) * position.y;\n    rotatedPosition.y = sin( particleAngle ) * position.x + cos( particleAngle ) * position.y;\n\n    mvPosition.xyz += rotatedPosition * particleScale;\n\n    gl_Position = projectionMatrix * mvPosition;\n\n    #include <fog_vertex>\n  }\n",fragmentShader:"\n  #include <common>\n  #include <fog_pars_fragment>\n\n  uniform sampler2D map;\n\n  varying vec2 vUV;\n  varying vec4 vColor;\n\n  void main() {\n    gl_FragColor = texture2D(map,  vUV) * vColor;\n    #include <fog_fragment>\n  }\n",transparent:!0,depthWrite:!1,fog:!0,blendEquation:a.AddEquation})),this.frustumCulled=!1,this.initialPositions=[],this.startSize=.25,this.endSize=.25,this.sizeRandomness=0,this.startVelocity=new a.Vector3(0,0,.5),this.endVelocity=new a.Vector3(0,0,.5),this.angularVelocity=0,this.particleCount=100,this.lifetime=5,this.lifetimes=[],this.lifetimeRandomness=5,this.particleSizeRandomness=[],this.ageRandomness=10,this.initialAges=[],this.ages=[],this.colors=[],this.endColor=new a.Color,this.middleColor=new a.Color,this.startColor=new a.Color,this.startOpacity=1,this.middleOpacity=1,this.endOpacity=1,this.colorCurve="linear",this.velocityCurve="linear",this.sizeCurve="linear",this.worldScale=new a.Vector3,this.inverseWorldScale=new a.Vector3,this.updateParticles()}updateParticles(){const e=this.material.uniforms.map.value,t=new a.PlaneBufferGeometry(1,1,1,1);e&&!e.flipY&&j(t);const n=new a.InstancedBufferGeometry;n.index=t.index,n.attributes=t.attributes;const r=[],i=[],o=[],s=[],c=[],u=[],l=[],d=[];this.getWorldScale(this.worldScale);for(let e=0;e<this.particleCount;e++)c[e]=Math.random()*this.ageRandomness-this.ageRandomness,o[e]=this.lifetime+2*Math.random()*this.lifetimeRandomness,s[e]=c[e],u[3*e]=2*Math.random()-1,u[3*e+1]=2*Math.random()-1,u[3*e+2]=0,l[e]=Math.random()*this.sizeRandomness,r.push(u[3*e]*this.worldScale.x),r.push(u[3*e+1]*this.worldScale.y),r.push(u[3*e+2]),r.push(this.startSize+l[e]),d.push(0),i.push(this.startColor.r,this.startColor.g,this.startColor.b,0);n.setAttribute("particlePosition",new a.InstancedBufferAttribute(new Float32Array(r),4).setUsage(a.DynamicDrawUsage)),n.setAttribute("particleColor",new a.InstancedBufferAttribute(new Float32Array(i),4).setUsage(a.DynamicDrawUsage)),n.setAttribute("particleAngle",new a.InstancedBufferAttribute(new Float32Array(d),1).setUsage(a.DynamicDrawUsage)),this.geometry=n,this.initialPositions=u,this.particleSizeRandomness=l,this.ages=s,this.initialAges=c,this.lifetimes=o,this.colors=i}update(e){const t=this.geometry,n=t.attributes.particlePosition.array,i=t.attributes.particleColor.array,o=t.attributes.particleAngle.array;this.getWorldScale(this.worldScale),this.inverseWorldScale.set(1/this.worldScale.x,1/this.worldScale.y,1/this.worldScale.z);const s=this.material.uniforms.emitterMatrix.value;s.copy(this.matrixWorld),s.scale(this.inverseWorldScale);for(let t=0;t<this.particleCount;t++){const s=this.ages[t],d=this.ages[t]+=e;if(d<0)continue;if(d>0&&s<=0){i[4*t+3]=this.startOpacity,n[4*t]=this.initialPositions[3*t]*this.worldScale.x,n[4*t+1]=this.initialPositions[3*t+1]*this.worldScale.y,n[4*t+2]=0,n[4*t+3]=this.startSize+this.particleSizeRandomness[t],i[4*t]=this.startColor.r,i[4*t+1]=this.startColor.g,i[4*t+2]=this.startColor.b;continue}if(d>this.lifetimes[t]){this.ages[t]=this.initialAges[t],i[4*t+3]=0;continue}const h=(c=0,u=1,(l=this.ages[t]/this.lifetimes[t])<c&&(l=c),l>u&&(l=u),l),f=r;f[this.velocityCurve]||(console.warn(`Unknown velocity curve type ${this.velocityCurve} in particle emitter. Falling back to linear.`),this.velocityCurve="linear"),f[this.sizeCurve]||(console.warn(`Unknown size curve type ${this.sizeCurve} in particle emitter. Falling back to linear.`),this.sizeCurve="linear"),f[this.colorCurve]||(console.warn(`Unknown color curve type ${this.colorCurve} in particle emitter. Falling back to linear.`),this.colorCurve="linear");const p=f[this.velocityCurve](h),m=f[this.sizeCurve](h),g=f[this.colorCurve](h);if(n[4*t]+=Z(this.startVelocity.x,this.endVelocity.x,p)*e,n[4*t+1]+=Z(this.startVelocity.y,this.endVelocity.y,p)*e,n[4*t+2]+=Z(this.startVelocity.z,this.endVelocity.z,p)*e,n[4*t+3]=Z(this.startSize+this.particleSizeRandomness[t],this.endSize+this.particleSizeRandomness[t],m),o[t]+=this.angularVelocity*a.Math.DEG2RAD*e,g<=.5){const e=g/.5;i[4*t]=Z(this.startColor.r,this.middleColor.r,e),i[4*t+1]=Z(this.startColor.g,this.middleColor.g,e),i[4*t+2]=Z(this.startColor.b,this.middleColor.b,e),i[4*t+3]=Z(this.startOpacity,this.middleOpacity,e)}else if(g>.5){const e=(g-.5)/.5;i[4*t]=Z(this.middleColor.r,this.endColor.r,e),i[4*t+1]=Z(this.middleColor.g,this.endColor.g,e),i[4*t+2]=Z(this.middleColor.b,this.endColor.b,e),i[4*t+3]=Z(this.middleOpacity,this.endOpacity,e)}}var c,u,l;t.attributes.particlePosition.needsUpdate=!0,t.attributes.particleColor.needsUpdate=!0,t.attributes.particleAngle.needsUpdate=!0}copy(e,t=!0){super.copy(e,t);const n=this.material,r=e.material;return n.uniforms.map.value=r.uniforms.map.value,this.startColor.copy(e.startColor),this.middleColor.copy(e.middleColor),this.endColor.copy(e.endColor),this.startOpacity=e.startOpacity,this.middleOpacity=e.middleOpacity,this.endOpacity=e.endOpacity,this.colorCurve=e.colorCurve,this.sizeCurve=e.sizeCurve,this.startSize=e.startSize,this.endSize=e.endSize,this.sizeRandomness=e.sizeRandomness,this.ageRandomness=e.ageRandomness,this.lifetime=e.lifetime,this.lifetimeRandomness=e.lifetimeRandomness,this.particleCount=e.particleCount,this.startVelocity.copy(e.startVelocity),this.endVelocity.copy(e.endVelocity),this.velocityCurve=e.velocityCurve,this.angularVelocity=e.angularVelocity,this}}},522:function(e,t,n){var r=n(212).default,a=AFRAME.components,i=AFRAME.registerComponent,o=AFRAME.utils;delete AFRAME.components.animation;var s=new THREE.Color,c=new THREE.Color,u={};function l(e,t){return u[t=t||"."]||(u[t]={}),-1!==e.indexOf(t)?u[t][e]=e.split(t):u[t][e]=e,u[t][e]}const d=function(e,t,n){var r;return n=n||".",-1!==t.indexOf(n)?(r=l(t,n)).constructor===String?e.getAttribute(r):e.getAttribute(r[0])[r[1]]:e.getAttribute(t)},h=function(e,t,n,r){var a;r=r||".",-1===t.indexOf(r)?e.setAttribute(t,n):(a=l(t,r)).constructor===String?e.setAttribute(a,n):e.setAttribute(a[0],a[1],n)};var f={};function p(e){e.x=THREE.Math.degToRad(e.x),e.y=THREE.Math.degToRad(e.y),e.z=THREE.Math.degToRad(e.z)}function m(e,t,n){var r;for(r=0;r<t.length;r++)e.addEventListener(t[r],n)}function g(e,t,n){var r;for(r=0;r<t.length;r++)e.removeEventListener(t[r],n)}function v(e,t){var n,r,a;for(r=y(t),a=e,n=0;n<r.length;n++)a=a[r[n]];return a}function b(e,t,n,r){var a,i,o,s;for(t.startsWith("object3D.rotation")&&(n=THREE.Math.degToRad(n)),i=y(t),s=e,a=0;a<i.length-1;a++)s=s[i[a]];o=i[i.length-1],"color"!==r?s[o]=n:"r"in s[o]?(s[o].r=n.r,s[o].g=n.g,s[o].b=n.b):(s[o].x=n.r,s[o].y=n.g,s[o].z=n.b)}function y(e){return e in f||(f[e]=e.split(".")),f[e]}function w(e){return e.isRawProperty||e.property.startsWith("components")||e.property.startsWith("object3D")}e.exports.Component=i("animation",{schema:{autoplay:{default:!0},delay:{default:0},dir:{default:""},dur:{default:1e3},easing:{default:"easeInQuad"},elasticity:{default:400},enabled:{default:!0},from:{default:""},loop:{default:0,parse:function(e){return!0===e||"true"===e||!1!==e&&"false"!==e&&parseInt(e,10)}},property:{default:""},startEvents:{type:"array"},pauseEvents:{type:"array"},resumeEvents:{type:"array"},round:{default:!1},to:{default:""},type:{default:""},isRawProperty:{default:!1}},multiple:!0,init:function(){var e=this;this.eventDetail={name:this.attrName},this.time=0,this.animation=null,this.animationIsPlaying=!1,this.onStartEvent=this.onStartEvent.bind(this),this.beginAnimation=this.beginAnimation.bind(this),this.pauseAnimation=this.pauseAnimation.bind(this),this.resumeAnimation=this.resumeAnimation.bind(this),this.fromColor={},this.toColor={},this.targets={},this.targetsArray=[],this.updateConfigForDefault=this.updateConfigForDefault.bind(this),this.updateConfigForRawColor=this.updateConfigForRawColor.bind(this),this.config={complete:function(){e.animationIsPlaying=!1,e.el.emit("animationcomplete",e.eventDetail,!1),e.id&&e.el.emit("animationcomplete__"+e.id,e.eventDetail,!1)}}},update:function(e){var t=this.config,n=this.data;this.animationIsPlaying=!1,this.data.enabled&&n.property&&(t.autoplay=!1,t.direction=n.dir,t.duration=n.dur,t.easing=n.easing,t.elasticity=n.elasticity,t.loop=n.loop,t.round=n.round,this.createAndStartAnimation())},tick:function(e,t){this.animationIsPlaying&&(this.time+=t,this.animation.tick(this.time))},remove:function(){this.pauseAnimation(),this.removeEventListeners(),this.cancelDelayedStart()},pause:function(){this.paused=!0,this.pausedWasPlaying=this.animationIsPlaying,this.pauseAnimation(),this.removeEventListeners(),this.cancelDelayedStart()},play:function(){this.paused&&(this.paused=!1,this.addEventListeners(),this.pausedWasPlaying&&(this.resumeAnimation(),this.pausedWasPlaying=!1))},createAndStartAnimation:function(){var e=this.data;this.updateConfig(),this.animationIsPlaying=!1,this.animation=r(this.config),this.removeEventListeners(),this.cancelDelayedStart(),this.addEventListeners(),!e.autoplay||e.startEvents&&e.startEvents.length||(e.delay?this.delayTimeout=setTimeout(this.beginAnimation,e.delay):this.beginAnimation())},beginAnimation:function(){this.updateConfig(),this.time=0,this.animationIsPlaying=!0,this.stopRelatedAnimations(),this.el.emit("animationbegin",this.eventDetail,!1)},pauseAnimation:function(){this.animationIsPlaying=!1},resumeAnimation:function(){this.animationIsPlaying=!0},onStartEvent:function(){this.data.enabled&&(this.updateConfig(),this.animation&&this.animation.pause(),this.animation=r(this.config),this.data.delay?setTimeout(this.beginAnimation,this.data.delay):this.beginAnimation())},updateConfigForRawColor:function(){var e,t,n,r=this.config,a=this.data,i=this.el;if(!this.waitComponentInitRawProperty(this.updateConfigForRawColor)){for(t in e=""===a.from?v(i,a.property):a.from,n=a.to,this.setColorConfig(e,n),e=this.fromColor,n=this.toColor,this.targetsArray.length=0,this.targetsArray.push(e),r.targets=this.targetsArray,n)r[t]=n[t];var o;r.update=(o={},function(e){var t;(t=e.animatables[0].target).r===o.r&&t.g===o.g&&t.b===o.b||b(i,a.property,t,a.type)})}},updateConfigForDefault:function(){var e,t,n,r,a=this.config,i=this.data,o=this.el;this.waitComponentInitRawProperty(this.updateConfigForDefault)||(e=""===i.from?w(i)?v(o,i.property):d(o,i.property):i.from,n=i.to,!isNaN(e||n)?(e=parseFloat(e),n=parseFloat(n)):(e=e?e.toString():e,n=n?n.toString():n),(t="true"===i.to||"false"===i.to||!0===i.to||!1===i.to)&&(e="true"===i.from||!0===i.from?1:0,n="true"===i.to||!0===i.to?1:0),this.targets.aframeProperty=e,a.targets=this.targets,a.aframeProperty=n,a.update=function(e){var n;(n=e.animatables[0].target.aframeProperty)!==r&&(r=n,t&&(n=n>=1),w(i)?b(o,i.property,n,i.type):h(o,i.property,n))})},updateConfigForVector:function(){var e,t,n,r,a=this.config,i=this.data,s=this.el;for(e in t=""!==i.from?o.coordinates.parse(i.from):d(s,i.property),n=o.coordinates.parse(i.to),"rotation"===i.property&&(p(t),p(n)),this.targetsArray.length=0,this.targetsArray.push(t),a.targets=this.targetsArray,n)a[e]=n[e];"position"!==i.property&&"rotation"!==i.property&&"scale"!==i.property?a.update=function(){var e={};return function(t){var n=t.animations[0].target;n.x===e.x&&n.y===e.y&&n.z===e.z||(e.x=n.x,e.y=n.y,e.z=n.z,h(s,i.property,n))}}():a.update=(r={},function(e){var t=e.animatables[0].target;"scale"===i.property&&(t.x=Math.max(1e-4,t.x),t.y=Math.max(1e-4,t.y),t.z=Math.max(1e-4,t.z)),t.x===r.x&&t.y===r.y&&t.z===r.z||(r.x=t.x,r.y=t.y,r.z=t.z,s.object3D[i.property].set(t.x,t.y,t.z),s.object3D.matrixNeedsUpdate=!0)})},updateConfig:function(){var e;e=function(e,t){var n,r,i,o;if(i=t.split("."),r=i[0],o=i[1],!(n=e.components[r]||a[r]))return null;if(o&&!n.schema[o])return null;if(o)return n.schema[o].type;return n.schema.type}(this.el,this.data.property),w(this.data)&&"color"===this.data.type?this.updateConfigForRawColor():"vec2"===e||"vec3"===e||"vec4"===e?this.updateConfigForVector():this.updateConfigForDefault()},waitComponentInitRawProperty:function(e){var t,n=this.data,a=this.el,i=this;return""===n.from&&(!!n.property.startsWith("components")&&(t=y(n.property)[1],!a.components[t]&&(a.addEventListener("componentinitialized",(function n(o){o.detail.name===t&&(e(),i.animation=r(i.config),a.removeEventListener("componentinitialized",n))})),!0)))},stopRelatedAnimations:function(){var e,t;for(t in this.el.components)e=this.el.components[t],t!==this.attrName&&"animation"===e.name&&e.animationIsPlaying&&e.data.property===this.data.property&&(e.animationIsPlaying=!1)},addEventListeners:function(){var e=this.data,t=this.el;m(t,e.startEvents,this.onStartEvent),m(t,e.pauseEvents,this.pauseAnimation),m(t,e.resumeEvents,this.resumeAnimation)},removeEventListeners:function(){var e=this.data,t=this.el;g(t,e.startEvents,this.onStartEvent),g(t,e.pauseEvents,this.pauseAnimation),g(t,e.resumeEvents,this.resumeAnimation)},cancelDelayedStart:function(){this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null)},setColorConfig:function(e,t){s.set(e),c.set(t),e=this.fromColor,t=this.toColor,e.r=s.r,e.g=s.g,e.b=s.b,t.r=c.r,t.g=c.g,t.b=c.b}})},523:function(e,t){AFRAME.registerComponent("ambient-light",{schema:{color:{type:"color"},intensity:{default:1}},init(){this.light=new THREE.AmbientLight,this.el.setObject3D("ambient-light",this.light)},update(e){this.data.color!==e.color&&(this.light.color.set(this.data.color),this.light.color.convertSRGBToLinear()),this.data.intensity!==e.intensity&&(this.light.intensity=this.data.intensity)},remove:function(){this.el.removeObject3D("ambient-light")}})},524:function(e,t){const n=AFRAME.utils.device.isMobileVR();AFRAME.registerComponent("billboard",{schema:{onlyY:{type:"boolean"}},init:function(){this._updateBillboard=this._updateBillboard.bind(this),this._updateIsInView=this._updateIsInView.bind(this),n&&this.el.sceneEl.systems["frame-scheduler"].schedule(this._updateIsInView,"billboards")},remove(){n&&this.el.sceneEl.systems["frame-scheduler"].unschedule(this._updateIsInView,"billboards")},tick(){!this.isInView&&n||this._updateBillboard()},_updateIsInView:function(){const e=new THREE.Frustum,t=new THREE.Matrix4,n=new THREE.Box3,r=new THREE.Box3,a=e=>{e.geometry&&(e.updateMatrices(),e.geometry.computeBoundingBox(),r.copy(e.geometry.boundingBox).applyMatrix4(e.matrixWorld),n.expandByPoint(r.min),n.expandByPoint(r.max))},i=(r,i)=>(t.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),e.setFromProjectionMatrix(t),n.makeEmpty(),r.traverse(a),e.intersectsBox(n));return function(){if(this.el.object3D.visible){if(this.playerCamera||(this.playerCamera=document.getElementById("viewing-camera").getObject3D("camera")),this.playerCamera&&(this.isInView=!!this.el.sceneEl.is("vr-mode")||i(this.el.object3D,this.playerCamera),!this.isInView)){const e=this.el.sceneEl.systems["camera-tools"];e&&e.ifMyCameraRenderingViewfinder(e=>{this.isInView=this.isInView||i(this.el.object3D,e.camera)})}}else this.isInView=!1}}(),_updateBillboard:function(){const e=new THREE.Vector3,t=new THREE.Vector3;return function(){if(!this.el.object3D.visible)return;const n=this.el.sceneEl.camera,r=this.el.object3D;n&&(e.setFromMatrixPosition(n.matrixWorld),this.data.onlyY&&(r.getWorldPosition(t),e.y=t.y),r.lookAt(e),r.matrixNeedsUpdate=!0)}}()})},525:function(e,t){AFRAME.registerComponent("css-class",{schema:{type:"string"},multiple:!0,init(){this.el.classList.add(this.data)},update(e){this.data!==e&&(this.el.classList.remove(e),this.el.classList.add(this.data))},remove(){this.el.classList.remove(this.data)}})},526:function(e,t){AFRAME.registerComponent("directional-light",{schema:{color:{type:"color"},intensity:{default:1},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new THREE.DirectionalLight,this.light.position.set(0,0,0),this.light.target.position.set(0,0,1),this.light.add(this.light.target),this.el.setObject3D("directional-light",this.light)},update(e){const t=this.light;if(this.data.color!==e.color){const e=new THREE.Color(this.data.color);e.convertSRGBToLinear(),t.color.copy(e)}this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,r]=this.data.shadowMapResolution,[a,i]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===a&&r===i||(t.shadow.mapSize.set(n,r),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null)),this.light.shadow.camera.matrixNeedsUpdate=!0},remove:function(){this.el.removeObject3D("directional-light")}})},527:function(e,t){AFRAME.registerComponent("duck",{schema:{initialForce:{default:0},maxForce:{default:6.5},maxScale:{default:5}},init:function(){this.initialScale=this.el.object3D.scale.x,this.maxScale=this.data.maxScale*this.initialScale,NAF.utils.getNetworkedEntity(this.el).then(e=>{this.networkedEntity=e,this.initialScale=this.networkedEntity.object3D.scale.x,this.maxScale=this.data.maxScale*this.initialScale})},tick:function(){if(!this.networkedEntity||NAF.utils.isMine(this.networkedEntity)){const e=this.networkedEntity||this.el,t=e.object3D.scale.x,n=Math.min(1,(t-this.initialScale)/(this.maxScale-this.initialScale))*this.data.maxForce;if(n>0){const t=Math.random()*Math.PI*2,r=Math.cos(t),a=Math.sin(t);e.setAttribute("body-helper",{gravity:{x:r,y:n,z:a}})}}}})},528:function(e,t){AFRAME.registerComponent("heightfield",{init(){this.el.addEventListener("componentinitialized",e=>{"static-body"===e.detail.name&&this.generateAndAddHeightfield(this.el.components["static-body"])}),this.el.setAttribute("static-body",{shape:"none",mass:0})},generateAndAddHeightfield(e){const{offset:t,distance:n,data:r}=this.data,a=new CANNON.Quaternion;a.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2);const i=new CANNON.Quaternion;i.setFromAxisAngle(new CANNON.Vec3(0,1,0),-Math.PI/2),i.mult(a,a);const o=new CANNON.Vec3(t.x,t.y,t.z),s=new CANNON.Heightfield(r,{elementSize:n});e.addShape(s,o,a)}})},529:function(e,t){AFRAME.registerComponent("hemisphere-light",{schema:{skyColor:{type:"color"},groundColor:{type:"color"},intensity:{default:1}},init(){this.light=new THREE.HemisphereLight,this.light.position.set(0,0,0),this.light.matrixNeedsUpdate=!0,this.el.setObject3D("hemisphere-light",this.light)},update(e){this.data.skyColor!==e.skyColor&&this.light.color.set(this.data.skyColor),this.data.groundColor!==e.groundColor&&this.light.groundColor.set(this.data.groundColor),this.data.intensity!==e.intensity&&(this.light.intensity=this.data.intensity)},remove:function(){this.el.removeObject3D("hemisphere-light")}})},530:function(e,t){AFRAME.registerComponent("hide-when-quality",{schema:{type:"string",default:"low"},update(e){this.data!==e&&this.updateComponentState(window.APP.store.state.preferences.materialQualitySetting)},updateComponentState(e){this.el.setAttribute("visible",e!==this.data)}})},531:function(e,t){AFRAME.registerComponent("point-light",{schema:{color:{type:"color"},intensity:{default:1},range:{default:0},decay:{default:2},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new THREE.PointLight,this.light.shadow.camera.matrixAutoUpdate=!0,this.el.setObject3D("point-light",this.light)},update(e){const t=this.light;if(this.data.color!==e.color){const e=new THREE.Color(this.data.color);e.convertSRGBToLinear(),t.color.copy(e)}this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.range!==e.range&&(t.distance=this.data.range),this.data.decay!==e.decay&&(t.decay=this.data.decay),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,r]=this.data.shadowMapResolution,[a,i]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===a&&r===i||(t.shadow.mapSize.set(n,r),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null))},remove:function(){this.el.removeObject3D("point-light")}})},532:function(e,t){AFRAME.registerComponent("spot-light",{schema:{color:{type:"color"},intensity:{default:1},range:{default:0},decay:{default:2},innerConeAngle:{default:0},outerConeAngle:{default:Math.PI/4},castShadow:{default:!0},shadowMapResolution:{default:[512,512]},shadowBias:{default:0},shadowRadius:{default:1}},init(){this.light=new THREE.SpotLight,this.light.position.set(0,0,0),this.light.target.position.set(0,0,1),this.light.add(this.light.target),this.light.matrixNeedsUpdate=!0,this.light.target.matrixNeedsUpdate=!0,this.el.setObject3D("spot-light",this.light)},update(e){const t=this.light;this.data.color!==e.color&&t.color.set(this.data.color),this.data.intensity!==e.intensity&&(t.intensity=this.data.intensity),this.data.range!==e.range&&(t.distance=this.data.range),this.data.decay!==e.decay&&(t.decay=this.data.decay),this.data.innerConeAngle===e.innerConeAngle&&this.data.outerConeAngle===e.outerConeAngle||(t.angle=this.data.outerConeAngle,t.penumbra=1-this.data.innerConeAngle/this.data.outerConeAngle),this.data.castShadow!==e.castShadow&&(t.castShadow=this.data.castShadow),this.data.shadowBias!==e.shadowBias&&(t.shadow.bias=this.data.shadowBias),this.data.shadowRadius!==e.shadowRadius&&(t.shadow.radius=this.data.shadowRadius);const[n,r]=this.data.shadowMapResolution,[a,i]=e.shadowMapResolution?e.shadowMapResolution:[512,512];n===a&&r===i||(t.shadow.mapSize.set(n,r),t.shadow.map&&(t.shadow.map.dispose(),t.shadow.map=null))},remove:function(){this.el.removeObject3D("spot-light")}})},533:function(e,t,n){const r=n(209).COLLISION_LAYERS;AFRAME.registerComponent("floaty-object",{schema:{autoLockOnLoad:{default:!1},autoLockOnRelease:{default:!1},modifyGravityOnRelease:{default:!1},releaseGravity:{default:-2},reduceAngularFloat:{default:!1},gravitySpeedLimit:{default:1.85}},init(){this.onGrab=this.onGrab.bind(this),this.onRelease=this.onRelease.bind(this)},tick(){this.bodyHelper||(this.bodyHelper=this.el.components["body-helper"]);const e=AFRAME.scenes[0].systems.interaction,t=e&&e.isHeld(this.el);if(t&&!this.wasHeld&&this.onGrab(),this.wasHeld&&!t&&this.onRelease(),!t&&this._makeStaticWhenAtRest){const e=this.el.sceneEl.systems["hubs-systems"].physicsSystem,t=this.el.components.networked&&NAF.utils.isMine(this.el),n=this.bodyHelper.data.linearSleepingThreshold,r=this.bodyHelper.data.angularSleepingThreshold,a=this.bodyHelper.uuid,i=e.bodyInitialized(a)&&e.getLinearVelocity(a)<n&&e.getAngularVelocity(a)<r;i&&t&&this.el.setAttribute("body-helper",{type:"kinematic"}),!i&&t||(this._makeStaticWhenAtRest=!1)}this.wasHeld=t},play(){this.hasBeenHereBefore||(this.hasBeenHereBefore=!0,this.data.autoLockOnLoad&&(this.el.setAttribute("body-helper",{gravity:{x:0,y:0,z:0}}),this.setLocked(!0)))},setLocked(e){this.el.components.networked&&!NAF.utils.isMine(this.el)||(this.locked=e,this.el.setAttribute("body-helper",{type:e?"kinematic":"dynamic"}))},onRelease(){if(this.data.modifyGravityOnRelease){const e=this.bodyHelper.uuid,t=this.el.sceneEl.systems["hubs-systems"].physicsSystem;0===this.data.gravitySpeedLimit||t.bodyInitialized(e)&&t.getLinearVelocity(e)<this.data.gravitySpeedLimit?(this.el.setAttribute("body-helper",{gravity:{x:0,y:0,z:0},angularDamping:this.data.reduceAngularFloat?.98:.5,linearDamping:.95,linearSleepingThreshold:.1,angularSleepingThreshold:.1,collisionFilterMask:r.HANDS|r.MEDIA_FRAMES}),this._makeStaticWhenAtRest=!0):this.el.setAttribute("body-helper",{gravity:{x:0,y:this.data.releaseGravity,z:0},angularDamping:.01,linearDamping:.01,linearSleepingThreshold:1.6,angularSleepingThreshold:2.5,collisionFilterMask:r.DEFAULT_INTERACTABLE})}else this.el.setAttribute("body-helper",{collisionFilterMask:r.DEFAULT_INTERACTABLE,gravity:{x:0,y:-9.8,z:0}});this.data.autoLockOnRelease&&this.setLocked(!0)},onGrab(){this.el.setAttribute("body-helper",{gravity:{x:0,y:0,z:0},collisionFilterMask:r.HANDS|r.MEDIA_FRAMES}),this.setLocked(!1)},remove(){if(this.stuckTo){const e=this.stuckTo;delete this.stuckTo,e._unstickObject()}}})},534:function(e,t){THREE.Water=function(e,t){THREE.Mesh.call(this,e);const n=this,r=void 0!==(t=t||{}).textureWidth?t.textureWidth:512,a=void 0!==t.textureHeight?t.textureHeight:512,i=void 0!==t.clipBias?t.clipBias:0,o=void 0!==t.alpha?t.alpha:1,s=void 0!==t.time?t.time:0,c=void 0!==t.waterNormals?t.waterNormals:null,u=void 0!==t.sunDirection?t.sunDirection:new THREE.Vector3(.70707,.70707,0),l=new THREE.Color(void 0!==t.sunColor?t.sunColor:16777215),d=new THREE.Color(void 0!==t.waterColor?t.waterColor:8355711),h=void 0!==t.eye?t.eye:new THREE.Vector3(0,0,0),f=void 0!==t.distortionScale?t.distortionScale:20,p=void 0!==t.side?t.side:THREE.FrontSide,m=void 0!==t.fog&&t.fog,g=new THREE.Plane,v=new THREE.Vector3,b=new THREE.Vector3,y=new THREE.Vector3,w=new THREE.Matrix4,E=new THREE.Vector3(0,0,-1),x=new THREE.Vector4,_=new THREE.Vector3,A=new THREE.Vector3,L=new THREE.Vector4,S=new THREE.Matrix4,k=new THREE.PerspectiveCamera,M={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!1},T=new THREE.WebGLRenderTarget(r,a,M);THREE.Math.isPowerOfTwo(r)&&THREE.Math.isPowerOfTwo(a)||(T.texture.generateMipmaps=!1);const R={uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,{normalSampler:{value:null},mirrorSampler:{value:null},alpha:{value:1},time:{value:0},size:{value:1},distortionScale:{value:20},textureMatrix:{value:new THREE.Matrix4},sunColor:{value:new THREE.Color(8355711)},sunDirection:{value:new THREE.Vector3(.70707,.70707,0)},eye:{value:new THREE.Vector3},waterColor:{value:new THREE.Color(5592405)}}]),vertexShader:["uniform mat4 textureMatrix;","uniform float time;","varying vec4 mirrorCoord;","varying vec4 worldPosition;",THREE.ShaderChunk.fog_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {","\tmirrorCoord = modelMatrix * vec4( position, 1.0 );","\tworldPosition = mirrorCoord.xyzw;","\tmirrorCoord = textureMatrix * mirrorCoord;","\tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.fog_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D mirrorSampler;","uniform float alpha;","uniform float time;","uniform float size;","uniform float distortionScale;","uniform sampler2D normalSampler;","uniform vec3 sunColor;","uniform vec3 sunDirection;","uniform vec3 eye;","uniform vec3 waterColor;","varying vec4 mirrorCoord;","varying vec4 worldPosition;","vec4 getNoise( vec2 uv ) {","\tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);","\tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );","\tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );","\tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );","\tvec4 noise = texture2D( normalSampler, uv0 ) +","\t\ttexture2D( normalSampler, uv1 ) +","\t\ttexture2D( normalSampler, uv2 ) +","\t\ttexture2D( normalSampler, uv3 );","\treturn noise * 0.5 - 1.0;","}","void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {","\tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );","\tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );","\tspecularColor += pow( direction, shiny ) * sunColor * spec;","\tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;","}",THREE.ShaderChunk.common,THREE.ShaderChunk.packing,THREE.ShaderChunk.bsdfs,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_pars_begin,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.shadowmask_pars_fragment,"void main() {","\tvec4 noise = getNoise( worldPosition.xz * size );","\tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );","\tvec3 diffuseLight = vec3(0.0);","\tvec3 specularLight = vec3(0.0);","\tvec3 worldToEye = eye-worldPosition.xyz;","\tvec3 eyeDirection = normalize( worldToEye );","\tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );","\tfloat distance = length(worldToEye);","\tvec2 distortion = surfaceNormal.xz * ( 0.001 + 1.0 / distance ) * distortionScale;","\tvec3 reflectionSample = vec3( texture2D( mirrorSampler, mirrorCoord.xy / mirrorCoord.z + distortion ) );","\tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );","\tfloat rf0 = 0.3;","\tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );","\tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;","\tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ) * getShadowMask(), ( vec3( 0.1 ) + reflectionSample * 0.9 + reflectionSample * specularLight ), reflectance);","\tvec3 outgoingLight = albedo;","\tgl_FragColor = vec4( outgoingLight, alpha );",THREE.ShaderChunk.tonemapping_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},C=new THREE.ShaderMaterial({fragmentShader:R.fragmentShader,vertexShader:R.vertexShader,uniforms:THREE.UniformsUtils.clone(R.uniforms),transparent:!0,lights:!0,side:p,fog:m});C.uniforms.mirrorSampler.value=T.texture,C.uniforms.textureMatrix.value=S,C.uniforms.alpha.value=o,C.uniforms.time.value=s,C.uniforms.normalSampler.value=c,C.uniforms.sunColor.value=l,C.uniforms.waterColor.value=d,C.uniforms.sunDirection.value=u,C.uniforms.distortionScale.value=f,C.uniforms.eye.value=h,n.material=C,n.mirrorCamera=k,n.onBeforeRender=function(e,t,r){if(b.setFromMatrixPosition(n.matrixWorld),y.setFromMatrixPosition(r.matrixWorld),w.extractRotation(n.matrixWorld),v.set(0,0,1),v.applyMatrix4(w),_.subVectors(b,y),_.dot(v)>0)return;_.reflect(v).negate(),_.add(b),w.extractRotation(r.matrixWorld),E.set(0,0,-1),E.applyMatrix4(w),E.add(y),A.subVectors(b,E),A.reflect(v).negate(),A.add(b),k.position.copy(_),k.up.set(0,1,0),k.up.applyMatrix4(w),k.up.reflect(v),k.lookAt(A),k.far=r.far,k.matrixNeedsUpdate=!0,k.updateMatrixWorld(),k.projectionMatrix.copy(r.projectionMatrix),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(k.projectionMatrix),S.multiply(k.matrixWorldInverse),g.setFromNormalAndCoplanarPoint(v,b),g.applyMatrix4(k.matrixWorldInverse),x.set(g.normal.x,g.normal.y,g.normal.z,g.constant);const a=k.projectionMatrix;L.x=(Math.sign(x.x)+a.elements[8])/a.elements[0],L.y=(Math.sign(x.y)+a.elements[9])/a.elements[5],L.z=-1,L.w=(1+a.elements[10])/a.elements[14],x.multiplyScalar(2/x.dot(L)),a.elements[2]=x.x,a.elements[6]=x.y,a.elements[10]=x.z+1-i,a.elements[14]=x.w,h.setFromMatrixPosition(r.matrixWorld);const o=e.getRenderTarget(),s=e.xr.enabled,c=e.shadowMap.autoUpdate;n.visible=!1,e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(T),e.render(t,k),e.setRenderTarget(null),n.visible=!0,e.xr.enabled=s,e.shadowMap.autoUpdate=c,e.setRenderTarget(o)}},THREE.Water.prototype=Object.create(THREE.Mesh.prototype),THREE.Water.prototype.constructor=THREE.Water},535:function(e,t){const n=new THREE.Vector3,r=new THREE.Vector3,a=new THREE.Vector3;AFRAME.registerComponent("trigger-volume",{schema:{colliders:{type:"selectorAll"},size:{type:"vec3",default:{x:1,y:1,z:1}},target:{type:"selector"},enterComponent:{type:"string"},enterProperty:{type:"string"},enterValue:{default:"",parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify},leaveComponent:{type:"string"},leaveProperty:{type:"string"},leaveValue:{default:"",parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.boundingBox=new THREE.Box3,this.collidingLastFrame={}},update(){this.el.object3D.getWorldPosition(r),n.copy(this.data.size),this.boundingBox.setFromCenterAndSize(r,n)},tick(){if(!this.data.target)return;const e=this.data.colliders;for(let t=0;t<e.length;t++){const n=e[t].object3D;n.getWorldPosition(a);const r=this.boundingBox.containsPoint(a),i=this.collidingLastFrame[n.id];r&&!i?this.data.target.setAttribute(this.data.enterComponent,this.data.enterProperty,this.data.enterValue):!r&&i&&this.data.target.setAttribute(this.data.leaveComponent,this.data.leaveProperty,this.data.leaveValue),this.collidingLastFrame[n.id]=r}}})},536:function(e,t){AFRAME.registerComponent("video-pause-state",{schema:{paused:{default:!1}},init(){this.onPauseStateChange=this.onPauseStateChange.bind(this),this.videoComponent=this.el.components["media-video"],this.videoComponent?this.onVideoLoaded():(this.onVideoLoaded=this.onVideoLoaded.bind(this),this.el.addEventListener("video-loaded",this.onVideoLoaded))},onVideoLoaded(){this.videoComponent=this.el.components["media-video"],this.video=this.videoComponent.video,this.video.addEventListener("pause",this.onPauseStateChange)},onPauseStateChange(){this.el.setAttribute("paused",this.video.paused)},update(){this.video&&this.data.paused!==this.video.paused&&this.videoComponent.togglePlaying()},remove(){this.video&&this.video.removeEventListener("pause",this.onPauseStateChange),this.el.removeEventListener("video-loaded",this.onVideoLoaded)}})},537:function(e,t){const n=new THREE.MeshBasicMaterial({color:302836,transparent:!0,opacity:.25,side:THREE.DoubleSide});AFRAME.registerComponent("audio-zone",{schema:{enabled:{default:!0},inOut:{default:!0},outIn:{default:!0},debuggable:{default:!0}},init(){var e,t;const r=new THREE.BoxGeometry;this.debugMesh=new THREE.Mesh(r,n),this.debugMesh.el=this.el.object3D.el;const a=new THREE.BoxHelper(this.debugMesh,302836);this.el.object3D.add(a),this.el.object3D.updateMatrixWorld(!0),null===(e=this.el.sceneEl.systems["audio-debug"])||void 0===e||e.registerZone(this),null===(t=this.el.sceneEl.systems["hubs-systems"])||void 0===t||t.audioZonesSystem.registerZone(this),this.enableDebug(window.APP.store.state.preferences.showAudioDebugPanel)},remove(){var e,t;null===(e=this.el.sceneEl.systems["audio-debug"])||void 0===e||e.unregisterZone(this),null===(t=this.el.sceneEl.systems["hubs-systems"])||void 0===t||t.audioZonesSystem.unregisterZone(this)},update(){this.enableDebug(this.data.debuggable&&window.APP.store.state.preferences.showAudioDebugPanel)},isEnabled(){return this.data.enabled},getBoundingBox:function(){const e=new THREE.Box3;return function(){return e.copy(this.debugMesh.geometry.boundingBox).applyMatrix4(this.el.object3D.matrixWorld)}}(),enableDebug(e){this.data.debuggable=e,this.el.object3D.visible=e},getAudioParams(){return APP.audioOverrides.get(this.el)},contains(e){return this.getBoundingBox().containsPoint(e)}})},538:function(e,t){AFRAME.registerComponent("frustrum",{schema:{culled:{type:"boolean",default:!0}},update:function(){this.updateDescendants(this.data.culled)},remove:function(){this.updateDescendants(!0)},updateDescendants:function(e){this.el.object3D.traverse((function(t){t instanceof THREE.Mesh&&(t.frustumCulled=e)}))}})},539:function(e,t){AFRAME.registerComponent("inject-main-camera-here",{init(){this.el.setObject3D("camera",this.el.sceneEl.camera)}})},540:function(e,t){AFRAME.registerComponent("log-events",{init:function(){const e=this.el,t=this.log.bind(this),n=this.el.dispatchEvent;this.el.dispatchEvent=function(){return t(Array.from(arguments)),n.apply(e,arguments)}},log:function([e]){if(["componentchanged"].includes(e.type))return;let t=!0;console.info("log-events: ".concat(this.el.id," ").concat(e.type," ").concat(JSON.stringify(e.detail,(e,n)=>n&&"object"==typeof n&&void 0===n.length?t?(t=!1,n):"[object]":n)))}}),AFRAME.registerComponent("lifecycle-checker",{schema:{name:{type:"string"},tick:{default:!1}},init:function(){this.log("init")},update:function(){this.log("update")},tick:function(){this.data.tick&&this.log("tick")},remove:function(){this.log("remove")},pause:function(){this.log("pause")},play:function(){this.log("play")},log:function(e){console.info("lifecycle-checker:".concat(this.data.name," ").concat(e))}})},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function a(){return r.a.feature("show_cloud")}},587:function(e,t,n){"use strict";var r=n(12);const{Pathfinding:a}=n(588);AFRAME.registerSystem("nav",{init:function(){this.pathfinder=new a,this.mesh=null,this.el.addEventListener("reset_scene",this.removeNavMeshData.bind(this)),this.el.addEventListener("leaving_loading_environment",this.removeNavMeshData.bind(this))},loadMesh:function(e,t){this.mesh&&(console.error("tried to load multiple nav meshes"),this.removeNavMeshData());const n=e.geometry.clone();e.updateMatrices(),n.applyMatrix4(e.matrixWorld),this.pathfinder.setZoneData(t,a.createZone(n)),this.mesh=e;const i=document.querySelectorAll("[teleporter]");for(let e=0;e<i.length;e++)i[e].components.teleporter.queryCollisionEntities();this.el.sceneEl.emit("nav-mesh-loaded"),Object(r.a)("debugNavmesh")&&(this.helperMesh=new THREE.Mesh(n,new THREE.MeshBasicMaterial({wireframe:!0})),this.el.sceneEl.object3D.add(this.helperMesh))},removeNavMeshData(){var e,t;(this.mesh&&this.mesh.geometry&&this.mesh.geometry.dispose&&this.mesh._hubs_audio_debug_prev_material&&(this.mesh.material=this.mesh._hubs_audio_debug_prev_material,this.mesh._hubs_audio_debug_prev_material=null),this.helperMesh)&&(null===(e=this.helperMesh.material)||void 0===e||e.dispose(),null===(t=this.helperMesh.geometry)||void 0===t||t.dispose(),this.helperMesh.removeFromParent(),this.helperMesh=null);this.mesh=null,this.pathfinder.zones={}}})},588:function(e,t,n){"use strict";n.r(t),n.d(t,"Pathfinding",(function(){return w})),n.d(t,"PathfindingHelper",(function(){return x}));var r=n(3);function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}var s,c,u,l,d,h,f,p,m=function(){function e(){}return e.roundNumber=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},e.sample=function(e){return e[Math.floor(Math.random()*e.length)]},e.distanceToSquared=function(e,t){var n=e.x-t.x,r=e.y-t.y,a=e.z-t.z;return n*n+r*r+a*a},e.isPointInPoly=function(e,t){for(var n=!1,r=-1,a=e.length,i=a-1;++r<a;i=r)(e[r].z<=t.z&&t.z<e[i].z||e[i].z<=t.z&&t.z<e[r].z)&&t.x<(e[i].x-e[r].x)*(t.z-e[r].z)/(e[i].z-e[r].z)+e[r].x&&(n=!n);return n},e.isVectorInPolygon=function(e,t,n){var r=1e5,a=-1e5,i=[];return t.vertexIds.forEach((function(e){r=Math.min(n[e].y,r),a=Math.max(n[e].y,a),i.push(n[e])})),!!(e.y<a+.5&&e.y>r-.5&&this.isPointInPoly(i,e))},e.triarea2=function(e,t,n){return(n.x-e.x)*(t.z-e.z)-(t.x-e.x)*(n.z-e.z)},e.vequal=function(e,t){return this.distanceToSquared(e,t)<1e-5},e.mergeVertices=function(e,t){void 0===t&&(t=1e-4),t=Math.max(t,Number.EPSILON);for(var n={},a=e.getIndex(),i=e.getAttribute("position"),o=a?a.count:i.count,s=0,c=[],u=[],l=Math.log10(1/t),d=Math.pow(10,l),h=0;h<o;h++){var f=a?a.getX(h):h,p="";p+=~~(i.getX(f)*d)+",",p+=~~(i.getY(f)*d)+",",(p+=~~(i.getZ(f)*d)+",")in n?c.push(n[p]):(u.push(i.getX(f)),u.push(i.getY(f)),u.push(i.getZ(f)),n[p]=s,c.push(s),s++)}var m=new r.BufferAttribute(new Float32Array(u),i.itemSize,i.normalized),g=new r.BufferGeometry;return g.setAttribute("position",m),g.setIndex(c),g},e}(),g=function(){function e(e){this.content=[],this.scoreFunction=e}var t=e.prototype;return t.push=function(e){this.content.push(e),this.sinkDown(this.content.length-1)},t.pop=function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},t.remove=function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},t.size=function(){return this.content.length},t.rescoreElement=function(e){this.sinkDown(this.content.indexOf(e))},t.sinkDown=function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},t.bubbleUp=function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var a=e+1<<1,i=a-1,o=null,s=void 0;if(i<t&&(s=this.scoreFunction(this.content[i]))<r&&(o=i),a<t&&this.scoreFunction(this.content[a])<(null===o?r:s)&&(o=a),null===o)break;this.content[e]=this.content[o],this.content[o]=n,e=o}},e}(),v=function(){function e(){}return e.init=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.f=0,n.g=0,n.h=0,n.cost=1,n.visited=!1,n.closed=!1,n.parent=null}},e.cleanUp=function(e){for(var t=0;t<e.length;t++){var n=e[t];delete n.f,delete n.g,delete n.h,delete n.cost,delete n.visited,delete n.closed,delete n.parent}},e.heap=function(){return new g((function(e){return e.f}))},e.search=function(e,t,n){this.init(e);var r=this.heap();for(r.push(t);r.size()>0;){var a=r.pop();if(a===n){for(var i=a,o=[];i.parent;)o.push(i),i=i.parent;return this.cleanUp(o),o.reverse()}a.closed=!0;for(var s=this.neighbours(e,a),c=0,u=s.length;c<u;c++){var l=s[c];if(!l.closed){var d=a.g+l.cost,h=l.visited;if(!h||d<l.g){if(l.visited=!0,l.parent=a,!l.centroid||!n.centroid)throw new Error("Unexpected state");l.h=l.h||this.heuristic(l.centroid,n.centroid),l.g=d,l.f=l.g+l.h,h?r.rescoreElement(l):r.push(l)}}}}return[]},e.heuristic=function(e,t){return m.distanceToSquared(e,t)},e.neighbours=function(e,t){for(var n=[],r=0;r<t.neighbours.length;r++)n.push(e[t.neighbours[r]]);return n},e}(),b=function(){function e(){}return e.buildZone=function(e,t){var n=this,a=this._buildNavigationMesh(e,t),i={};a.vertices.forEach((function(e){e.x=m.roundNumber(e.x,2),e.y=m.roundNumber(e.y,2),e.z=m.roundNumber(e.z,2)})),i.vertices=a.vertices;var o=this._buildPolygonGroups(a);return i.groups=new Array(o.length),o.forEach((function(e,t){var a=new Map;e.forEach((function(e,t){a.set(e,t)}));var o=new Array(e.length);e.forEach((function(e,t){var s=[];e.neighbours.forEach((function(e){return s.push(a.get(e))}));var c=[];e.neighbours.forEach((function(t){return c.push(n._getSharedVerticesInOrder(e,t))}));var u=new r.Vector3(0,0,0);u.add(i.vertices[e.vertexIds[0]]),u.add(i.vertices[e.vertexIds[1]]),u.add(i.vertices[e.vertexIds[2]]),u.divideScalar(3),u.x=m.roundNumber(u.x,2),u.y=m.roundNumber(u.y,2),u.z=m.roundNumber(u.z,2),o[t]={id:t,neighbours:s,vertexIds:e.vertexIds,centroid:u,portals:c}})),i.groups[t]=o})),i},e._buildNavigationMesh=function(e,t){return e=m.mergeVertices(e,t),this._buildPolygonsFromGeometry(e)},e._buildPolygonGroups=function(e){var t=[];return e.polygons.forEach((function(e){void 0!==e.group?t[e.group].push(e):(e.group=t.length,function e(t){t.neighbours.forEach((function(n){void 0===n.group&&(n.group=t.group,e(n))}))}(e),t.push([e]))})),t},e._buildPolygonNeighbours=function(e,t){var n=new Set,r=t[e.vertexIds[1]],a=t[e.vertexIds[2]];return t[e.vertexIds[0]].forEach((function(t){t!==e&&(r.includes(t)||a.includes(t))&&n.add(t)})),r.forEach((function(t){t!==e&&a.includes(t)&&n.add(t)})),n},e._buildPolygonsFromGeometry=function(e){for(var t=this,n=[],a=[],i=e.attributes.position,o=e.index,s=[],c=0;c<i.count;c++)a.push((new r.Vector3).fromBufferAttribute(i,c)),s[c]=[];for(var u=0;u<e.index.count;u+=3){var l=o.getX(u),d=o.getX(u+1),h=o.getX(u+2),f={vertexIds:[l,d,h],neighbours:null};n.push(f),s[l].push(f),s[d].push(f),s[h].push(f)}return n.forEach((function(e){e.neighbours=t._buildPolygonNeighbours(e,s)})),{polygons:n,vertices:a}},e._getSharedVerticesInOrder=function(e,t){var n=e.vertexIds,r=n[0],a=n[1],i=n[2],o=t.vertexIds,s=o.includes(r),c=o.includes(a),u=o.includes(i);return s&&c&&u?Array.from(n):s&&c?[r,a]:c&&u?[a,i]:s&&u?[i,r]:(console.warn("Error processing navigation mesh neighbors; neighbors with <2 shared vertices found."),[])},e}(),y=function(){function e(){this.portals=[]}var t=e.prototype;return t.push=function(e,t){void 0===t&&(t=e),this.portals.push({left:e,right:t})},t.stringPull=function(){var e,t,n,r=this.portals,a=[],i=0,o=0,s=0;t=r[0].left,n=r[0].right,a.push(e=r[0].left);for(var c=1;c<r.length;c++){var u=r[c].left,l=r[c].right;if(m.triarea2(e,n,l)<=0){if(!(m.vequal(e,n)||m.triarea2(e,t,l)>0)){a.push(t),t=e=t,n=e,o=i=o,s=i,c=i;continue}n=l,s=c}if(m.triarea2(e,t,u)>=0){if(!(m.vequal(e,t)||m.triarea2(e,n,u)<0)){a.push(n),t=e=n,n=e,o=i=s,s=i,c=i;continue}t=u,o=c}}return 0!==a.length&&m.vequal(a[a.length-1],r[r.length-1].left)||a.push(r[r.length-1].left),this.path=a,a},e}(),w=function(){function e(){this.zones={}}e.createZone=function(e,t){return void 0===t&&(t=1e-4),b.buildZone(e,t)};var t=e.prototype;return t.setZoneData=function(e,t){this.zones[e]=t},t.getRandomNode=function(e,t,n,a){if(!this.zones[e])return new r.Vector3;n=n||null,a=a||0;var i=[];return this.zones[e].groups[t].forEach((function(e){n&&a?m.distanceToSquared(n,e.centroid)<a*a&&i.push(e.centroid):i.push(e.centroid)})),m.sample(i)||new r.Vector3},t.getClosestNode=function(e,t,n,r){void 0===r&&(r=!1);var a=this.zones[t].vertices,i=null,o=1/0;return this.zones[t].groups[n].forEach((function(t){var n=m.distanceToSquared(t.centroid,e);n<o&&(!r||m.isVectorInPolygon(e,t,a))&&(i=t,o=n)})),i},t.findPath=function(e,t,n,a){var i=this.zones[n].groups[a],o=this.zones[n].vertices,s=this.getClosestNode(e,n,a,!0),c=this.getClosestNode(t,n,a,!0);if(!s||!c)return null;var u=v.search(i,s,c),l=function(e,t){for(var n=0;n<e.neighbours.length;n++)if(e.neighbours[n]===t.id)return e.portals[n]},d=new y;d.push(e);for(var h=0;h<u.length;h++){var f=u[h+1];if(f){var p=l(u[h],f);d.push(o[p[0]],o[p[1]])}}d.push(t),d.stringPull();var m=d.path.map((function(e){return new r.Vector3(e.x,e.y,e.z)}));return m.shift(),m},e}();w.prototype.getGroup=(s=new r.Plane,function(e,t,n){if(void 0===n&&(n=!1),!this.zones[e])return null;for(var r=null,a=Math.pow(50,2),i=this.zones[e],c=0;c<i.groups.length;c++)for(var u,l=o(i.groups[c]);!(u=l()).done;){var d=u.value;if(n&&(s.setFromCoplanarPoints(i.vertices[d.vertexIds[0]],i.vertices[d.vertexIds[1]],i.vertices[d.vertexIds[2]]),Math.abs(s.distanceToPoint(t))<.01&&m.isPointInPoly([i.vertices[d.vertexIds[0]],i.vertices[d.vertexIds[1]],i.vertices[d.vertexIds[2]]],t)))return c;var h=m.distanceToSquared(d.centroid,t);h<a&&(r=c,a=h)}return r}),w.prototype.clampStep=(l=new r.Vector3,d=new r.Plane,h=new r.Triangle,f=new r.Vector3,p=new r.Vector3,function(e,t,n,r,a,i){var o=this.zones[r].vertices,s=this.zones[r].groups[a],m=[n],g={};g[n.id]=0,c=void 0,p.set(0,0,0),u=1/0,d.setFromCoplanarPoints(o[n.vertexIds[0]],o[n.vertexIds[1]],o[n.vertexIds[2]]),d.projectPoint(t,l),f.copy(l);for(var v=m.pop();v;v=m.pop()){h.set(o[v.vertexIds[0]],o[v.vertexIds[1]],o[v.vertexIds[2]]),h.closestPointToPoint(f,l),l.distanceToSquared(f)<u&&(c=v,p.copy(l),u=l.distanceToSquared(f));var b=g[v.id];if(!(b>2))for(var y=0;y<v.neighbours.length;y++){var w=s[v.neighbours[y]];w.id in g||(m.push(w),g[w.id]=b+1)}}return i.copy(p),c});var E={PLAYER:new r.Color(15631215).convertGammaToLinear(2.2).getHex(),TARGET:new r.Color(14469912).convertGammaToLinear(2.2).getHex(),PATH:new r.Color(41903).convertGammaToLinear(2.2).getHex(),WAYPOINT:new r.Color(41903).convertGammaToLinear(2.2).getHex(),CLAMPED_STEP:new r.Color(14472114).convertGammaToLinear(2.2).getHex(),CLOSEST_NODE:new r.Color(4417387).convertGammaToLinear(2.2).getHex()},x=function(e){var t,n;function i(){var t;return(t=e.call(this)||this)._playerMarker=new r.Mesh(new r.SphereBufferGeometry(.25,32,32),new r.MeshBasicMaterial({color:E.PLAYER})),t._targetMarker=new r.Mesh(new r.BoxBufferGeometry(.3,.3,.3),new r.MeshBasicMaterial({color:E.TARGET})),t._nodeMarker=new r.Mesh(new r.BoxBufferGeometry(.1,.8,.1),new r.MeshBasicMaterial({color:E.CLOSEST_NODE})),t._stepMarker=new r.Mesh(new r.BoxBufferGeometry(.1,1,.1),new r.MeshBasicMaterial({color:E.CLAMPED_STEP})),t._pathMarker=new r.Object3D,t._pathLineMaterial=new r.LineBasicMaterial({color:E.PATH,linewidth:2}),t._pathPointMaterial=new r.MeshBasicMaterial({color:E.WAYPOINT}),t._pathPointGeometry=new r.SphereBufferGeometry(.08),t._markers=[t._playerMarker,t._targetMarker,t._nodeMarker,t._stepMarker,t._pathMarker],t._markers.forEach((function(e){e.visible=!1,t.add(e)})),t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,a(t,n);var o=i.prototype;return o.setPath=function(e){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);e=[this._playerMarker.position].concat(e);var t=new r.BufferGeometry;t.setAttribute("position",new r.BufferAttribute(new Float32Array(3*e.length),3));for(var n=0;n<e.length;n++)t.attributes.position.setXYZ(n,e[n].x,e[n].y+.2,e[n].z);this._pathMarker.add(new r.Line(t,this._pathLineMaterial));for(var a=0;a<e.length-1;a++){var i=new r.Mesh(this._pathPointGeometry,this._pathPointMaterial);i.position.copy(e[a]),i.position.y+=.2,this._pathMarker.add(i)}return this._pathMarker.visible=!0,this},o.setPlayerPosition=function(e){return this._playerMarker.position.copy(e),this._playerMarker.visible=!0,this},o.setTargetPosition=function(e){return this._targetMarker.position.copy(e),this._targetMarker.visible=!0,this},o.setNodePosition=function(e){return this._nodeMarker.position.copy(e),this._nodeMarker.visible=!0,this},o.setStepPosition=function(e){return this._stepMarker.position.copy(e),this._stepMarker.visible=!0,this},o.reset=function(){for(;this._pathMarker.children.length;)this._pathMarker.children[0].visible=!1,this._pathMarker.remove(this._pathMarker.children[0]);return this._markers.forEach((function(e){e.visible=!1})),this},i}(r.Object3D)},589:function(e,t){AFRAME.registerComponent("event-repeater",{schema:{eventSource:{type:"selector"},events:{type:"array"}},play:function(){this.data.eventListeners=[];const e=this.data.events;for(let t=0;t<e.length;t++){const n=e[t];this.data.eventListeners[n]=this._handleEvent.bind(this,n),this.data.eventSource.addEventListener(n,this.data.eventListeners[n])}},pause:function(){const e=this.data.events;for(let t=0;t<e.length;t++){const n=e[t];this.data.eventSource.removeEventListener(n,this.data.eventListeners[n])}this.data.eventListeners=[]},_handleEvent:function(e,t){this.el.emit(e,t.detail)}})},59:function(e,t,n){e.exports=n.p+"assets/models/DefaultAvatar-798e20921f79aae310651e2fcb6f6ebb.glb"},594:function(e,t,n){"use strict";n(522),n(523),n(314);var r=n(103),a=n(13),i=n(267),o=n(158),s=n(7);function c(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){c(i,r,a,o,s,"next",e)}function s(e){c(i,r,a,o,s,"throw",e)}o(void 0)}))}}function l(e){const t=((e,t)=>{e.getByteTimeDomainData(t);let n=0;for(let e=0;e<t.length;e++){const r=(t[e]-128)/128;n+=r*r}return Math.sqrt(n/t.length)})(e.analyser,e.levels),n=Math.log(THREE.Math.mapLinear(t,0,1,1,Math.E));e.volume=n<.08?0:n;const r=e.volume>e.prevVolume?.35:.3;e.volume=r*e.volume+(1-r)*e.prevVolume,e.prevVolume=e.volume}function d(e){const t=Object(r.a)(e,"ik-root");if(t&&"avatar-rig"===t.id)return e.sceneEl.systems["local-audio-analyser"];{const t=Object(r.a)(e,"networked-audio-analyser");return t?t.components["networked-audio-analyser"]:null}}AFRAME.registerComponent("networked-audio-analyser",{init(){var e=this;return u((function*(){e.volume=0,e.prevVolume=0,e.disableUpdates=!0,e.avatarIsTalking=!1,e._updateAnalysis=e._updateAnalysis.bind(e),e._runScheduledWork=e._runScheduledWork.bind(e),e.el.sceneEl.systems["frame-scheduler"].schedule(e._runScheduledWork,"audio-analyser"),e.el.addEventListener("sound-source-set",t=>{const n=THREE.AudioContext.getContext();e.analyser=n.createAnalyser(),e.analyser.fftSize=32,e.levels=new Uint8Array(e.analyser.fftSize),t.detail.soundSource.connect(e.analyser)},{once:!0}),e.playerSessionId=Object(r.a)(e.el,"player-info").components["player-info"].playerSessionId,Object(o.d)(e,"networked-audio-analyser")}))()},remove:function(){Object(o.a)(this,"networked-audio-analyser"),this.el.sceneEl.systems["frame-scheduler"].unschedule(this._runScheduledWork,"audio-analyser")},tick:function(e){this.disableUpdates||this._updateAnalysis(e)},_runScheduledWork:function(){this.disableUpdates&&this._updateAnalysis()},_updateAnalysis:function(e){this.analyser&&(l(this),this.volume<1e-5?(e&&this.lastSeenVolume&&this.lastSeenVolume<e-1e4&&(this.disableUpdates=!0),e&&this.lastSeenVolume&&this.lastSeenVolume<e-1e3&&(this.avatarIsTalking=!1)):(e&&(this.lastSeenVolume=e),this.disableUpdates=!1,this.avatarIsTalking=!0))}}),AFRAME.registerSystem("local-audio-analyser",{init(){this.volume=0,this.prevVolume=0,this.onMicEnabled=this.onMicEnabled.bind(this),this.el.addEventListener(s.b.MIC_SHARE_STARTED,this.onMicEnabled)},remove(){this.el.removeEventListener(s.b.MIC_SHARE_STARTED,this.onMicEnabled)},onMicEnabled(){const e=this.el.sceneEl.systems["hubs-systems"].audioSystem;this.analyser=e.outboundAnalyser,this.levels=e.analyserLevels},tick:function(){this.analyser&&(APP.dialog.isMicEnabled?l(this):(this.prevVolume=this.volume,this.volume=0))}}),AFRAME.registerComponent("scale-audio-feedback",{schema:{minScale:{default:1},maxScale:{default:1.5}},init(){var e=this;return u((function*(){yield Object(a.b)(),e.cameraEl=document.getElementById("viewing-camera")}))()},tick(){var e;this.cameraEl&&(this.analyser||(this.analyser=d(this.el)),this.el.object3D.scale.setScalar(THREE.Math.mapLinear((null===(e=this.analyser)||void 0===e?void 0:e.volume)||0,0,1,this.data.minScale,this.data.maxScale)),this.el.object3D.matrixNeedsUpdate=!0)}}),AFRAME.registerComponent("morph-audio-feedback",{schema:{name:{default:""},minValue:{default:0},maxValue:{default:2}},init(){const e=[];this.el.object3DMap.skinnedmesh?e.push(this.el.object3DMap.skinnedmesh):this.el.object3DMap.group&&this.el.object3DMap.group.traverse(t=>t.isSkinnedMesh&&e.push(t)),e.length&&(this.morphs=e.map(e=>({mesh:e,morphNumber:e.morphTargetDictionary[this.data.name]})).filter(e=>void 0!==e.morphNumber))},tick(){if(!this.morphs||!this.morphs.length)return;this.analyser||(this.analyser=d(this.el));const{minValue:e,maxValue:t}=this.data,n=THREE.Math.mapLinear(Object(i.a)(this.analyser?this.analyser.volume:0),0,1,e,t);for(let e=0;e<this.morphs.length;e++)this.morphs[e].mesh.morphTargetInfluences[this.morphs[e].morphNumber]=n}});const h={MIC:["mic-0.png","mic-1.png","mic-2.png","mic-3.png","mic-4.png","mic-5.png","mic-6.png","mic-7.png"],MIC_HOVER:["mic-0_hover.png","mic-1_hover.png","mic-2_hover.png","mic-3_hover.png","mic-4_hover.png","mic-5_hover.png","mic-6_hover.png","mic-7_hover.png"],MIC_OFF:["mic-off-0.png","mic-off-1.png","mic-off-2.png","mic-off-3.png","mic-off-4.png","mic-off-5.png","mic-off-6.png","mic-off-7.png"],MIC_OFF_HOVER:["mic-off-0_hover.png","mic-off-1_hover.png","mic-off-2_hover.png","mic-off-3_hover.png","mic-off-4_hover.png","mic-off-5_hover.png","mic-off-6_hover.png","mic-off-7_hover.png"]};AFRAME.registerComponent("mic-button",{schema:{active:{type:"boolean"},tooltip:{type:"selector"},tooltipText:{type:"string"},activeTooltipText:{type:"string"}},init(){this.prevSpriteName="",this.el.object3D.matrixNeedsUpdate=!0,this.hovering=!1,this.onHover=()=>{this.hovering=!0,this.data.tooltip.setAttribute("visible",!0)},this.onHoverOut=()=>{this.hovering=!1,this.data.tooltip.setAttribute("visible",!1)}},play(){this.el.object3D.addEventListener("hovered",this.onHover),this.el.object3D.addEventListener("unhovered",this.onHoverOut)},pause(){this.el.object3D.removeEventListener("hovered",this.onHover),this.el.object3D.removeEventListener("unhovered",this.onHoverOut)},update(){this.data.tooltip&&(this.textEl=this.data.tooltip.querySelector("[text]"))},tick(){const e=this.el.sceneEl.systems["local-audio-analyser"],t=this.data.active,n=this.hovering;var r;const a=h[t?n?"MIC_HOVER":"MIC":n?"MIC_OFF_HOVER":"MIC_OFF"][(r=e.volume,THREE.Math.clamp(Math.ceil(THREE.Math.mapLinear(r-.05,0,1,0,7)),0,7))];a!==this.prevSpriteName&&(this.prevSpriteName=a,this.el.setAttribute("sprite","name",a)),this.data.tooltip&&n&&(this.textEl=this.textEl||this.data.tooltip.querySelector("[text]"),this.textEl.setAttribute("text","value",t?this.data.activeTooltipText:this.data.tooltipText))}});n(524);var f=n(17),p=n(392),m=n.n(p),g=n(393),v=n.n(g),b=n(394),y=n.n(b),w=n(395),E=n.n(w);const x={"action-button":{tex:f.o.load(m.a),width:128,height:128},button:{tex:f.o.load(v.a),width:128,height:128},nametag:{tex:f.o.load(y.a),width:128,height:128},"nametag-border":{tex:f.o.load(E.a),width:128,height:128}};AFRAME.registerComponent("slice9",{schema:{alphaTest:{default:0},bottom:{default:0,min:0},color:{type:"color",default:"#fff"},debug:{default:!1},height:{default:1,min:0},left:{default:0,min:0},opacity:{default:1,min:0,max:1},padding:{default:.1,min:.01},right:{default:0,min:0},side:{default:"front",oneOf:["front","back","double"]},src:{oneOf:Object.keys(x)},top:{default:0,min:0},transparent:{default:!0},width:{default:1,min:0},usingCustomMaterial:{default:!1},usingAtlas:{default:!1},uvAtlasMin:{type:"vec2"},uvAtlasMax:{type:"vec2"}},init:function(){const e=this.data;this.textureSrc=null;const t=this.geometry=new THREE.PlaneBufferGeometry(e.width,e.height,3,3);if(e.usingCustomMaterial)this.plane=new THREE.Mesh(t);else{const n=new THREE.MeshBasicMaterial({alphaTest:e.alphaTest,color:e.color,opacity:e.opacity,transparent:e.transparent,wireframe:e.debug});this.plane=new THREE.Mesh(t,n)}this.el.setObject3D("mesh",this.plane)},regenerateMesh:function(){const e=this.data;let t;const n=this.geometry.attributes.position.array,r=this.geometry.attributes.uv.array;let a;if(this.plane.material&&!this.plane.material.map)return;function i(e,t,r){n[3*e]=t,n[3*e+1]=r}function o(t,n,a){e.usingAtlas&&(n=e.uvAtlasMin.x+n*(e.uvAtlasMax.x-e.uvAtlasMin.x),a=e.uvAtlasMin.y+a*(e.uvAtlasMax.y-e.uvAtlasMin.y)),r[2*t]=n,r[2*t+1]=a}e.usingCustomMaterial?(t=1,a=1):(t=x[e.src].height,a=x[e.src].width);const s={left:e.left/a,right:e.right/a,top:e.top/t,bottom:e.bottom/t};o(1,s.left,1),o(2,s.right,1),o(4,0,s.bottom),o(5,s.left,s.bottom),o(6,s.right,s.bottom),o(7,1,s.bottom),o(8,0,s.top),o(9,s.left,s.top),o(10,s.right,s.top),o(11,1,s.top),o(13,s.left,0),o(14,s.right,0),e.usingAtlas&&(o(0,0,1),o(3,1,1),o(12,0,0),o(15,1,0));const c=e.width/2,u=e.height/2,l=-c+e.padding,d=c-e.padding,h=u-e.padding,f=-u+e.padding;i(0,-c,u),i(1,l,u),i(2,d,u),i(3,c,u),i(4,-c,h),i(5,l,h),i(6,d,h),i(7,c,h),i(8,-c,f),i(9,l,f),i(10,d,f),i(11,c,f),i(13,l,-u),i(14,d,-u),i(12,-c,-u),i(15,c,-u),this.geometry.attributes.position.needsUpdate=!0,this.geometry.attributes.uv.needsUpdate=!0},update:function(e){const t=this.data,n=AFRAME.utils.diff(t,e);t.usingCustomMaterial||(this.plane.material.alphaTest=t.alphaTest,this.plane.material.color.setStyle(t.color),this.plane.material.opacity=t.opacity,this.plane.material.transparent=t.transparent,this.plane.material.wireframe=t.debug,this.plane.material.side=function(e){switch(e){case"back":return THREE.BackSide;case"double":return THREE.DoubleSide;default:return THREE.FrontSide}}(t.side),this.plane.material.needsUpdate=!0,"src"in n&&this.updateMap()),("width"in n||"height"in n||"padding"in n||"left"in n||"top"in n||"bottom"in n||"right"in n)&&this.regenerateMesh()},setMap(e){this.plane.material.map=e,this.plane.material.needsUpdate=!0,this.regenerateMesh()},updateMap:function(){const e=this.data.src;if(e){if(e===this.textureSrc)return;return this.textureSrc=e,void this.setMap(x[e].tex)}this.plane.material.map&&this.setMap(null)}});n(525),n(526),n(527);var _=n(171),A=(n(528),n(529),n(530),n(24));AFRAME.registerComponent("loop-animation",{schema:{paused:{type:"boolean",default:!1},clip:{type:"string",default:""},activeClipIndex:{type:"int",default:0},activeClipIndices:{type:"array"}},init(){this.mixerEl=Object(r.a)(this.el,"animation-mixer"),this.currentActions=[],this.mixerEl||console.warn("loop-animation component could not find an animation-mixer in its ancestors.")},update(e){if(this.mixerEl&&(e.clip===this.data.clip&&e.activeClipIndex===this.data.activeClipIndex||this.updateClip(),e.paused!==this.data.paused))for(let e=0;e<this.currentActions.length;e++)this.currentActions[e].paused=this.data.paused},updateClip(){const{mixer:e,animations:t}=this.mixerEl.components["animation-mixer"],{clip:n,activeClipIndex:r}=this.data,{activeClipIndices:a}=this.data;if(0===t.length)return;let i=[];if(a&&a.length>0)i=a.map(e=>t[e]);else if(""!==n){const e=n.split(",");for(let n=0;n<e.length;n++){const r=e[n],a=t.find(({name:e})=>e===r);a?i.push(a):console.warn("Could not find animation named '".concat(r,"' in ").concat(this.el.className))}}else i=[t[r]];if(i&&i.length){this.currentActions.length=0;for(let t=0;t<i.length;t++){const n=e.clipAction(i[t],this.el.object3D);n.enabled=!0,n.setLoop(THREE.LoopRepeat,1/0).play(),this.currentActions.push(n)}}},destroy(){for(let e=0;e<this.currentActions.length;e++)this.currentActions[e].enabled=!1,this.currentActions[e].stop();this.currentActions.length=0}});n(390);var L=n(116),S=n(19),k=n(320),M=n(12),T=n(396),R=n.n(T),C=n(25),P=n(11),O=n(27);function D(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){D(i,r,a,o,s,"next",e)}function s(e){D(i,r,a,o,s,"throw",e)}o(void 0)}))}}let Z;Object(a.b)().then(()=>{Object(_.b)(R.a).then(e=>{Z=e})});const j=Object(M.a)("batchMeshes"),F=Object(M.a)("batchImages"),U=Object(M.a)("disableBatching");AFRAME.registerComponent("media-loader",{schema:{playSoundEffect:{default:!0},fileId:{type:"string"},fileIsOwned:{type:"boolean"},src:{type:"string"},version:{type:"number",default:1},fitToBox:{default:!1},moveTheParentNotTheMesh:{default:!1},resolve:{default:!1},contentType:{default:null},contentSubtype:{default:null},animate:{default:!0},linkedEl:{default:null},mediaOptions:{default:{},parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.onError=this.onError.bind(this),this.showLoader=this.showLoader.bind(this),this.clearLoadingTimeout=this.clearLoadingTimeout.bind(this),this.onMediaLoaded=this.onMediaLoaded.bind(this),this.handleLinkedElRemoved=this.handleLinkedElRemoved.bind(this),this.refresh=this.refresh.bind(this),this.animating=!1;try{NAF.utils.getNetworkedEntity(this.el).then(e=>{this.networkedEl=e}).catch(()=>{})}catch(e){}},updateScale:function(){const e=new THREE.Vector3,t=new THREE.Matrix4,n=new THREE.Matrix4,r=new THREE.Vector3,a=new THREE.Quaternion,i=new THREE.Vector3,o=new THREE.Box3;return function(s,c){this.el.object3D.updateMatrices();const u=this.el.getObject3D("mesh");if(u.updateMatrices(),c)s&&console.warn("Unexpected combination of inputs. Can fit the mesh to a box OR move the parent to the mesh, but did not expect to do both.",this.el),t.copy(u.matrixWorld),Object(L.b)(u,o),e.addVectors(o.min,o.max).multiplyScalar(.5),this.el.object3D.matrixWorld.decompose(r,a,i),n.compose(e,a,i),Object(P.n)(this.el.object3D,n),u.updateMatrices(),Object(P.n)(u,t);else{const t=Object(L.c)(this.el,u),n=s?Object(L.d)(.5,t):1,{min:r,max:a}=t;e.addVectors(r,a).multiplyScalar(.5*n),u.scale.multiplyScalar(n),u.position.sub(e),u.matrixNeedsUpdate=!0}}}(),removeShape(e){this.el.getAttribute("shape-helper__"+e)&&this.el.removeAttribute("shape-helper__"+e)},tick(e,t){this.loaderMixer&&this.loaderMixer.update(t/1e3)},handleLinkedElRemoved(e){"media-loader"===e.detail.name&&(this.data.linkedEl.removeEventListener("componentremoved",this.handleLinkedElRemoved),Object(f.f)())},remove(){this.data.linkedEl&&this.data.linkedEl.removeEventListener("componentremoved",this.handleLinkedElRemoved);const e=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem;this.loadingSoundEffect&&(e.stopPositionalAudio(this.loadingSoundEffect),this.loadingSoundEffect=null),this.loadedSoundEffect&&(e.stopPositionalAudio(this.loadedSoundEffect),this.loadedSoundEffect=null)},onError(){this.el.removeAttribute("gltf-model-plus"),this.el.removeAttribute("media-pager"),this.el.removeAttribute("media-video"),this.el.removeAttribute("audio-zone-source"),this.el.removeAttribute("media-pdf"),this.el.setAttribute("media-image",{src:"error"}),this.clearLoadingTimeout()},showLoader(){if(this.el.object3DMap.mesh)return void this.clearLoadingTimeout();const e=!!Z,t=e?Object(P.e)(Z.scene):new THREE.Mesh(new THREE.BoxGeometry,new THREE.MeshBasicMaterial);this.el.setObject3D("mesh",t),this.updateScale(!0,!1),e&&(this.loaderMixer=new THREE.AnimationMixer(t),this.loadingClip=this.loaderMixer.clipAction(t.animations[0]),this.loadingScaleClip=this.loaderMixer.clipAction(new THREE.AnimationClip(null,1e3,[new THREE.VectorKeyframeTrack(".scale",[0,.2],[0,0,0,t.scale.x,t.scale.y,t.scale.z])])),setTimeout(()=>{this.loaderMixer&&this.el.setAttribute("shape-helper__loader",{type:O.SHAPE.BOX})},200),this.loadingClip.play(),this.loadingScaleClip.play()),this.el.sceneEl.is("entered")&&(!this.networkedEl||NAF.utils.isMine(this.networkedEl))&&this.data.playSoundEffect&&(this.loadingSoundEffect=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playPositionalSoundFollowing(C.h,this.el.object3D,!0)),delete this.showLoaderTimeout},clearLoadingTimeout(){clearTimeout(this.showLoaderTimeout),this.loadingSoundEffect&&(this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.stopPositionalAudio(this.loadingSoundEffect),this.loadingSoundEffect=null),this.loaderMixer&&(this.loadingClip.stop(),this.loadingScaleClip.stop(),delete this.loaderMixer,delete this.loadingScaleClip,delete this.loadingClip),delete this.showLoaderTimeout,this.removeShape("loader")},updateHoverableVisuals:function(){const e=new THREE.Box3,t=new THREE.Sphere;return function(){const n=this.el.components["hoverable-visuals"];n&&(this.injectedCustomShaderChunks||(this.injectedCustomShaderChunks=!0,n.uniforms=Object(f.m)(this.el.object3D)),e.setFromObject(this.el.object3DMap.mesh),e.getBoundingSphere(t),n.geometryRadius=t.radius/this.el.object3D.scale.y)}}(),onMediaLoaded(e=null,t){const n=this.el;this.clearLoadingTimeout(),this.el.sceneEl.is("entered")&&this.data.playSoundEffect&&(this.loadedSoundEffect=this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playPositionalSoundFollowing(C.g,this.el.object3D,!1));const r=()=>{this.animating=!1,e&&n.setAttribute("shape-helper",{type:e,minHalfExtent:.04}),this.updateHoverableVisuals(),this.data.linkedEl&&(this.el.sceneEl.systems["linked-media"].registerLinkage(this.data.linkedEl,this.el),this.data.linkedEl.addEventListener("componentremoved",this.handleLinkedElRemoved)),n.emit("media-loaded")};if(this.data.animate){if(!this.animating){this.animating=!0,t&&this.updateScale(this.data.fitToBox,this.data.moveTheParentNotTheMesh);const e=this.el.getObject3D("mesh"),n={x:.001,y:.001,z:.001};n.x=e.scale.x<n.x?.001*e.scale.x:n.x,n.y=e.scale.y<n.y?.001*e.scale.x:n.y,n.z=e.scale.z<n.z?.001*e.scale.x:n.z,Object(f.d)(e,n,r)}}else t&&this.updateScale(this.data.fitToBox,this.data.moveTheParentNotTheMesh),r()},refresh(){(!this.networkedEl||NAF.utils.isMine(this.networkedEl)||NAF.utils.takeOwnership(this.networkedEl))&&this.el.setAttribute("media-loader",{version:Math.floor(Date.now()/1e3)})},update(e,t){var n=this;return I((function*(){const{version:r,contentSubtype:a}=n.data;let i=n.data.src;if(!i)return;const o=e.src!==i;!(!e.version||e.version===r)&&(n.el.emit("media_refreshing"),n.data.animate=!1,n.data.playSoundEffect=NAF.utils.isMine(n.networkedEl)),t&&(n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-pager"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-image"));try{!t&&!o||n.showLoaderTimeout||(n.showLoaderTimeout=setTimeout(n.showLoader,100)),"#"===i.charAt(0)&&(i=n.data.src="".concat(window.location.origin).concat(window.location.pathname).concat(window.location.search).concat(i));let e,c=i,u=null,l=i,d=n.data.contentType;const h=new URL(i),p=Object(S.i)(h.hostname)&&(Object(S.c)(i)||"").startsWith("model/gltf");if(n.data.resolve&&!i.startsWith("data:")&&!i.startsWith("hubs:")&&!p){const a=!(!n.data.mediaOptions.projection||!n.data.mediaOptions.projection.startsWith("360")),o=Object(f.j)(a),s=yield Object(f.n)(i,o,r,t);c=s.origin,c.startsWith("//")&&(c=location.protocol+c),u=s.origin_audio,u&&u.startsWith("//")&&(u=location.protocol+u),d=s.meta&&s.meta.expected_content_type||d,e=s.meta&&s.meta.thumbnail&&Object(S.j)(s.meta.thumbnail)}if(l=Object(S.j)(c),d=d||Object(S.c)(c)||(yield(s=l,fetch(s,{method:"HEAD"}).then(e=>e.headers.get("content-type")))),"application/octet-stream"===d&&(d=Object(S.c)(c)||d),"audio/x-mpegurl"!==d&&"audio/mpegurl"!==d||(d="application/vnd.apple.mpegurl"),t||o?n.el.emit("media_resolved",{src:i,raw:l,contentType:d}):n.el.emit("media_refreshed",{src:i,raw:l,contentType:d}),d.startsWith("video/")||d.startsWith("audio/")||d.startsWith("application/dash")||AFRAME.utils.material.isHLS(c,d)){let e,t,r;if(n.data.linkedEl){const a=n.data.linkedEl.components["media-video"];e=a.videoTexture,t=a.audioSource,r=a.mediaElementAudioSource}const a=parseInt(h.searchParams.get("t")),i=parseInt(new URLSearchParams(h.hash.substring(1)).get("t"))||a||0;n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-image"),n.el.removeAttribute("media-pdf"),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.addEventListener("video-loaded",e=>{n.onMediaLoaded("flat"===e.detail.projection?O.SHAPE.BOX:null)},{once:!0}),n.el.setAttribute("media-video",Object.assign({},n.data.mediaOptions,{src:l,audioSrc:u?Object(S.j)(u):null,time:i,contentType:d,linkedVideoTexture:e,linkedAudioSource:t,linkedMediaElementAudioSource:r})),n.el.setAttribute("audio-zone-source",{}),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0})}else if(d.startsWith("image/")){n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("image-loaded",e=>{n.onMediaLoaded("flat"===e.detail.projection?O.SHAPE.BOX:null),"photo-camera"===a?n.el.setAttribute("hover-menu__photo",{template:"#photo-hover-menu",isFlat:!0}):n.data.mediaOptions.href&&n.el.setAttribute("hover-menu__link",{template:"#link-hover-menu",isFlat:!0})},{once:!0}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1});let e=!U&&F;n.data.mediaOptions.hasOwnProperty("batch")&&!n.data.mediaOptions.batch&&(e=!1),n.el.setAttribute("media-image",Object.assign({},n.data.mediaOptions,{src:l,version:r,contentType:d,batch:e})),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0})}else if(d.startsWith("application/pdf"))n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-image"),n.el.setAttribute("media-pdf",Object.assign({},n.data.mediaOptions,{src:l,contentType:d,batch:!1})),n.el.setAttribute("media-pager",{}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1}),n.el.addEventListener("pdf-loaded",()=>{n.clearLoadingTimeout(),n.onMediaLoaded(O.SHAPE.BOX)},{once:!0}),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0});else if(d.includes("application/octet-stream")||d.includes("x-zip-compressed")||d.startsWith("model/gltf")){n.el.removeAttribute("media-image"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("model-loaded",()=>{n.onMediaLoaded(O.SHAPE.HULL,!0),Object(k.a)(n.el)},{once:!0}),n.el.addEventListener("model-error",n.onError,{once:!0});let e=!U&&j;n.data.mediaOptions.hasOwnProperty("batch")&&!n.data.mediaOptions.batch&&(e=!1),n.data.mediaOptions.hasOwnProperty("applyGravity")&&n.el.setAttribute("floaty-object",{modifyGravityOnRelease:!n.data.mediaOptions.applyGravity}),n.el.setAttribute("gltf-model-plus",Object.assign({},n.data.mediaOptions,{src:l,contentType:d,inflate:!0,batch:e,modelToWorldScale:n.data.fitToBox?1e-4:1}))}else{if(!d.startsWith("text/html"))throw new Error("Unsupported content type: ".concat(d));{n.el.removeAttribute("gltf-model-plus"),n.el.removeAttribute("media-video"),n.el.removeAttribute("audio-zone-source"),n.el.removeAttribute("media-pdf"),n.el.removeAttribute("media-pager"),n.el.addEventListener("image-loaded",I((function*(){const e=n.el.sceneEl.systems.permissions.can("update_hub");(yield Object(S.f)(i))?n.el.setAttribute("hover-menu__hubs-item",{template:"#avatar-link-hover-menu",isFlat:!0}):(yield Object(S.e)(i))||(yield Object(S.g)(i))&&e?n.el.setAttribute("hover-menu__hubs-item",{template:"#hubs-destination-hover-menu",isFlat:!0}):n.el.setAttribute("hover-menu__link",{template:"#link-hover-menu",isFlat:!0}),n.onMediaLoaded(O.SHAPE.BOX)})),{once:!0}),n.el.setAttribute("floaty-object",{reduceAngularFloat:!0,releaseGravity:-1});let t=!U&&F;n.data.mediaOptions.hasOwnProperty("batch")&&!n.data.mediaOptions.batch&&(t=!1),n.el.setAttribute("media-image",Object.assign({},n.data.mediaOptions,{src:e,version:r,contentType:Object(S.c)(e)||"image/png",batch:t})),n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0})}}}catch(e){n.el.components["position-at-border__freeze"]&&n.el.setAttribute("position-at-border__freeze",{isFlat:!0}),n.el.components["position-at-border__freeze-unprivileged"]&&n.el.setAttribute("position-at-border__freeze-unprivileged",{isFlat:!0}),console.error("Error adding media",e),n.onError()}var s}))()}}),AFRAME.registerComponent("media-pager",{schema:{index:{default:0},maxIndex:{default:0}},init(){var e=this;this.onNext=this.onNext.bind(this),this.onPrev=this.onPrev.bind(this),this.onSnap=this.onSnap.bind(this),this.update=this.update.bind(this),this.el.setAttribute("hover-menu__pager",{template:"#pager-hover-menu",isFlat:!0}),this.el.components["hover-menu__pager"].getHoverMenu().then(e=>{this.el.parentNode&&(this.hoverMenu=e,this.nextButton=this.el.querySelector(".next-button [text-button]"),this.prevButton=this.el.querySelector(".prev-button [text-button]"),this.snapButton=this.el.querySelector(".snap-button [text-button]"),this.pageLabel=this.el.querySelector(".page-label"),this.nextButton.object3D.addEventListener("interact",this.onNext),this.prevButton.object3D.addEventListener("interact",this.onPrev),this.snapButton.object3D.addEventListener("interact",this.onSnap),this.update(),this.el.emit("pager-loaded"))}),NAF.utils.getNetworkedEntity(this.el).then(e=>{this.networkedEl=e,this.networkedEl.addEventListener("pinned",this.update),this.networkedEl.addEventListener("unpinned",this.update),window.APP.hubChannel.addEventListener("permissions_updated",this.update)}).catch(()=>{}),this.el.addEventListener("pdf-loaded",I((function*(){e.update()})))},update(e){var t=this;return I((function*(){if(t.networkedEl&&NAF.utils.isMine(t.networkedEl)&&e&&"number"==typeof e.index&&e.index!==t.data.index&&t.el.emit("owned-pager-page-changed"),t.pageLabel&&t.pageLabel.setAttribute("text","value","".concat(t.data.index+1,"/").concat(t.data.maxIndex+1)),t.prevButton&&t.nextButton){const e=t.el.components["media-loader"].data.linkedEl||t.el,n=e.components.pinnable&&e.components.pinnable.data.pinned;t.prevButton.object3D.visible=t.nextButton.object3D.visible=!n||window.APP.hubChannel.can("pin_objects")}}))()},onNext(){if(this.networkedEl&&!NAF.utils.isMine(this.networkedEl)&&!NAF.utils.takeOwnership(this.networkedEl))return;const e=Math.min(this.data.index+1,this.data.maxIndex);this.el.setAttribute("media-pdf","index",e),this.el.setAttribute("media-pager","index",e)},onPrev(){if(this.networkedEl&&!NAF.utils.isMine(this.networkedEl)&&!NAF.utils.takeOwnership(this.networkedEl))return;const e=Math.max(this.data.index-1,0);this.el.setAttribute("media-pdf","index",e),this.el.setAttribute("media-pager","index",e)},onSnap(){this.el.emit("pager-snap-clicked")},remove(){this.networkedEl&&(this.networkedEl.removeEventListener("pinned",this.update),this.networkedEl.removeEventListener("unpinned",this.update)),window.APP.hubChannel.removeEventListener("permissions_updated",this.update)}});n(531);AFRAME.registerComponent("quack",{schema:{quackPercentage:{default:1},specialQuackPercentage:{default:.01}},init:function(){this.wasInteracting=!1,NAF.utils.getNetworkedEntity(this.el).then(e=>{this.networkedEntity=e})},tick:function(){const e=AFRAME.scenes[0].systems.interaction.isHeld(this.networkedEntity||this.el);e&&!this.wasInteracting&&this.quack(),this.wasInteracting=e},quack:function(){const e=Math.random();e<this.data.specialQuackPercentage?this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playSoundOneShot(C.s):e<this.data.quackPercentage&&this.el.sceneEl.systems["hubs-systems"].soundEffectsSystem.playSoundOneShot(C.n)}});var N=n(140);function B(e,t,n){return(1-n)*e+n*t}const z=new THREE.Quaternion;AFRAME.registerComponent("scene-preview-camera",{schema:{duration:{default:90,type:"number"},positionOnly:{default:!1,type:"boolean"}},init:function(){const e=AFRAME.scenes[0].systems["hubs-systems"]||AFRAME.scenes[0].systems["scene-systems"];e&&e.scenePreviewCameraSystem.register(this.el),this.startPoint=this.el.object3D.position.clone(),this.startRotation=this.el.object3D.quaternion.clone(),this.targetPoint=this.el.object3D.position.clone(),this.targetPoint.y=Math.max(this.targetPoint.y-1.5,1),this.targetPoint.add(new THREE.Vector3(2,0,-2));const t=new THREE.Euler(-.15,0,.15);this.targetRotation=new THREE.Quaternion,this.targetRotation.setFromEuler(t),this.targetRotation.premultiply(this.startRotation),this.startTime=performance.now(),this.backwards=!1,this.ranOnePass=!1},tick2:function(){const e=this.el.sceneEl.systems["hubs-systems"];let t;if(e&&(e.cameraSystem.mode=N.c,t=function(){const e=Object(o.b)();return e?e.el.querySelector(".camera").object3D:null}()),t)Object(P.n)(this.el.object3D,t.matrixWorld),this.el.object3D.translateZ(-.1),this.el.object3D.matrixNeedsUpdate=!0;else{let e=(performance.now()-this.startTime)/(1e3*this.data.duration);e=Math.min(1,Math.max(0,e)),this.ranOnePass?e=e<.5?2*e*e:(4-2*e)*e-1:e*=2-e;const t=this.backwards?this.targetPoint:this.startPoint,n=this.backwards?this.startPoint:this.targetPoint,r=this.backwards?this.targetRotation:this.startRotation,a=this.backwards?this.startRotation:this.targetRotation;z.slerpQuaternions(r,a,e),this.el.object3D.position.set(B(t.x,n.x,e),B(t.y,n.y,e),B(t.z,n.z,e)),this.data.positionOnly||this.el.object3D.rotation.setFromQuaternion(z),this.el.object3D.matrixNeedsUpdate=!0,e>=.9999&&(this.ranOnePass=!0,this.backwards=!this.backwards,this.startTime=performance.now())}},remove:function(){var e,t;const n=(null===(e=AFRAME.scenes[0])||void 0===e?void 0:e.systems["hubs-systems"])||(null===(t=AFRAME.scenes[0])||void 0===t?void 0:t.systems["scene-systems"]);n&&n.scenePreviewCameraSystem.unregister(this.el)}}),n(674);const{AmbientLight:H,BackSide:G,BoxBufferGeometry:V,CubeCamera:W,LightProbeGenerator:q,LinearFilter:Y,Mesh:K,Object3D:X,PMREMGenerator:Q,RGBAFormat:J,Scene:$,ShaderMaterial:ee,sRGBEncoding:te,UniformsLib:ne,UniformsUtils:re,Vector3:ae,WebGLCubeRenderTarget:ie}=THREE;class oe extends X{constructor(){super();const e=new ee({fragmentShader:oe.shader.fragmentShader,vertexShader:oe.shader.vertexShader,uniforms:re.clone(oe.shader.uniforms),side:G,fog:!0});this.sky=new K(oe._geometry,e),this.sky.name="Sky",this.add(this.sky),this._inclination=0,this._azimuth=.15,this._distance=8e3,this.updateSunPosition()}get turbidity(){return this.sky.material.uniforms.turbidity.value}set turbidity(e){this.sky.material.uniforms.turbidity.value=e}get rayleigh(){return this.sky.material.uniforms.rayleigh.value}set rayleigh(e){this.sky.material.uniforms.rayleigh.value=e}get luminance(){return this.sky.material.uniforms.luminance.value}set luminance(e){this.sky.material.uniforms.luminance.value=e}get mieCoefficient(){return this.sky.material.uniforms.mieCoefficient.value}set mieCoefficient(e){this.sky.material.uniforms.mieCoefficient.value=e}get mieDirectionalG(){return this.sky.material.uniforms.mieDirectionalG.value}set mieDirectionalG(e){this.sky.material.uniforms.mieDirectionalG.value=e}get inclination(){return this._inclination}set inclination(e){this._inclination=e,this.updateSunPosition()}get azimuth(){return this._azimuth}set azimuth(e){this._azimuth=e,this.updateSunPosition()}get distance(){return this._distance}set distance(e){this._distance=e,this.updateSunPosition()}updateSunPosition(){const e=Math.PI*(this._inclination-.5),t=2*Math.PI*(this._azimuth-.5),n=Math.min(1e3,this._distance),r=n*Math.cos(t),a=n*Math.sin(t)*Math.sin(e),i=n*Math.sin(t)*Math.cos(e);this.sky.material.uniforms.sunPosition.value.set(r,a,i).normalize(),this.sky.scale.set(n,n,n)}generateEnvironmentMap(e){const t=new $,n=new W(1,1e5,new ie(512));t.add(n),t.add(this.sky),n.update(e,t),this.add(this.sky);const r=e.xr.enabled;e.xr.enabled=!1;const a=new Q(e),i=a.fromCubemap(n.renderTarget.texture).texture;return e.xr.enabled=r,a.dispose(),n.renderTarget.dispose(),i}generateLightProbe(e){const t=new $;t.add(this.sky);const n=new W(1,1e5,new ie(512,{format:J,magFilter:Y,minFilter:Y,encoding:te}));t.add(n),t.add(this.sky),n.update(e,t),this.add(this.sky);const r=q.fromCubeRenderTarget(e,n.renderTarget);return n.renderTarget.dispose(),r}copy(e,t=!0){if(t&&this.remove(this.sky),super.copy(e,t),t){const t=e.children.indexOf(e.sky);-1!==t&&(this.sky=this.children[t])}return this.turbidity=e.turbidity,this.rayleigh=e.rayleigh,this.luminance=e.luminance,this.mieCoefficient=e.mieCoefficient,this.mieDirectionalG=e.mieDirectionalG,this.inclination=e.inclination,this.azimuth=e.azimuth,this.distance=e.distance,this}}oe.shader={uniforms:re.merge([ne.fog,{luminance:{value:1},turbidity:{value:10},rayleigh:{value:2},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new ae}}]),vertexShader:"\n#include <common>\n#include <fog_pars_vertex>\n\nuniform vec3 sunPosition;\nuniform float rayleigh;\nuniform float turbidity;\nuniform float mieCoefficient;\n\nvarying vec3 vWorldPosition;\nvarying vec3 vSunDirection;\nvarying float vSunfade;\nvarying vec3 vBetaR;\nvarying vec3 vBetaM;\nvarying float vSunE;\n\nconst vec3 up = vec3( 0.0, 1.0, 0.0 );\n\n// constants for atmospheric scattering\nconst float e = 2.71828182845904523536028747135266249775724709369995957;\nconst float pi = 3.141592653589793238462643383279502884197169;\n\n// wavelength of used primaries, according to preetham\nconst vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );\n// this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:\n// (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))\nconst vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );\n\n// mie stuff\n// K coefficient for the primaries\nconst float v = 4.0;\nconst vec3 K = vec3( 0.686, 0.678, 0.666 );\n// MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K\nconst vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );\n\n// earth shadow hack\n// cutoffAngle = pi / 1.95;\nconst float cutoffAngle = 1.6110731556870734;\nconst float steepness = 1.5;\nconst float EE = 1000.0;\n\nfloat sunIntensity( float zenithAngleCos ) {\n  zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );\n  return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );\n}\n\nvec3 totalMie( float T ) {\n  float c = ( 0.2 * T ) * 10E-18;\n  return 0.434 * c * MieConst;\n}\n\nvoid main() {\n  #include <begin_vertex>\n\n  vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n  vWorldPosition = worldPosition.xyz;\n\n  #include <project_vertex>\n\n  vSunDirection = normalize( sunPosition );\n\n  vSunE = sunIntensity( dot( vSunDirection, up ) );\n\n  vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );\n\n  float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );\n\n  // extinction (absorbtion + out scattering)\n  // rayleigh coefficients\n  vBetaR = totalRayleigh * rayleighCoefficient;\n\n  // mie coefficients\n  vBetaM = totalMie( turbidity ) * mieCoefficient;\n\n  #include <fog_vertex>\n}\n",fragmentShader:"\n#include <common>\n#include <fog_pars_fragment>\n\nvarying vec3 vWorldPosition;\nvarying vec3 vSunDirection;\nvarying float vSunfade;\nvarying vec3 vBetaR;\nvarying vec3 vBetaM;\nvarying float vSunE;\n\nuniform float luminance;\nuniform float mieDirectionalG;\n\nconst vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );\n\n// constants for atmospheric scattering\nconst float pi = 3.141592653589793238462643383279502884197169;\n\nconst float n = 1.0003; // refractive index of air\nconst float N = 2.545E25; // number of molecules per unit volume for air at\n// 288.15K and 1013mb (sea level -45 celsius)\n\n// optical length at zenith for molecules\nconst float rayleighZenithLength = 8.4E3;\nconst float mieZenithLength = 1.25E3;\nconst vec3 up = vec3( 0.0, 1.0, 0.0 );\n// 66 arc seconds -> degrees, and the cosine of that\nconst float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;\n\n// 3.0 / ( 16.0 * pi )\nconst float THREE_OVER_SIXTEENPI = 0.05968310365946075;\n// 1.0 / ( 4.0 * pi )\nconst float ONE_OVER_FOURPI = 0.07957747154594767;\n\nfloat rayleighPhase( float cosTheta ) {\n  return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );\n}\n\nfloat hgPhase( float cosTheta, float g ) {\n  float g2 = pow( g, 2.0 );\n  float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );\n  return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );\n}\n\n// Filmic ToneMapping http://filmicgames.com/archives/75\nconst float A = 0.15;\nconst float B = 0.50;\nconst float C = 0.10;\nconst float D = 0.20;\nconst float E = 0.02;\nconst float F = 0.30;\n\nconst float whiteScale = 1.0748724675633854; // 1.0 / Uncharted2Tonemap(1000.0)\n\nvec3 Uncharted2Tonemap( vec3 x ) {\n  return ( ( x * ( A * x + C * B ) + D * E ) / ( x * ( A * x + B ) + D * F ) ) - E / F;\n}\n\nvoid main() {\n  // optical length\n  // cutoff angle at 90 to avoid singularity in next formula.\n  float zenithAngle = acos( max( 0.0, dot( up, normalize( vWorldPosition - cameraPos ) ) ) );\n  float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );\n  float sR = rayleighZenithLength * inverse;\n  float sM = mieZenithLength * inverse;\n\n  // combined extinction factor\n  vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );\n\n  // in scattering\n  float cosTheta = dot( normalize( vWorldPosition - cameraPos ), vSunDirection );\n\n  float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );\n  vec3 betaRTheta = vBetaR * rPhase;\n\n  float mPhase = hgPhase( cosTheta, mieDirectionalG );\n  vec3 betaMTheta = vBetaM * mPhase;\n\n  vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );\n  Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );\n\n  // nightsky\n  vec3 direction = normalize( vWorldPosition - cameraPos );\n  float theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]\n  float phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]\n  vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );\n  vec3 L0 = vec3( 0.1 ) * Fex;\n\n  // composition + solar disc\n  float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );\n  L0 += ( vSunE * 19000.0 * Fex ) * sundisk;\n\n  vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );\n\n  vec3 curr = Uncharted2Tonemap( ( log2( 2.0 / pow( luminance, 4.0 ) ) ) * texColor );\n  vec3 color = curr * whiteScale;\n\n  vec3 retColor = pow( color, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );\n\n  gl_FragColor = vec4( retColor, 1.0 );\n\n  #include <fog_fragment>\n}\n"},oe._geometry=new V(1,1,1),AFRAME.registerComponent("skybox",{schema:{turbidity:{type:"number",default:10},rayleigh:{type:"number",default:2},luminance:{type:"number",default:1},mieCoefficient:{type:"number",default:.005},mieDirectionalG:{type:"number",default:.8},inclination:{type:"number",default:0},azimuth:{type:"number",default:.15},distance:{type:"number",default:8e3}},init(){this.sky=new oe,this.el.setObject3D("mesh",this.sky)},update(e){if(this.data.turbidity!==e.turbidity&&(this.sky.turbidity=this.data.turbidity),this.data.rayleigh!==e.rayleigh&&(this.sky.rayleigh=this.data.rayleigh),this.data.luminance!==e.luminance&&(this.sky.luminance=this.data.luminance),this.data.mieCoefficient!==e.mieCoefficient&&(this.sky.mieCoefficient=this.data.mieCoefficient),this.data.mieDirectionalG!==e.mieDirectionalG&&(this.sky.mieDirectionalG=this.data.mieDirectionalG),this.data.inclination!==e.inclination&&(this.sky.inclination=this.data.inclination,this.el.object3D.matrixNeedsUpdate=!0),this.data.azimuth!==e.azimuth&&(this.sky.azimuth=this.data.azimuth,this.el.object3D.matrixNeedsUpdate=!0),this.data.distance!==e.distance){const e=this.data.distance;this.sky.distance=1===this.el.object3D.scale.x?e:1,this.sky.matrixNeedsUpdate=!0}"medium"===window.APP.store.state.preferences.materialQualitySetting&&(this.el.setObject3D("ambient-light",new H(16777215,.3)),this.el.setObject3D("light-probe",this.sky.generateLightProbe(this.el.sceneEl.renderer)))},remove(){this.el.removeObject3D("mesh")}}),AFRAME.registerComponent("spawn-controller",{schema:{target:{type:"selector"},camera:{type:"selector",default:"#avatar-pov-node"},playerHeight:{default:1.6},loadedEvent:{type:"string"}},init(){this.moveToSpawnPoint=this.moveToSpawnPoint.bind(this),Object(a.b)().then(()=>{this.data.target.addEventListener(this.data.loadedEvent,this.moveToSpawnPoint)})},moveToSpawnPoint(){const e=document.querySelectorAll("[spawn-point]");if(0===e.length)return;const t=this.data.camera,n=e[Math.round((e.length-1)*Math.random())];Object(P.j)(n.object3D,this.el.object3D.position),this.el.object3D.rotation.copy(n.object3D.rotation),this.el.sceneEl.is("vr-mode")?this.el.object3D.rotation.y-=this.data.camera.object3D.rotation.y:(t.object3D.position.set(0,this.data.playerHeight,0),t.object3D.rotation.set(0,0,0),t.object3D.matrixNeedsUpdate=!0),this.el.object3D.rotation.y+=Math.PI,this.el.object3D.matrixNeedsUpdate=!0}}),AFRAME.registerComponent("spawn-point",{init(){this.el.object3D.visible=!1}});n(532),n(533);var se=n(80),ce=n(2);function ue(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}const le=n(209).COLLISION_LAYERS;AFRAME.registerComponent("super-spawner",{schema:{src:{default:""},resolve:{default:!1},template:{default:""},spawnScale:{type:"vec3",default:{x:NaN,y:NaN,z:NaN}},spawnCooldown:{default:1},spawnEvent:{type:"string"},animateFromCursor:{type:"boolean"},mediaOptions:{default:{},parse:e=>"object"==typeof e?e:JSON.parse(e),stringify:JSON.stringify}},init(){this.cooldownTimeout=null,this.handPosition=new THREE.Vector3,this.onSpawnEvent=this.onSpawnEvent.bind(this),this.sceneEl=this.el.sceneEl,this.tempSpawnHandPosition=new THREE.Vector3,this.handleMediaLoaded=this.handleMediaLoaded.bind(this),this.spawnedMediaScale=null,this.physicsSystem=this.el.sceneEl.systems["hubs-systems"].physicsSystem},play(){this.el.addEventListener("media-loaded",this.handleMediaLoaded),this.data.spawnEvent&&this.el.sceneEl.addEventListener(this.data.spawnEvent,this.onSpawnEvent)},pause(){this.el.removeEventListener("media-loaded",this.handleMediaLoaded),this.data.spawnEvent&&this.el.sceneEl.removeEventListener(this.data.spawnEvent,this.onSpawnEvent),this.cooldownTimeout&&(clearTimeout(this.cooldownTimeout),this.cooldownTimeout=null,this.el.setAttribute("visible",!0),this.el.classList.add("interactable"))},handleMediaLoaded(e){const t=e.target;var n,r;this.spawnedMediaScale=t.object3D.scale.clone(),n=this.spawnedMediaScale,r=this.data.spawnScale,n.set(null===r.x?n.x:r.x,null===r.y?n.y:r.y,null===r.z?n.z:r.z);const a=t.components["media-image"]||t.components["media-video"]||t.components["media-pdf"]?1:.5,i=Object(L.d)(a,Object(L.c)(t,t.object3D));this.spawnedMediaScale.divideScalar(i)},onSpawnEvent(e){var t,n=this;return(t=function*(){if(n.cooldownTimeout||!n.el.sceneEl.is("entered"))return;const t=Object(f.c)(n.data.src,n.data.template,se.a.SPAWNER,null,n.data.resolve,!1,{x:null===n.data.spawnScale.x?1:n.data.spawnScale.x,y:null===n.data.spawnScale.y?1:n.data.spawnScale.y,z:null===n.data.spawnScale.z?1:n.data.spawnScale.z},n.data.mediaOptions).entity,r=n.el.sceneEl.systems.interaction;if(!r.ready)return;const i=e.detail&&e.detail.object3D||r.options.rightRemote.entity.object3D,o=-1===i.el.id.indexOf("right"),s=o?r.options.leftHand.entity.object3D:r.options.rightHand.entity.object3D;i.getWorldPosition(t.object3D.position),i.getWorldQuaternion(t.object3D.quaternion),t.object3D.matrixNeedsUpdate=!0,n.el.emit("spawned-entity-created",{target:t});const c=AFRAME.scenes[0].systems.userinput,u=n.data.animateFromCursor&&(c.get(ce.a.actions.rightHand.matrix)||c.get(ce.a.actions.leftHand.matrix));u||(o?(r.state.leftRemote.held=t,r.state.leftRemote.spawning=!0):(r.state.rightRemote.held=t,r.state.rightRemote.spawning=!0)),n.activateCooldown(),yield Object(a.c)("model-loaded",t),i.getWorldPosition(t.object3D.position),i.getWorldQuaternion(t.object3D.quaternion),t.object3D.matrixNeedsUpdate=!0,u?(s.getWorldPosition(n.handPosition),t.setAttribute("animation__spawn-at-cursor",{property:"position",delay:500,dur:1500,from:{x:t.object3D.position.x,y:t.object3D.position.y,z:t.object3D.position.z},to:{x:n.handPosition.x,y:n.handPosition.y,z:n.handPosition.z},easing:"easeInOutBack"})):o?r.state.leftRemote.spawning=!1:r.state.rightRemote.spawning=!1,n.physicsSystem.resetDynamicBody(t.components["body-helper"].uuid),t.addEventListener("media-loaded",()=>{n.el.emit("spawned-entity-loaded",{target:t})},{once:!0})},function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(e){ue(i,r,a,o,s,"next",e)}function s(e){ue(i,r,a,o,s,"throw",e)}o(void 0)}))})()},activateCooldown(){if(this.data.spawnCooldown>0){const[e,t,n]=[this.el.object3D.scale.x,this.el.object3D.scale.y,this.el.object3D.scale.z];this.el.setAttribute("visible",!1),this.el.object3D.scale.set(.001,.001,.001),this.el.object3D.matrixNeedsUpdate=!0,this.el.classList.remove("interactable"),this.el.setAttribute("body-helper",{collisionFilterMask:le.NONE}),this.cooldownTimeout=setTimeout(()=>{this.el.setAttribute("visible",!0),this.el.classList.add("interactable"),this.el.setAttribute("body-helper",{collisionFilterMask:le.DEFAULT_SPAWNER}),this.el.removeAttribute("animation__spawner-cooldown"),this.el.setAttribute("animation__spawner-cooldown",{property:"scale",delay:50,dur:350,from:{x:.001,y:.001,z:.001},to:{x:e,y:t,z:n},easing:"easeOutElastic"}),setTimeout(()=>{this.cooldownTimeout=null},400)},1e3*this.data.spawnCooldown)}}});n(534);var de=n(268),he=n.n(de),fe=n(97);function pe(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){pe(i,r,a,o,s,"next",e)}function s(e){pe(i,r,a,o,s,"throw",e)}o(void 0)}))}}function ge(e,t){THREE.Mesh.call(this,e);const n=void 0!==(t=t||{}).time?t.time:0,r=void 0!==t.waterNormals?t.waterNormals:null,a=void 0!==t.sunDirection?t.sunDirection:new THREE.Vector3(.70707,.70707,0),i=new THREE.Color(void 0!==t.sunColor?t.sunColor:16777215),o=new THREE.Color(void 0!==t.waterColor?t.waterColor:8355711),s=void 0!==t.eye?t.eye:new THREE.Vector3(0,0,0),c=void 0!==t.distortionScale?t.distortionScale:20,u=void 0!==t.side?t.side:THREE.FrontSide,l=void 0!==t.fog&&t.fog,d={uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.lights,{normalSampler:{value:null},time:{value:0},size:{value:1},distortionScale:{value:20},sunColor:{value:new THREE.Color(8355711)},sunDirection:{value:new THREE.Vector3(.70707,.70707,0)},eye:{value:new THREE.Vector3},waterColor:{value:new THREE.Color(5592405)}}]),vertexShader:"\n      uniform float time;\n      varying vec4 worldPosition;\n\n      void main() {\n      \tworldPosition = modelMatrix * vec4( position, 1.0 );\n      \tvec4 mvPosition =  modelViewMatrix * vec4( position, 1.0 );\n      \tgl_Position = projectionMatrix * mvPosition;\n\n      }\n    ",fragmentShader:"\n      uniform float time;\n      uniform float size;\n      uniform float distortionScale;\n      uniform sampler2D normalSampler;\n      uniform vec3 sunColor;\n      uniform vec3 sunDirection;\n      uniform vec3 eye;\n      uniform vec3 waterColor;\n\n      varying vec4 worldPosition;\n\n      vec4 getNoise( vec2 uv ) {\n      \tvec2 uv0 = ( uv / 103.0 ) + vec2(time / 17.0, time / 29.0);\n      \tvec2 uv1 = uv / 107.0-vec2( time / -19.0, time / 31.0 );\n      \tvec2 uv2 = uv / vec2( 8907.0, 9803.0 ) + vec2( time / 101.0, time / 97.0 );\n      \tvec2 uv3 = uv / vec2( 1091.0, 1027.0 ) - vec2( time / 109.0, time / -113.0 );\n      \tvec4 noise = texture2D( normalSampler, uv0 ) +\n      \t\ttexture2D( normalSampler, uv1 ) +\n      \t\ttexture2D( normalSampler, uv2 ) +\n      \t\ttexture2D( normalSampler, uv3 );\n      \treturn noise * 0.5 - 1.0;\n      }\n\n      void sunLight( const vec3 surfaceNormal, const vec3 eyeDirection, float shiny, float spec, float diffuse, inout vec3 diffuseColor, inout vec3 specularColor ) {\n      \tvec3 reflection = normalize( reflect( -sunDirection, surfaceNormal ) );\n      \tfloat direction = max( 0.0, dot( eyeDirection, reflection ) );\n      \tspecularColor += pow( direction, shiny ) * sunColor * spec;\n      \tdiffuseColor += max( dot( sunDirection, surfaceNormal ), 0.0 ) * sunColor * diffuse;\n      }\n\n      ".concat(THREE.ShaderChunk.common,"\n      ").concat(THREE.ShaderChunk.packing,"\n      ").concat(THREE.ShaderChunk.bsdfs,"\n      ").concat(THREE.ShaderChunk.lights_pars_begin,"\n\n      void main() {\n      \tvec4 noise = getNoise( worldPosition.xz * size );\n      \tvec3 surfaceNormal = normalize( noise.xzy * vec3( 1.5, 1.0, 1.5 ) );\n\n      \tvec3 diffuseLight = vec3(0.0);\n      \tvec3 specularLight = vec3(0.0);\n\n      \tvec3 worldToEye = eye-worldPosition.xyz;\n      \tvec3 eyeDirection = normalize( worldToEye );\n      \tsunLight( surfaceNormal, eyeDirection, 100.0, 2.0, 0.5, diffuseLight, specularLight );\n\n      \tfloat theta = max( dot( eyeDirection, surfaceNormal ), 0.0 );\n      \tfloat rf0 = 0.3;\n      \tfloat reflectance = rf0 + ( 1.0 - rf0 ) * pow( ( 1.0 - theta ), 5.0 );\n      \tvec3 scatter = max( 0.0, dot( surfaceNormal, eyeDirection ) ) * waterColor;\n      \tvec3 albedo = mix( ( sunColor * diffuseLight * 0.3 + scatter ), ( 0.5 + specularLight ), reflectance);\n      \tvec3 outgoingLight = albedo;\n      \tgl_FragColor = vec4( outgoingLight, 1 );\n      }\n    ")},h=new THREE.ShaderMaterial({fragmentShader:d.fragmentShader,vertexShader:d.vertexShader,uniforms:THREE.UniformsUtils.clone(d.uniforms),transparent:!1,lights:!0,side:u,fog:l});h.uniforms.time.value=n,h.uniforms.normalSampler.value=r,h.uniforms.sunColor.value=i,h.uniforms.waterColor.value=o,h.uniforms.sunDirection.value=a,h.uniforms.distortionScale.value=c,h.uniforms.eye.value=s,this.material=h}function ve(){return(ve=me((function*(e){const t=yield new Promise((t,n)=>(new fe.a).load(e,t,void 0,n));return t.wrapS=t.wrapT=THREE.RepeatWrapping,t.needsUpdate=!0,t}))).apply(this,arguments)}ge.prototype=Object.create(THREE.Mesh.prototype),ge.prototype.constructor=THREE.Water,AFRAME.registerComponent("water",{schema:{waterColor:{type:"color",default:"#001e0f"},distortionScale:{type:"number",default:3.7},sunColor:{type:"color",default:"#ffffff"},inclination:{type:"number",default:0},azimuth:{type:"number",default:0},distance:{type:"number",default:1},speed:{type:"number",default:.1},forceMobile:{type:"boolean",default:!1}},init(){const e=this.el.getObject3D("mesh"),t=e.geometry;e.visible=!1,function(e){return ve.apply(this,arguments)}(he.a).then(e=>{const n={textureWidth:512,textureHeight:512,waterNormals:e,sunDirection:this.data.sunDirection,sunColor:new THREE.Color(this.data.sunColor),waterColor:new THREE.Color(this.data.waterColor),distortionScale:this.data.distortionScale,fog:!1};AFRAME.utils.device.isMobile()||AFRAME.utils.device.isMobileVR()||this.data.forceMobile?this.water=new ge(t,n):(this.water=new THREE.Water(t,n),this.water.mirrorCamera.layers.set(A.a.CAMERA_LAYER_REFLECTION)),this.el.setObject3D("water",this.water)})},update(e){if(this.data.forceMobile!==e.forceMobile)return this.el.removeObject3D("water"),void this.init();if(!this.water)return;const t=this.water.material.uniforms;if(this.data.waterColor!==e.waterColor&&t.waterColor.value.setStyle(this.data.waterColor),this.data.distortionScale!==e.distortionScale&&(t.distortionScale.value=this.data.distortionScale),this.data.sunColor!==e.sunColor&&t.sunColor.value.setStyle(this.data.sunColor),this.data.inclination!==e.inclination||this.data.azimuth!==e.azimuth||this.data.distance!==e.distance){const e=Math.PI*(this.data.inclination-.5),n=2*Math.PI*(this.data.azimuth-.5),r=this.data.distance,a=r*Math.cos(n),i=r*Math.sin(n)*Math.sin(e),o=r*Math.sin(n)*Math.cos(e);t.sunDirection.value.set(a,i,o)}},tick(e){this.water&&(this.water.material.uniforms.time.value=e/1e3*this.data.speed)},remove(){this.el.removeObject3D("water");this.el.getObject3D("mesh").visible=!0}});var be=n(471);const{Mesh:ye,PlaneBufferGeometry:we,MeshStandardMaterial:Ee,MeshPhongMaterial:xe,Vector2:_e,RepeatWrapping:Ae}=THREE;class Le{constructor(e=new _e(1,1),t=new _e(1,1),n=.0025,r=!0){this.speed=e,this.scale=t,this.height=n,this.alternate=r}}class Se extends ye{constructor(e,t=24,n=!1){const r=new we(10,10,t,t);r.rotateX(-Math.PI/2);const a={ripplesSpeed:{value:.25},ripplesScale:{value:1},time:{value:0}},i=n?xe:Ee;e.wrapS=e.wrapT=Ae;const o=new i({color:21727,normalMap:e,roughness:.5,metalness:.5});o.name="SimpleWaterMaterial",o.onBeforeCompile=e=>{Object.assign(e.uniforms,a),e.vertexShader=e.vertexShader.replace("#include <fog_pars_vertex>","\n        #include <fog_pars_vertex>\n        varying vec3 vWPosition;\n      "),e.vertexShader=e.vertexShader.replace("#include <fog_vertex>","\n        #include <fog_vertex>\n        vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;\n      "),e.fragmentShader=e.fragmentShader.replace("#include <normalmap_pars_fragment>","\n        #include <normalmap_pars_fragment>\n\n        uniform float time;\n        uniform float ripplesSpeed;\n        uniform float ripplesScale;\n      \n        varying vec3 vWPosition;\n      \n        vec4 getNoise(vec2 uv){\n          float timeOffset = time * ripplesSpeed;\n          uv = (uv - 0.5) * (1.0 / ripplesScale);\n          vec2 uv0 = (uv/103.0)+vec2(timeOffset/17.0, timeOffset/29.0);\n          vec2 uv1 = uv/107.0-vec2(timeOffset/-19.0, timeOffset/31.0);\n          vec2 uv2 = uv/vec2(897.0, 983.0)+vec2(timeOffset/101.0, timeOffset/97.0);\n          vec2 uv3 = uv/vec2(991.0, 877.0)-vec2(timeOffset/109.0, timeOffset/-113.0);\n          vec4 noise = (texture2D(normalMap, uv0)) +\n                       (texture2D(normalMap, uv1)) +\n                       (texture2D(normalMap, uv2)) +\n                       (texture2D(normalMap, uv3));\n          return noise / 4.0;\n        }\n      "),e.fragmentShader=e.fragmentShader.replace("#include <normal_fragment_maps>","\n          // Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\n          vec3 eye_pos = -vViewPosition;\n          vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n          vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n          vec2 st0 = dFdx( vUv.st );\n          vec2 st1 = dFdy( vUv.st );\n\n          float scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\n          vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n          vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n          vec3 N = normalize( normal );\n          mat3 tsn = mat3( S, T, N );\n\n          vec3 mapN = getNoise(vWPosition.xz).xyz * 2.0 - 1.0;\n\n          mapN.xy *= normalScale;\n          mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n          normal = normalize( tsn * mapN );\n        ")},super(r,o),this.lowQuality=n,this.waterUniforms=a,n?this.material.specular.set(16777215):this.receiveShadow=!0,this.geometry.attributes.position.dynamic=!0,this.resolution=t,this.octaves=[new Le(new _e(.5,.5),new _e(1,1),.01,!0),new Le(new _e(.05,6),new _e(1,20),.1,!1)],this.simplex=new be.a}get opacity(){return this.material.opacity}set opacity(e){this.material.opacity=e,1!==e&&(this.material.transparent=!0)}get color(){return this.material.color}get tideHeight(){return this.octaves[0].height}get tideScale(){return this.octaves[0].scale}get tideSpeed(){return this.octaves[0].speed}set tideHeight(e){this.octaves[0].height=e}get waveHeight(){return this.octaves[1].height}set waveHeight(e){this.octaves[1].height=e}get waveScale(){return this.octaves[1].scale}get waveSpeed(){return this.octaves[1].speed}set ripplesSpeed(e){this.waterUniforms.ripplesSpeed.value=e}get ripplesSpeed(){return this.waterUniforms.ripplesSpeed.value}set ripplesScale(e){this.waterUniforms.ripplesScale.value=e}get ripplesScale(){return this.waterUniforms.ripplesScale.value}update(e){const t=this.geometry.attributes.position;for(let n=0;n<=this.resolution;n++)for(let r=0;r<=this.resolution;r++){let a=0;for(let t=0;t<this.octaves.length;t++){const i=this.octaves[t];if(i.alternate){const t=this.simplex.noise(n*i.scale.x/this.resolution,r*i.scale.y/this.resolution);a+=Math.cos(t+i.speed.length()*e)*i.height}else{a+=(this.simplex.noise((n*i.scale.x+e*i.speed.x)/this.resolution,(r*i.scale.y+e*i.speed.y)/this.resolution)-.5)*i.height}}t.setY(n*(this.resolution+1)+r,a)}this.geometry.computeVertexNormals(),t.needsUpdate=!0,this.waterUniforms.time.value=e}clone(e){return new Se(this.material.normalMap,this.resolution,this.lowQuality).copy(this,e)}copy(e,t=!0){return super.copy(e,t),this.opacity=e.opacity,this.color.copy(e.color),this.tideHeight=e.tideHeight,this.tideScale.copy(e.tideScale),this.tideSpeed.copy(e.tideSpeed),this.waveHeight=e.waveHeight,this.waveScale.copy(e.waveScale),this.waveSpeed.copy(e.waveSpeed),this.ripplesSpeed=e.ripplesSpeed,this.ripplesScale=e.ripplesScale,this}}function ke(e,t){return e&&t&&e.x===t.x&&e.y===t.y}let Me=null;AFRAME.registerComponent("simple-water",{schema:{opacity:{type:"number",default:1},color:{type:"color"},tideHeight:{type:"number",default:.01},tideScale:{type:"vec2",default:{x:1,y:1}},tideSpeed:{type:"vec2",default:{x:.5,y:.5}},waveHeight:{type:"number",default:.1},waveScale:{type:"vec2",default:{x:1,y:20}},waveSpeed:{type:"vec2",default:{x:.05,y:6}},ripplesScale:{type:"number",default:1},ripplesSpeed:{type:"number",default:.25}},init(){Me||(Me=(new fe.a).load(he.a));const e="high"!==window.APP.store.state.preferences.materialQualitySetting;this.water=new Se(Me,void 0,e),this.el.setObject3D("mesh",this.water)},update(e){this.data.opacity!==e.opacity&&(this.water.opacity=this.data.opacity),this.data.color!==e.color&&this.water.color.set(this.data.color),this.data.tideHeight!==e.tideHeight&&(this.water.tideHeight=this.data.tideHeight),ke(this.data.tideScale,e.tideScale)||this.water.tideScale.copy(this.data.tideScale),ke(this.data.tideSpeed,e.tideSpeed)||this.water.tideSpeed.copy(this.data.tideSpeed),this.data.waveHeight!==e.waveHeight&&(this.water.waveHeight=this.data.waveHeight),ke(this.data.waveScale,e.waveScale)||this.water.waveScale.copy(this.data.waveScale),ke(this.data.waveSpeed,e.waveSpeed)||this.water.waveSpeed.copy(this.data.waveSpeed),this.data.ripplesScale!==e.ripplesScale&&(this.water.ripplesScale=this.data.ripplesScale),this.data.ripplesSpeed!==e.ripplesSpeed&&(this.water.ripplesSpeed=this.data.ripplesSpeed)},tick(e){this.water.update(e/1e3)},remove(){this.el.removeObject3D("mesh")}});n(535),n(536);var Te=n(430),Re=n(211);function Ce(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}const Pe=new URL(n.n(Re).a,window.location.href).href;AFRAME.registerComponent("particle-emitter",{schema:{resolve:{type:"boolean",default:!0},src:{type:"string",default:Pe},startColor:{type:"color"},middleColor:{type:"color"},endColor:{type:"color"},startOpacity:{type:"number",default:1},middleOpacity:{type:"number",default:1},endOpacity:{type:"number",default:1},colorCurve:{type:"string",default:"linear"},sizeCurve:{type:"string",default:"linear"},startSize:{type:"number",default:1},endSize:{type:"number",default:1},sizeRandomness:{type:"number"},ageRandomness:{type:"number"},lifetime:{type:"number",default:1},lifetimeRandomness:{type:"number"},particleCount:{type:"number",default:10},startVelocity:{type:"vec3",default:{x:0,y:0,z:1}},endVelocity:{type:"vec3",default:{x:0,y:0,z:1}},velocityCurve:{type:"string",default:"linear"},angularVelocity:{type:"number"}},init(){this.particleEmitter=new Te.a(null),this.particleEmitter.visible=!1,this.el.setObject3D("particle-emitter",this.particleEmitter),this.updateParticles=!1,this.data.src===Pe&&(this.data.resolve=!1)},setTexture(e,t){var n,r=this;return(n=function*(){let n=e;if(t){let t=(yield Object(f.n)(e)).origin;t.startsWith("//")&&(t=location.protocol+t),n=Object(S.j)(t)}const a=yield f.o.loadAsync(n);r.data.src===e&&(r.particleEmitter.material.uniforms.map.value=a,r.particleEmitter.visible=!0,r.updateParticles=!0)},function(){var e=this,t=arguments;return new Promise((function(r,a){var i=n.apply(e,t);function o(e){Ce(i,r,a,o,s,"next",e)}function s(e){Ce(i,r,a,o,s,"throw",e)}o(void 0)}))})()},update(e){const t=this.data,n=this.particleEmitter;e.src!==t.src&&this.setTexture(t.src,t.resolve).catch(console.error),e.startColor===t.startColor&&e.startSize===t.startSize&&e.sizeRandomness===t.sizeRandomness&&e.ageRandomness===t.ageRandomness&&e.lifetime===t.lifetime&&e.lifetimeRandomness===t.lifetimeRandomness&&e.particleCount===t.particleCount||(this.updateParticles=!0),n.startColor.set(t.startColor),n.middleColor.set(t.middleColor),n.endColor.set(t.endColor),n.startOpacity=t.startOpacity,n.middleOpacity=t.middleOpacity,n.endOpacity=t.endOpacity,n.colorCurve=t.colorCurve,n.sizeCurve=t.sizeCurve,n.startSize=t.startSize,n.endSize=t.endSize,n.sizeRandomness=t.sizeRandomness,n.ageRandomness=t.ageRandomness,n.lifetime=t.lifetime,n.lifetimeRandomness=t.lifetimeRandomness,n.particleCount=t.particleCount,n.startVelocity.copy(t.startVelocity),n.endVelocity.copy(t.endVelocity),n.velocityCurve=t.velocityCurve,n.angularVelocity=t.angularVelocity},tick(e,t){this.updateParticles&&(this.particleEmitter.updateParticles(),this.updateParticles=!1),this.particleEmitter.visible&&this.particleEmitter.update(t/1e3)}});n(537);var Oe=n(43),De=n(38);AFRAME.registerComponent("audio-zone-source",{init(){var e;this.originalAudioParamsData=null,null===(e=this.el.sceneEl.systems["hubs-systems"])||void 0===e||e.audioZonesSystem.registerSource(this)},remove(){var e;APP.zoneOverrides.delete(this.el),null===(e=this.el.sceneEl.systems["hubs-systems"])||void 0===e||e.audioZonesSystem.unregisterSource(this)},getPosition:(()=>{const e=new Oe.THREE.Vector3;return function(){const t=APP.audios.get(this.el);return t?t.getWorldPosition(e):e.set(0,0,0),e}})(),apply(e){APP.zoneOverrides.set(this.el,e);const t=APP.audios.get(this.el);t&&Object(De.d)(this.el,t)},restore(){APP.zoneOverrides.delete(this.el);const e=APP.audios.get(this.el);e&&Object(De.d)(this.el,e)}});var Ie=n(327);Ie.a.prototype.isTroikaText=!0;const Ze={front:THREE.FrontSide,back:THREE.BackSide,double:THREE.DoubleSide};function je(e){return{default:e,parse:function(e){return"string"==typeof e&&e.indexOf("%")>0?e:(e=+e,isNaN(e)?0:e)},stringify:function(e){return""+e}}}AFRAME.registerComponent("text",{schema:{textAlign:{type:"string",default:"left",oneOf:["left","right","center","justify"]},anchorX:{default:"center",oneOf:["left","right","center"]},anchorY:{default:"middle",oneOf:["top","top-baseline","middle","bottom-baseline","bottom"]},clipRect:{type:"string",default:"",parse:function(e){return e&&(e=e.split(/[\s,]+/).reduce((function(e,t){return t=+t,isNaN(t)||e.push(t),e}),[])),e&&4===e.length?e:null},stringify:function(e){return e?e.join(" "):""}},color:{type:"color",default:"#FFF"},curveRadius:{type:"number",default:0},depthOffset:{type:"number",default:0},direction:{type:"string",default:"auto",oneOf:["auto","ltr","rtl"]},fillOpacity:{type:"number",default:1},fontUrl:{type:"string"},fontSize:{type:"number",default:.075},letterSpacing:{type:"number",default:0},lineHeight:{type:"number"},maxWidth:{type:"number",default:1/0},outlineBlur:je(0),outlineColor:{type:"color",default:"#000"},outlineOffsetX:je(0),outlineOffsetY:je(0),outlineOpacity:{type:"number",default:1},outlineWidth:je(0),overflowWrap:{type:"string",default:"normal",oneOf:["normal","break-word"]},strokeColor:{type:"color",default:"grey"},strokeOpacity:{type:"number",default:1},strokeWidth:je(0),value:{type:"string",default:""},textIndent:{type:"number",default:0},whiteSpace:{default:"normal",oneOf:["normal","nowrap"]},opacity:{type:"number",default:1},side:{default:"front",oneOf:["front","back","double"]}},init:function(){this.troikaTextMesh=new Ie.a,this.troikaTextMesh.material.toneMapped=!1,this.el.setObject3D("text",this.troikaTextMesh)},update:function(){const e=this.data,t=this.troikaTextMesh;t.text=e.value||"",t.textAlign=e.textAlign,t.anchorX=e.anchorX,t.anchorY=e.anchorY,t.color=e.color,t.material.side=Ze[e.side],t.material.opacity=e.opacity,t.curveRadius=e.curveRadius,t.depthOffset=e.depthOffset||0,t.direction=e.direction,t.fillOpacity=e.fillOpacity,t.font=e.fontUrl,t.fontSize=e.fontSize,t.letterSpacing=e.letterSpacing||0,t.clipRect=e.clipRect,t.lineHeight=e.lineHeight||"normal",t.outlineBlur=e.outlineBlur,t.outlineColor=e.outlineColor,t.outlineOffsetX=e.outlineOffsetX,t.outlineOffsetY=e.outlineOffsetY,t.outlineOpacity=e.outlineOpacity,t.outlineWidth=e.outlineWidth,t.overflowWrap=e.overflowWrap,t.strokeColor=e.strokeColor,t.strokeOpacity=e.strokeOpacity,t.strokeWidth=e.strokeWidth,t.textIndent=e.textIndent,t.whiteSpace=e.whiteSpace,t.maxWidth=e.maxWidth,t.sync(()=>{this.el.emit("text-updated",this)})},remove:function(){this.troikaTextMesh.dispose()},getSize:function(){const e=new THREE.Vector3;return function(t){this.troikaTextMesh.geometry.boundingBox.getSize(e),t.set(e.x*this.troikaTextMesh.scale.x,e.y*this.troikaTextMesh.scale.y,e.z*this.troikaTextMesh.scale.z)}}()});n(538),n(539)},595:function(e,t,n){"use strict";var r=n(204);n(171);function a(e,t,n){const r=n[e];if(!r)throw new Error('Component "'.concat(e,'" is not public.'));const a=r.publicProperties[t];if(!a)throw new Error('Component "'.concat(e,'"\'s property "').concat(t,'" is not public.'));return{mappedComponent:r.mappedComponent,mappedProperty:a.mappedProperty,getMappedValue:a.getMappedValue}}var i=n(27),o=n(10),s=n(38);function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,s,"next",e)}function s(e){l(i,r,a,o,s,"throw",e)}o(void 0)}))}}const h=n(209).COLLISION_LAYERS;function f(e,t,n,r){return p.apply(this,arguments)}function p(){return(p=d((function*(e,t,n,a){let i=!0;if("link"===t&&(a.video||a.image))return;if(a.networked){i=n.controls||"link"===t;const r="video"===t||"audio"===t,o="model"===t||i||r?"#static-controlled-media":"#static-media";e.setAttribute("networked",{template:o,owner:"scene",persistent:!0,networkId:a.networked.id})}const c={};if("video"!==t&&"image"!==t||(c.projection=n.projection,c.alphaMode=n.alphaMode,c.alphaCutoff=n.alphaCutoff),"video"===t||"audio"===t){if(c.videoPaused=!n.autoPlay,c.loop=n.loop,c.hidePlaybackControls=!i,n.audioType){APP.audioOverrides.set(e,{audioType:n.audioType,distanceModel:n.audioType===o.a.Stereo?o.d.Linear:n.distanceModel,rolloffFactor:n.audioType===o.a.Stereo?0:n.rolloffFactor,refDistance:n.refDistance,maxDistance:n.maxDistance,coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,gain:n.volume}),APP.sourceType.set(e,o.g.MEDIA_VIDEO);const t=APP.audios.get(e);t&&Object(s.d)(e,t)}e.setAttribute("video-pause-state",{paused:c.videoPaused})}"video"!==t&&"image"!==t||!a.link||(c.href=Object(r.sanitizeUrl)(a.link.href));const u="link"===t?n.href:n.src;e.setAttribute("media-loader",{src:Object(r.sanitizeUrl)(u),fitToBox:!0,resolve:!0,fileIsOwned:!0,animate:!1,mediaOptions:c,moveTheParentNotTheMesh:!0})}))).apply(this,arguments)}AFRAME.GLTFModelPlus.registerComponent("duck","duck",e=>{e.setAttribute("duck",""),e.setAttribute("quack",{quackPercentage:.1})}),AFRAME.GLTFModelPlus.registerComponent("quack","quack"),AFRAME.GLTFModelPlus.registerComponent("sound","sound"),AFRAME.GLTFModelPlus.registerComponent("css-class","css-class"),AFRAME.GLTFModelPlus.registerComponent("interactable","css-class",(e,t)=>{e.setAttribute(t,"interactable")}),AFRAME.GLTFModelPlus.registerComponent("super-spawner","super-spawner",(e,t,n)=>{e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0}),e.setAttribute("hoverable-visuals",""),e.setAttribute(t,n)}),AFRAME.GLTFModelPlus.registerComponent("gltf-model-plus","gltf-model-plus"),AFRAME.GLTFModelPlus.registerComponent("media-loader","media-loader"),AFRAME.GLTFModelPlus.registerComponent("body","body-helper",e=>{e.setAttribute("body-helper",{mass:0,type:i.TYPE.STATIC,collisionFilterGroup:h.INTERACTABLES,collisionFilterMask:h.DEFAULT_SPAWNER})}),AFRAME.GLTFModelPlus.registerComponent("ammo-shape","shape-helper"),AFRAME.GLTFModelPlus.registerComponent("hide-when-quality","hide-when-quality"),AFRAME.GLTFModelPlus.registerComponent("light","light",(e,t,n)=>{0===n.distance&&(n.decay=0),e.setAttribute(t,n),n.castShadow&&setTimeout(()=>{e.components.light.light.shadow.camera.matrixNeedsUpdate=!0},0)}),AFRAME.GLTFModelPlus.registerComponent("ambient-light","ambient-light"),AFRAME.GLTFModelPlus.registerComponent("directional-light","directional-light"),AFRAME.GLTFModelPlus.registerComponent("hemisphere-light","hemisphere-light"),AFRAME.GLTFModelPlus.registerComponent("point-light","point-light"),AFRAME.GLTFModelPlus.registerComponent("spot-light","spot-light"),AFRAME.GLTFModelPlus.registerComponent("billboard","billboard"),AFRAME.GLTFModelPlus.registerComponent("simple-water","simple-water"),AFRAME.GLTFModelPlus.registerComponent("skybox","skybox"),AFRAME.GLTFModelPlus.registerComponent("layers","layers"),AFRAME.GLTFModelPlus.registerComponent("shadow","shadow"),AFRAME.GLTFModelPlus.registerComponent("water","water"),AFRAME.GLTFModelPlus.registerComponent("scale-audio-feedback","scale-audio-feedback"),AFRAME.GLTFModelPlus.registerComponent("morph-audio-feedback","morph-audio-feedback"),AFRAME.GLTFModelPlus.registerComponent("animation-mixer","animation-mixer"),AFRAME.GLTFModelPlus.registerComponent("loop-animation","loop-animation"),AFRAME.GLTFModelPlus.registerComponent("uv-scroll","uv-scroll"),AFRAME.GLTFModelPlus.registerComponent("frustrum","frustrum"),AFRAME.GLTFModelPlus.registerComponent("mirror","mirror"),AFRAME.GLTFModelPlus.registerComponent("box-collider","shape-helper",(()=>{const e=new THREE.Euler;return(t,n,r)=>{const{scale:a,rotation:o}=r;e.set(o.x,o.y,o.z);const s=(new THREE.Quaternion).setFromEuler(e);t.setAttribute(n,{type:i.SHAPE.BOX,fit:i.FIT.MANUAL,offset:r.position,halfExtents:{x:a.x/2,y:a.y/2,z:a.z/2},orientation:{x:s.x,y:s.y,z:s.z,w:s.w}})}})()),AFRAME.GLTFModelPlus.registerComponent("visible","visible",(e,t,n)=>{"object"==typeof n?e.setAttribute(t,n.visible):e.setAttribute(t,n)}),AFRAME.GLTFModelPlus.registerComponent("spawn-point","spawn-point",e=>{e.setAttribute("waypoint",{canBeSpawnPoint:!0,canBeOccupied:!1,canBeClicked:!1,willDisableMotion:!1,willDisableTeleporting:!1,willMaintainWorldUp:!0})}),AFRAME.GLTFModelPlus.registerComponent("nav-mesh","nav-mesh"),AFRAME.GLTFModelPlus.registerComponent("pinnable","pinnable"),AFRAME.GLTFModelPlus.registerComponent("waypoint","waypoint",(e,t,n,r)=>{n.canBeOccupied&&e.setAttribute("networked",{template:"#template-waypoint-avatar",attachTemplateToLocal:!1,owner:"scene",persistent:!0,networkId:r.networked.id}),e.setAttribute("waypoint",n)}),AFRAME.GLTFModelPlus.registerComponent("media-frame","media-frame",(e,t,n,r)=>{e.setAttribute("networked",{template:"#interactable-media-frame",owner:"scene",persistent:!0,networkId:r.networked.id}),e.setAttribute("shape-helper",{type:"box",fit:"manual",halfExtents:{x:n.bounds.x/2,y:n.bounds.y/2,z:n.bounds.z/2}}),e.setAttribute("media-frame",n)}),AFRAME.GLTFModelPlus.registerComponent("media","media",(e,t,n)=>{n.id&&e.setAttribute("networked",{template:"#interactable-media",owner:"scene",persistent:!0,networkId:n.id});const a={src:Object(r.sanitizeUrl)(n.src),fitToBox:!n.contentSubtype,resolve:!0,fileIsOwned:!0,animate:!1,contentSubtype:n.contentSubtype};n.version&&(a.version=n.version),e.setAttribute("media-loader",a),n.pageIndex&&(e.setAttribute("media-pdf",{index:n.pageIndex}),e.setAttribute("media-pager",{index:n.pageIndex})),void 0!==n.paused&&e.setAttribute("media-video",{videoPaused:n.paused}),n.time&&e.setAttribute("media-video",{time:n.time})}),AFRAME.GLTFModelPlus.registerComponent("model","model",f),AFRAME.GLTFModelPlus.registerComponent("image","image",f),AFRAME.GLTFModelPlus.registerComponent("audio","audio",f,(e,t,n)=>"paused"===t?{name:"video-pause-state",property:t,value:n}:null),AFRAME.GLTFModelPlus.registerComponent("video","video",f,(e,t,n)=>"paused"===t?{name:"video-pause-state",property:t,value:n}:null),AFRAME.GLTFModelPlus.registerComponent("link","link",f),AFRAME.GLTFModelPlus.registerComponent("hoverable","is-remote-hover-target",e=>{e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0})}),AFRAME.GLTFModelPlus.registerComponent("spawner","spawner",(e,t,n)=>{e.setAttribute("media-loader",{src:Object(r.sanitizeUrl)(n.src),resolve:!0,fileIsOwned:!0,animate:!1,moveTheParentNotTheMesh:!0}),e.setAttribute("css-class","interactable"),e.setAttribute("super-spawner",{src:Object(r.sanitizeUrl)(n.src),resolve:!0,template:"#interactable-media",mediaOptions:n.mediaOptions||{}}),e.setAttribute("hoverable-visuals",""),e.setAttribute("body-helper",{mass:0,type:i.TYPE.STATIC,collisionFilterGroup:h.INTERACTABLES,collisionFilterMask:h.DEFAULT_SPAWNER}),e.setAttribute("is-remote-hover-target",""),e.setAttribute("tags",{isHandCollisionTarget:!0})});const m={video:{mappedComponent:"video-pause-state",publicProperties:{paused:{mappedProperty:"paused",getMappedValue:e=>!!e}}},"loop-animation":{mappedComponent:"loop-animation",publicProperties:{paused:{mappedProperty:"paused",getMappedValue:e=>!!e}}}};AFRAME.GLTFModelPlus.registerComponent("trigger-volume","trigger-volume",(e,t,n,r,i)=>{const{size:o,target:s,enterComponent:c,enterProperty:u,enterValue:l,leaveComponent:d,leaveProperty:h,leaveValue:f}=n;let p,g,v;try{if(p=a(c,u,m),g=a(d,h,m),v="number"==typeof s?i[s]:null==s?void 0:s.el,!v)throw new Error("Couldn't find target entity with index: ".concat(s,"."))}catch(e){return void console.warn('Error inflating gltf component "trigger-volume": '.concat(e.message))}e.setAttribute("trigger-volume",{colliders:"#avatar-pov-node",size:o,target:v,enterComponent:p.mappedComponent,enterProperty:p.mappedProperty,enterValue:p.getMappedValue(l),leaveComponent:g.mappedComponent,leaveProperty:g.mappedProperty,leaveValue:g.getMappedValue(f)})}),AFRAME.GLTFModelPlus.registerComponent("heightfield","heightfield",(e,t,n)=>{e.setAttribute("shape-helper__heightfield",{type:i.SHAPE.HEIGHTFIELD,margin:.01,fit:i.FIT.MANUAL,heightfieldDistance:n.distance,offset:n.offset,heightfieldData:n.data})}),AFRAME.GLTFModelPlus.registerComponent("trimesh","trimesh",e=>{e.setAttribute("shape-helper__trimesh",{type:i.SHAPE.MESH,margin:.01,fit:i.FIT.ALL,includeInvisible:!0})}),AFRAME.GLTFModelPlus.registerComponent("particle-emitter","particle-emitter"),AFRAME.GLTFModelPlus.registerComponent("networked-drawing-buffer","networked-drawing-buffer"),AFRAME.GLTFModelPlus.registerComponent("audio-settings","audio-settings",(e,t,n)=>{const r=e=>Object.entries(e).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{});APP.sceneAudioDefaults.set(o.g.MEDIA_VIDEO,r({distanceModel:n.mediaDistanceModel,rolloffFactor:n.mediaRolloffFactor,refDistance:n.mediaRefDistance,maxDistance:n.mediaMaxDistance,coneInnerAngle:n.mediaConeInnerAngle,coneOuterAngle:n.mediaConeOuterAngle,coneOuterGain:n.mediaConeOuterGain,gain:n.mediaVolume})),APP.sceneAudioDefaults.set(o.g.AVATAR_AUDIO_SOURCE,r({distanceModel:n.avatarDistanceModel,rolloffFactor:n.avatarRolloffFactor,refDistance:n.avatarRefDistance,maxDistance:n.avatarMaxDistance,coneInnerAngle:n.avatarConeInnerAngle,coneOuterAngle:n.avatarConeOuterAngle,coneOuterGain:n.avatarConeOuterGain,gain:n.avatarVolume}));for(const[e,t]of APP.audios.entries())Object(s.d)(e,t)}),AFRAME.GLTFModelPlus.registerComponent("video-texture-target","video-texture-target",(e,t,n,r,a)=>{const{targetBaseColorMap:i,targetEmissiveMap:o,srcNode:s}=n;let c;void 0!==s&&(c="number"==typeof s?a[s]:null==s?void 0:s.el,c||console.warn('Error inflating gltf component "video-texture-srcEl": Couldn\'t find srcEl entity with index '.concat(s))),e.setAttribute(t,{src:c?"el":"",targetBaseColorMap:i,targetEmissiveMap:o,srcEl:c})}),AFRAME.GLTFModelPlus.registerComponent("video-texture-source","video-texture-source"),AFRAME.GLTFModelPlus.registerComponent("text","text"),AFRAME.GLTFModelPlus.registerComponent("audio-target","audio-target",(e,t,n,r,a)=>{const{srcNode:i}=n;let c;if(void 0!==i&&(c="number"==typeof i?a[i]:null==i?void 0:i.el,c||console.warn("Error inflating gltf component ".concat(t,": Couldn't find srcEl entity with index ").concat(i))),void 0!==n.positional){APP.audioOverrides.set(e,{audioType:n.positional?o.a.PannerNode:o.a.Stereo,distanceModel:n.distanceModel,rolloffFactor:n.rolloffFactor,refDistance:n.refDistance,maxDistance:n.maxDistance,coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,gain:n.gain}),APP.sourceType.set(e,o.g.AUDIO_TARGET);const t=APP.audios.get(e);t&&Object(s.d)(e,t)}e.setAttribute(t,{minDelay:n.minDelay,maxDelay:n.maxDelay,debug:n.debug,srcEl:c})}),AFRAME.GLTFModelPlus.registerComponent("zone-audio-source","zone-audio-source"),AFRAME.GLTFModelPlus.registerComponent("audio-params","audio-params",(e,t,n)=>{APP.audioOverrides.set(e,n);const r=APP.audios.get(e);r&&Object(s.d)(e,r)}),AFRAME.GLTFModelPlus.registerComponent("audio-zone","audio-zone",(e,t,n)=>{e.setAttribute(t,c({},n))}),AFRAME.GLTFModelPlus.registerComponent("background","background",(e,t,n)=>{console.warn("The `background` component is deprecated, use `backgroundColor` on the `environment-settings` component instead."),e.setAttribute("environment-settings",{backgroundColor:new THREE.Color(n.color)})}),AFRAME.GLTFModelPlus.registerComponent("fog","fog",(e,t,n)=>{e.setAttribute("environment-settings",{fogType:n.type,fogColor:new THREE.Color(n.color),fogNear:n.near,fogFar:n.far,fogDensity:n.density})}),AFRAME.GLTFModelPlus.registerComponent("environment-settings","environment-settings",(e,t,n)=>{e.setAttribute(t,c({},n,{backgroundColor:new THREE.Color(n.backgroundColor)}))}),AFRAME.GLTFModelPlus.registerComponent("reflection-probe","reflection-probe",(e,t,n)=>{n.envMapTexture.flipY=!0,n.envMapTexture.mapping=THREE.EquirectangularReflectionMapping,e.setAttribute(t,n)})},62:function(e){e.exports=JSON.parse('{"supplemental":{"version":{"_unicodeVersion":"13.0.0","_cldrVersion":"38"},"likelySubtags":{"aa":"aa-Latn-ET","aai":"aai-Latn-ZZ","aak":"aak-Latn-ZZ","aau":"aau-Latn-ZZ","ab":"ab-Cyrl-GE","abi":"abi-Latn-ZZ","abq":"abq-Cyrl-ZZ","abr":"abr-Latn-GH","abt":"abt-Latn-ZZ","aby":"aby-Latn-ZZ","acd":"acd-Latn-ZZ","ace":"ace-Latn-ID","ach":"ach-Latn-UG","ada":"ada-Latn-GH","ade":"ade-Latn-ZZ","adj":"adj-Latn-ZZ","adp":"adp-Tibt-BT","ady":"ady-Cyrl-RU","adz":"adz-Latn-ZZ","ae":"ae-Avst-IR","aeb":"aeb-Arab-TN","aey":"aey-Latn-ZZ","af":"af-Latn-ZA","agc":"agc-Latn-ZZ","agd":"agd-Latn-ZZ","agg":"agg-Latn-ZZ","agm":"agm-Latn-ZZ","ago":"ago-Latn-ZZ","agq":"agq-Latn-CM","aha":"aha-Latn-ZZ","ahl":"ahl-Latn-ZZ","aho":"aho-Ahom-IN","ajg":"ajg-Latn-ZZ","ak":"ak-Latn-GH","akk":"akk-Xsux-IQ","ala":"ala-Latn-ZZ","ali":"ali-Latn-ZZ","aln":"aln-Latn-XK","alt":"alt-Cyrl-RU","am":"am-Ethi-ET","amm":"amm-Latn-ZZ","amn":"amn-Latn-ZZ","amo":"amo-Latn-NG","amp":"amp-Latn-ZZ","an":"an-Latn-ES","anc":"anc-Latn-ZZ","ank":"ank-Latn-ZZ","ann":"ann-Latn-ZZ","any":"any-Latn-ZZ","aoj":"aoj-Latn-ZZ","aom":"aom-Latn-ZZ","aoz":"aoz-Latn-ID","apc":"apc-Arab-ZZ","apd":"apd-Arab-TG","ape":"ape-Latn-ZZ","apr":"apr-Latn-ZZ","aps":"aps-Latn-ZZ","apz":"apz-Latn-ZZ","ar":"ar-Arab-EG","arc":"arc-Armi-IR","arc-Nbat":"arc-Nbat-JO","arc-Palm":"arc-Palm-SY","arh":"arh-Latn-ZZ","arn":"arn-Latn-CL","aro":"aro-Latn-BO","arq":"arq-Arab-DZ","ars":"ars-Arab-SA","ary":"ary-Arab-MA","arz":"arz-Arab-EG","as":"as-Beng-IN","asa":"asa-Latn-TZ","ase":"ase-Sgnw-US","asg":"asg-Latn-ZZ","aso":"aso-Latn-ZZ","ast":"ast-Latn-ES","ata":"ata-Latn-ZZ","atg":"atg-Latn-ZZ","atj":"atj-Latn-CA","auy":"auy-Latn-ZZ","av":"av-Cyrl-RU","avl":"avl-Arab-ZZ","avn":"avn-Latn-ZZ","avt":"avt-Latn-ZZ","avu":"avu-Latn-ZZ","awa":"awa-Deva-IN","awb":"awb-Latn-ZZ","awo":"awo-Latn-ZZ","awx":"awx-Latn-ZZ","ay":"ay-Latn-BO","ayb":"ayb-Latn-ZZ","az":"az-Latn-AZ","az-Arab":"az-Arab-IR","az-IQ":"az-Arab-IQ","az-IR":"az-Arab-IR","az-RU":"az-Cyrl-RU","ba":"ba-Cyrl-RU","bal":"bal-Arab-PK","ban":"ban-Latn-ID","bap":"bap-Deva-NP","bar":"bar-Latn-AT","bas":"bas-Latn-CM","bav":"bav-Latn-ZZ","bax":"bax-Bamu-CM","bba":"bba-Latn-ZZ","bbb":"bbb-Latn-ZZ","bbc":"bbc-Latn-ID","bbd":"bbd-Latn-ZZ","bbj":"bbj-Latn-CM","bbp":"bbp-Latn-ZZ","bbr":"bbr-Latn-ZZ","bcf":"bcf-Latn-ZZ","bch":"bch-Latn-ZZ","bci":"bci-Latn-CI","bcm":"bcm-Latn-ZZ","bcn":"bcn-Latn-ZZ","bco":"bco-Latn-ZZ","bcq":"bcq-Ethi-ZZ","bcu":"bcu-Latn-ZZ","bdd":"bdd-Latn-ZZ","be":"be-Cyrl-BY","bef":"bef-Latn-ZZ","beh":"beh-Latn-ZZ","bej":"bej-Arab-SD","bem":"bem-Latn-ZM","bet":"bet-Latn-ZZ","bew":"bew-Latn-ID","bex":"bex-Latn-ZZ","bez":"bez-Latn-TZ","bfd":"bfd-Latn-CM","bfq":"bfq-Taml-IN","bft":"bft-Arab-PK","bfy":"bfy-Deva-IN","bg":"bg-Cyrl-BG","bgc":"bgc-Deva-IN","bgn":"bgn-Arab-PK","bgx":"bgx-Grek-TR","bhb":"bhb-Deva-IN","bhg":"bhg-Latn-ZZ","bhi":"bhi-Deva-IN","bhl":"bhl-Latn-ZZ","bho":"bho-Deva-IN","bhy":"bhy-Latn-ZZ","bi":"bi-Latn-VU","bib":"bib-Latn-ZZ","big":"big-Latn-ZZ","bik":"bik-Latn-PH","bim":"bim-Latn-ZZ","bin":"bin-Latn-NG","bio":"bio-Latn-ZZ","biq":"biq-Latn-ZZ","bjh":"bjh-Latn-ZZ","bji":"bji-Ethi-ZZ","bjj":"bjj-Deva-IN","bjn":"bjn-Latn-ID","bjo":"bjo-Latn-ZZ","bjr":"bjr-Latn-ZZ","bjt":"bjt-Latn-SN","bjz":"bjz-Latn-ZZ","bkc":"bkc-Latn-ZZ","bkm":"bkm-Latn-CM","bkq":"bkq-Latn-ZZ","bku":"bku-Latn-PH","bkv":"bkv-Latn-ZZ","blt":"blt-Tavt-VN","bm":"bm-Latn-ML","bmh":"bmh-Latn-ZZ","bmk":"bmk-Latn-ZZ","bmq":"bmq-Latn-ML","bmu":"bmu-Latn-ZZ","bn":"bn-Beng-BD","bng":"bng-Latn-ZZ","bnm":"bnm-Latn-ZZ","bnp":"bnp-Latn-ZZ","bo":"bo-Tibt-CN","boj":"boj-Latn-ZZ","bom":"bom-Latn-ZZ","bon":"bon-Latn-ZZ","bpy":"bpy-Beng-IN","bqc":"bqc-Latn-ZZ","bqi":"bqi-Arab-IR","bqp":"bqp-Latn-ZZ","bqv":"bqv-Latn-CI","br":"br-Latn-FR","bra":"bra-Deva-IN","brh":"brh-Arab-PK","brx":"brx-Deva-IN","brz":"brz-Latn-ZZ","bs":"bs-Latn-BA","bsj":"bsj-Latn-ZZ","bsq":"bsq-Bass-LR","bss":"bss-Latn-CM","bst":"bst-Ethi-ZZ","bto":"bto-Latn-PH","btt":"btt-Latn-ZZ","btv":"btv-Deva-PK","bua":"bua-Cyrl-RU","buc":"buc-Latn-YT","bud":"bud-Latn-ZZ","bug":"bug-Latn-ID","buk":"buk-Latn-ZZ","bum":"bum-Latn-CM","buo":"buo-Latn-ZZ","bus":"bus-Latn-ZZ","buu":"buu-Latn-ZZ","bvb":"bvb-Latn-GQ","bwd":"bwd-Latn-ZZ","bwr":"bwr-Latn-ZZ","bxh":"bxh-Latn-ZZ","bye":"bye-Latn-ZZ","byn":"byn-Ethi-ER","byr":"byr-Latn-ZZ","bys":"bys-Latn-ZZ","byv":"byv-Latn-CM","byx":"byx-Latn-ZZ","bza":"bza-Latn-ZZ","bze":"bze-Latn-ML","bzf":"bzf-Latn-ZZ","bzh":"bzh-Latn-ZZ","bzw":"bzw-Latn-ZZ","ca":"ca-Latn-ES","cad":"cad-Latn-US","can":"can-Latn-ZZ","cbj":"cbj-Latn-ZZ","cch":"cch-Latn-NG","ccp":"ccp-Cakm-BD","ce":"ce-Cyrl-RU","ceb":"ceb-Latn-PH","cfa":"cfa-Latn-ZZ","cgg":"cgg-Latn-UG","ch":"ch-Latn-GU","chk":"chk-Latn-FM","chm":"chm-Cyrl-RU","cho":"cho-Latn-US","chp":"chp-Latn-CA","chr":"chr-Cher-US","cic":"cic-Latn-US","cja":"cja-Arab-KH","cjm":"cjm-Cham-VN","cjv":"cjv-Latn-ZZ","ckb":"ckb-Arab-IQ","ckl":"ckl-Latn-ZZ","cko":"cko-Latn-ZZ","cky":"cky-Latn-ZZ","cla":"cla-Latn-ZZ","cme":"cme-Latn-ZZ","cmg":"cmg-Soyo-MN","co":"co-Latn-FR","cop":"cop-Copt-EG","cps":"cps-Latn-PH","cr":"cr-Cans-CA","crh":"crh-Cyrl-UA","crj":"crj-Cans-CA","crk":"crk-Cans-CA","crl":"crl-Cans-CA","crm":"crm-Cans-CA","crs":"crs-Latn-SC","cs":"cs-Latn-CZ","csb":"csb-Latn-PL","csw":"csw-Cans-CA","ctd":"ctd-Pauc-MM","cu":"cu-Cyrl-RU","cu-Glag":"cu-Glag-BG","cv":"cv-Cyrl-RU","cy":"cy-Latn-GB","da":"da-Latn-DK","dad":"dad-Latn-ZZ","daf":"daf-Latn-CI","dag":"dag-Latn-ZZ","dah":"dah-Latn-ZZ","dak":"dak-Latn-US","dar":"dar-Cyrl-RU","dav":"dav-Latn-KE","dbd":"dbd-Latn-ZZ","dbq":"dbq-Latn-ZZ","dcc":"dcc-Arab-IN","ddn":"ddn-Latn-ZZ","de":"de-Latn-DE","ded":"ded-Latn-ZZ","den":"den-Latn-CA","dga":"dga-Latn-ZZ","dgh":"dgh-Latn-ZZ","dgi":"dgi-Latn-ZZ","dgl":"dgl-Arab-ZZ","dgr":"dgr-Latn-CA","dgz":"dgz-Latn-ZZ","dia":"dia-Latn-ZZ","dje":"dje-Latn-NE","dnj":"dnj-Latn-CI","dob":"dob-Latn-ZZ","doi":"doi-Deva-IN","dop":"dop-Latn-ZZ","dow":"dow-Latn-ZZ","drh":"drh-Mong-CN","dri":"dri-Latn-ZZ","drs":"drs-Ethi-ZZ","dsb":"dsb-Latn-DE","dtm":"dtm-Latn-ML","dtp":"dtp-Latn-MY","dts":"dts-Latn-ZZ","dty":"dty-Deva-NP","dua":"dua-Latn-CM","duc":"duc-Latn-ZZ","dud":"dud-Latn-ZZ","dug":"dug-Latn-ZZ","dv":"dv-Thaa-MV","dva":"dva-Latn-ZZ","dww":"dww-Latn-ZZ","dyo":"dyo-Latn-SN","dyu":"dyu-Latn-BF","dz":"dz-Tibt-BT","dzg":"dzg-Latn-ZZ","ebu":"ebu-Latn-KE","ee":"ee-Latn-GH","efi":"efi-Latn-NG","egl":"egl-Latn-IT","egy":"egy-Egyp-EG","eka":"eka-Latn-ZZ","eky":"eky-Kali-MM","el":"el-Grek-GR","ema":"ema-Latn-ZZ","emi":"emi-Latn-ZZ","en":"en-Latn-US","en-Shaw":"en-Shaw-GB","enn":"enn-Latn-ZZ","enq":"enq-Latn-ZZ","eo":"eo-Latn-001","eri":"eri-Latn-ZZ","es":"es-Latn-ES","esg":"esg-Gonm-IN","esu":"esu-Latn-US","et":"et-Latn-EE","etr":"etr-Latn-ZZ","ett":"ett-Ital-IT","etu":"etu-Latn-ZZ","etx":"etx-Latn-ZZ","eu":"eu-Latn-ES","ewo":"ewo-Latn-CM","ext":"ext-Latn-ES","eza":"eza-Latn-ZZ","fa":"fa-Arab-IR","faa":"faa-Latn-ZZ","fab":"fab-Latn-ZZ","fag":"fag-Latn-ZZ","fai":"fai-Latn-ZZ","fan":"fan-Latn-GQ","ff":"ff-Latn-SN","ff-Adlm":"ff-Adlm-GN","ffi":"ffi-Latn-ZZ","ffm":"ffm-Latn-ML","fi":"fi-Latn-FI","fia":"fia-Arab-SD","fil":"fil-Latn-PH","fit":"fit-Latn-SE","fj":"fj-Latn-FJ","flr":"flr-Latn-ZZ","fmp":"fmp-Latn-ZZ","fo":"fo-Latn-FO","fod":"fod-Latn-ZZ","fon":"fon-Latn-BJ","for":"for-Latn-ZZ","fpe":"fpe-Latn-ZZ","fqs":"fqs-Latn-ZZ","fr":"fr-Latn-FR","frc":"frc-Latn-US","frp":"frp-Latn-FR","frr":"frr-Latn-DE","frs":"frs-Latn-DE","fub":"fub-Arab-CM","fud":"fud-Latn-WF","fue":"fue-Latn-ZZ","fuf":"fuf-Latn-GN","fuh":"fuh-Latn-ZZ","fuq":"fuq-Latn-NE","fur":"fur-Latn-IT","fuv":"fuv-Latn-NG","fuy":"fuy-Latn-ZZ","fvr":"fvr-Latn-SD","fy":"fy-Latn-NL","ga":"ga-Latn-IE","gaa":"gaa-Latn-GH","gaf":"gaf-Latn-ZZ","gag":"gag-Latn-MD","gah":"gah-Latn-ZZ","gaj":"gaj-Latn-ZZ","gam":"gam-Latn-ZZ","gan":"gan-Hans-CN","gaw":"gaw-Latn-ZZ","gay":"gay-Latn-ID","gba":"gba-Latn-ZZ","gbf":"gbf-Latn-ZZ","gbm":"gbm-Deva-IN","gby":"gby-Latn-ZZ","gbz":"gbz-Arab-IR","gcr":"gcr-Latn-GF","gd":"gd-Latn-GB","gde":"gde-Latn-ZZ","gdn":"gdn-Latn-ZZ","gdr":"gdr-Latn-ZZ","geb":"geb-Latn-ZZ","gej":"gej-Latn-ZZ","gel":"gel-Latn-ZZ","gez":"gez-Ethi-ET","gfk":"gfk-Latn-ZZ","ggn":"ggn-Deva-NP","ghs":"ghs-Latn-ZZ","gil":"gil-Latn-KI","gim":"gim-Latn-ZZ","gjk":"gjk-Arab-PK","gjn":"gjn-Latn-ZZ","gju":"gju-Arab-PK","gkn":"gkn-Latn-ZZ","gkp":"gkp-Latn-ZZ","gl":"gl-Latn-ES","glk":"glk-Arab-IR","gmm":"gmm-Latn-ZZ","gmv":"gmv-Ethi-ZZ","gn":"gn-Latn-PY","gnd":"gnd-Latn-ZZ","gng":"gng-Latn-ZZ","god":"god-Latn-ZZ","gof":"gof-Ethi-ZZ","goi":"goi-Latn-ZZ","gom":"gom-Deva-IN","gon":"gon-Telu-IN","gor":"gor-Latn-ID","gos":"gos-Latn-NL","got":"got-Goth-UA","grb":"grb-Latn-ZZ","grc":"grc-Cprt-CY","grc-Linb":"grc-Linb-GR","grt":"grt-Beng-IN","grw":"grw-Latn-ZZ","gsw":"gsw-Latn-CH","gu":"gu-Gujr-IN","gub":"gub-Latn-BR","guc":"guc-Latn-CO","gud":"gud-Latn-ZZ","gur":"gur-Latn-GH","guw":"guw-Latn-ZZ","gux":"gux-Latn-ZZ","guz":"guz-Latn-KE","gv":"gv-Latn-IM","gvf":"gvf-Latn-ZZ","gvr":"gvr-Deva-NP","gvs":"gvs-Latn-ZZ","gwc":"gwc-Arab-ZZ","gwi":"gwi-Latn-CA","gwt":"gwt-Arab-ZZ","gyi":"gyi-Latn-ZZ","ha":"ha-Latn-NG","ha-CM":"ha-Arab-CM","ha-SD":"ha-Arab-SD","hag":"hag-Latn-ZZ","hak":"hak-Hans-CN","ham":"ham-Latn-ZZ","haw":"haw-Latn-US","haz":"haz-Arab-AF","hbb":"hbb-Latn-ZZ","hdy":"hdy-Ethi-ZZ","he":"he-Hebr-IL","hhy":"hhy-Latn-ZZ","hi":"hi-Deva-IN","hia":"hia-Latn-ZZ","hif":"hif-Latn-FJ","hig":"hig-Latn-ZZ","hih":"hih-Latn-ZZ","hil":"hil-Latn-PH","hla":"hla-Latn-ZZ","hlu":"hlu-Hluw-TR","hmd":"hmd-Plrd-CN","hmt":"hmt-Latn-ZZ","hnd":"hnd-Arab-PK","hne":"hne-Deva-IN","hnj":"hnj-Hmng-LA","hnn":"hnn-Latn-PH","hno":"hno-Arab-PK","ho":"ho-Latn-PG","hoc":"hoc-Deva-IN","hoj":"hoj-Deva-IN","hot":"hot-Latn-ZZ","hr":"hr-Latn-HR","hsb":"hsb-Latn-DE","hsn":"hsn-Hans-CN","ht":"ht-Latn-HT","hu":"hu-Latn-HU","hui":"hui-Latn-ZZ","hy":"hy-Armn-AM","hz":"hz-Latn-NA","ia":"ia-Latn-001","ian":"ian-Latn-ZZ","iar":"iar-Latn-ZZ","iba":"iba-Latn-MY","ibb":"ibb-Latn-NG","iby":"iby-Latn-ZZ","ica":"ica-Latn-ZZ","ich":"ich-Latn-ZZ","id":"id-Latn-ID","idd":"idd-Latn-ZZ","idi":"idi-Latn-ZZ","idu":"idu-Latn-ZZ","ife":"ife-Latn-TG","ig":"ig-Latn-NG","igb":"igb-Latn-ZZ","ige":"ige-Latn-ZZ","ii":"ii-Yiii-CN","ijj":"ijj-Latn-ZZ","ik":"ik-Latn-US","ikk":"ikk-Latn-ZZ","ikt":"ikt-Latn-CA","ikw":"ikw-Latn-ZZ","ikx":"ikx-Latn-ZZ","ilo":"ilo-Latn-PH","imo":"imo-Latn-ZZ","in":"in-Latn-ID","inh":"inh-Cyrl-RU","io":"io-Latn-001","iou":"iou-Latn-ZZ","iri":"iri-Latn-ZZ","is":"is-Latn-IS","it":"it-Latn-IT","iu":"iu-Cans-CA","iw":"iw-Hebr-IL","iwm":"iwm-Latn-ZZ","iws":"iws-Latn-ZZ","izh":"izh-Latn-RU","izi":"izi-Latn-ZZ","ja":"ja-Jpan-JP","jab":"jab-Latn-ZZ","jam":"jam-Latn-JM","jar":"jar-Latn-ZZ","jbo":"jbo-Latn-001","jbu":"jbu-Latn-ZZ","jen":"jen-Latn-ZZ","jgk":"jgk-Latn-ZZ","jgo":"jgo-Latn-CM","ji":"ji-Hebr-UA","jib":"jib-Latn-ZZ","jmc":"jmc-Latn-TZ","jml":"jml-Deva-NP","jra":"jra-Latn-ZZ","jut":"jut-Latn-DK","jv":"jv-Latn-ID","jw":"jw-Latn-ID","ka":"ka-Geor-GE","kaa":"kaa-Cyrl-UZ","kab":"kab-Latn-DZ","kac":"kac-Latn-MM","kad":"kad-Latn-ZZ","kai":"kai-Latn-ZZ","kaj":"kaj-Latn-NG","kam":"kam-Latn-KE","kao":"kao-Latn-ML","kbd":"kbd-Cyrl-RU","kbm":"kbm-Latn-ZZ","kbp":"kbp-Latn-ZZ","kbq":"kbq-Latn-ZZ","kbx":"kbx-Latn-ZZ","kby":"kby-Arab-NE","kcg":"kcg-Latn-NG","kck":"kck-Latn-ZW","kcl":"kcl-Latn-ZZ","kct":"kct-Latn-ZZ","kde":"kde-Latn-TZ","kdh":"kdh-Arab-TG","kdl":"kdl-Latn-ZZ","kdt":"kdt-Thai-TH","kea":"kea-Latn-CV","ken":"ken-Latn-CM","kez":"kez-Latn-ZZ","kfo":"kfo-Latn-CI","kfr":"kfr-Deva-IN","kfy":"kfy-Deva-IN","kg":"kg-Latn-CD","kge":"kge-Latn-ID","kgf":"kgf-Latn-ZZ","kgp":"kgp-Latn-BR","kha":"kha-Latn-IN","khb":"khb-Talu-CN","khn":"khn-Deva-IN","khq":"khq-Latn-ML","khs":"khs-Latn-ZZ","kht":"kht-Mymr-IN","khw":"khw-Arab-PK","khz":"khz-Latn-ZZ","ki":"ki-Latn-KE","kij":"kij-Latn-ZZ","kiu":"kiu-Latn-TR","kiw":"kiw-Latn-ZZ","kj":"kj-Latn-NA","kjd":"kjd-Latn-ZZ","kjg":"kjg-Laoo-LA","kjs":"kjs-Latn-ZZ","kjy":"kjy-Latn-ZZ","kk":"kk-Cyrl-KZ","kk-AF":"kk-Arab-AF","kk-Arab":"kk-Arab-CN","kk-CN":"kk-Arab-CN","kk-IR":"kk-Arab-IR","kk-MN":"kk-Arab-MN","kkc":"kkc-Latn-ZZ","kkj":"kkj-Latn-CM","kl":"kl-Latn-GL","kln":"kln-Latn-KE","klq":"klq-Latn-ZZ","klt":"klt-Latn-ZZ","klx":"klx-Latn-ZZ","km":"km-Khmr-KH","kmb":"kmb-Latn-AO","kmh":"kmh-Latn-ZZ","kmo":"kmo-Latn-ZZ","kms":"kms-Latn-ZZ","kmu":"kmu-Latn-ZZ","kmw":"kmw-Latn-ZZ","kn":"kn-Knda-IN","knf":"knf-Latn-GW","knp":"knp-Latn-ZZ","ko":"ko-Kore-KR","koi":"koi-Cyrl-RU","kok":"kok-Deva-IN","kol":"kol-Latn-ZZ","kos":"kos-Latn-FM","koz":"koz-Latn-ZZ","kpe":"kpe-Latn-LR","kpf":"kpf-Latn-ZZ","kpo":"kpo-Latn-ZZ","kpr":"kpr-Latn-ZZ","kpx":"kpx-Latn-ZZ","kqb":"kqb-Latn-ZZ","kqf":"kqf-Latn-ZZ","kqs":"kqs-Latn-ZZ","kqy":"kqy-Ethi-ZZ","kr":"kr-Latn-ZZ","krc":"krc-Cyrl-RU","kri":"kri-Latn-SL","krj":"krj-Latn-PH","krl":"krl-Latn-RU","krs":"krs-Latn-ZZ","kru":"kru-Deva-IN","ks":"ks-Arab-IN","ksb":"ksb-Latn-TZ","ksd":"ksd-Latn-ZZ","ksf":"ksf-Latn-CM","ksh":"ksh-Latn-DE","ksj":"ksj-Latn-ZZ","ksr":"ksr-Latn-ZZ","ktb":"ktb-Ethi-ZZ","ktm":"ktm-Latn-ZZ","kto":"kto-Latn-ZZ","ktr":"ktr-Latn-MY","ku":"ku-Latn-TR","ku-Arab":"ku-Arab-IQ","ku-LB":"ku-Arab-LB","ku-Yezi":"ku-Yezi-GE","kub":"kub-Latn-ZZ","kud":"kud-Latn-ZZ","kue":"kue-Latn-ZZ","kuj":"kuj-Latn-ZZ","kum":"kum-Cyrl-RU","kun":"kun-Latn-ZZ","kup":"kup-Latn-ZZ","kus":"kus-Latn-ZZ","kv":"kv-Cyrl-RU","kvg":"kvg-Latn-ZZ","kvr":"kvr-Latn-ID","kvx":"kvx-Arab-PK","kw":"kw-Latn-GB","kwj":"kwj-Latn-ZZ","kwo":"kwo-Latn-ZZ","kwq":"kwq-Latn-ZZ","kxa":"kxa-Latn-ZZ","kxc":"kxc-Ethi-ZZ","kxe":"kxe-Latn-ZZ","kxl":"kxl-Deva-IN","kxm":"kxm-Thai-TH","kxp":"kxp-Arab-PK","kxw":"kxw-Latn-ZZ","kxz":"kxz-Latn-ZZ","ky":"ky-Cyrl-KG","ky-Arab":"ky-Arab-CN","ky-CN":"ky-Arab-CN","ky-Latn":"ky-Latn-TR","ky-TR":"ky-Latn-TR","kye":"kye-Latn-ZZ","kyx":"kyx-Latn-ZZ","kzh":"kzh-Arab-ZZ","kzj":"kzj-Latn-MY","kzr":"kzr-Latn-ZZ","kzt":"kzt-Latn-MY","la":"la-Latn-VA","lab":"lab-Lina-GR","lad":"lad-Hebr-IL","lag":"lag-Latn-TZ","lah":"lah-Arab-PK","laj":"laj-Latn-UG","las":"las-Latn-ZZ","lb":"lb-Latn-LU","lbe":"lbe-Cyrl-RU","lbu":"lbu-Latn-ZZ","lbw":"lbw-Latn-ID","lcm":"lcm-Latn-ZZ","lcp":"lcp-Thai-CN","ldb":"ldb-Latn-ZZ","led":"led-Latn-ZZ","lee":"lee-Latn-ZZ","lem":"lem-Latn-ZZ","lep":"lep-Lepc-IN","leq":"leq-Latn-ZZ","leu":"leu-Latn-ZZ","lez":"lez-Cyrl-RU","lg":"lg-Latn-UG","lgg":"lgg-Latn-ZZ","li":"li-Latn-NL","lia":"lia-Latn-ZZ","lid":"lid-Latn-ZZ","lif":"lif-Deva-NP","lif-Limb":"lif-Limb-IN","lig":"lig-Latn-ZZ","lih":"lih-Latn-ZZ","lij":"lij-Latn-IT","lis":"lis-Lisu-CN","ljp":"ljp-Latn-ID","lki":"lki-Arab-IR","lkt":"lkt-Latn-US","lle":"lle-Latn-ZZ","lln":"lln-Latn-ZZ","lmn":"lmn-Telu-IN","lmo":"lmo-Latn-IT","lmp":"lmp-Latn-ZZ","ln":"ln-Latn-CD","lns":"lns-Latn-ZZ","lnu":"lnu-Latn-ZZ","lo":"lo-Laoo-LA","loj":"loj-Latn-ZZ","lok":"lok-Latn-ZZ","lol":"lol-Latn-CD","lor":"lor-Latn-ZZ","los":"los-Latn-ZZ","loz":"loz-Latn-ZM","lrc":"lrc-Arab-IR","lt":"lt-Latn-LT","ltg":"ltg-Latn-LV","lu":"lu-Latn-CD","lua":"lua-Latn-CD","luo":"luo-Latn-KE","luy":"luy-Latn-KE","luz":"luz-Arab-IR","lv":"lv-Latn-LV","lwl":"lwl-Thai-TH","lzh":"lzh-Hans-CN","lzz":"lzz-Latn-TR","mad":"mad-Latn-ID","maf":"maf-Latn-CM","mag":"mag-Deva-IN","mai":"mai-Deva-IN","mak":"mak-Latn-ID","man":"man-Latn-GM","man-GN":"man-Nkoo-GN","man-Nkoo":"man-Nkoo-GN","mas":"mas-Latn-KE","maw":"maw-Latn-ZZ","maz":"maz-Latn-MX","mbh":"mbh-Latn-ZZ","mbo":"mbo-Latn-ZZ","mbq":"mbq-Latn-ZZ","mbu":"mbu-Latn-ZZ","mbw":"mbw-Latn-ZZ","mci":"mci-Latn-ZZ","mcp":"mcp-Latn-ZZ","mcq":"mcq-Latn-ZZ","mcr":"mcr-Latn-ZZ","mcu":"mcu-Latn-ZZ","mda":"mda-Latn-ZZ","mde":"mde-Arab-ZZ","mdf":"mdf-Cyrl-RU","mdh":"mdh-Latn-PH","mdj":"mdj-Latn-ZZ","mdr":"mdr-Latn-ID","mdx":"mdx-Ethi-ZZ","med":"med-Latn-ZZ","mee":"mee-Latn-ZZ","mek":"mek-Latn-ZZ","men":"men-Latn-SL","mer":"mer-Latn-KE","met":"met-Latn-ZZ","meu":"meu-Latn-ZZ","mfa":"mfa-Arab-TH","mfe":"mfe-Latn-MU","mfn":"mfn-Latn-ZZ","mfo":"mfo-Latn-ZZ","mfq":"mfq-Latn-ZZ","mg":"mg-Latn-MG","mgh":"mgh-Latn-MZ","mgl":"mgl-Latn-ZZ","mgo":"mgo-Latn-CM","mgp":"mgp-Deva-NP","mgy":"mgy-Latn-TZ","mh":"mh-Latn-MH","mhi":"mhi-Latn-ZZ","mhl":"mhl-Latn-ZZ","mi":"mi-Latn-NZ","mif":"mif-Latn-ZZ","min":"min-Latn-ID","mis":"mis-Hatr-IQ","mis-Medf":"mis-Medf-NG","miw":"miw-Latn-ZZ","mk":"mk-Cyrl-MK","mki":"mki-Arab-ZZ","mkl":"mkl-Latn-ZZ","mkp":"mkp-Latn-ZZ","mkw":"mkw-Latn-ZZ","ml":"ml-Mlym-IN","mle":"mle-Latn-ZZ","mlp":"mlp-Latn-ZZ","mls":"mls-Latn-SD","mmo":"mmo-Latn-ZZ","mmu":"mmu-Latn-ZZ","mmx":"mmx-Latn-ZZ","mn":"mn-Cyrl-MN","mn-CN":"mn-Mong-CN","mn-Mong":"mn-Mong-CN","mna":"mna-Latn-ZZ","mnf":"mnf-Latn-ZZ","mni":"mni-Beng-IN","mnw":"mnw-Mymr-MM","mo":"mo-Latn-RO","moa":"moa-Latn-ZZ","moe":"moe-Latn-CA","moh":"moh-Latn-CA","mos":"mos-Latn-BF","mox":"mox-Latn-ZZ","mpp":"mpp-Latn-ZZ","mps":"mps-Latn-ZZ","mpt":"mpt-Latn-ZZ","mpx":"mpx-Latn-ZZ","mql":"mql-Latn-ZZ","mr":"mr-Deva-IN","mrd":"mrd-Deva-NP","mrj":"mrj-Cyrl-RU","mro":"mro-Mroo-BD","ms":"ms-Latn-MY","ms-CC":"ms-Arab-CC","mt":"mt-Latn-MT","mtc":"mtc-Latn-ZZ","mtf":"mtf-Latn-ZZ","mti":"mti-Latn-ZZ","mtr":"mtr-Deva-IN","mua":"mua-Latn-CM","mur":"mur-Latn-ZZ","mus":"mus-Latn-US","mva":"mva-Latn-ZZ","mvn":"mvn-Latn-ZZ","mvy":"mvy-Arab-PK","mwk":"mwk-Latn-ML","mwr":"mwr-Deva-IN","mwv":"mwv-Latn-ID","mww":"mww-Hmnp-US","mxc":"mxc-Latn-ZW","mxm":"mxm-Latn-ZZ","my":"my-Mymr-MM","myk":"myk-Latn-ZZ","mym":"mym-Ethi-ZZ","myv":"myv-Cyrl-RU","myw":"myw-Latn-ZZ","myx":"myx-Latn-UG","myz":"myz-Mand-IR","mzk":"mzk-Latn-ZZ","mzm":"mzm-Latn-ZZ","mzn":"mzn-Arab-IR","mzp":"mzp-Latn-ZZ","mzw":"mzw-Latn-ZZ","mzz":"mzz-Latn-ZZ","na":"na-Latn-NR","nac":"nac-Latn-ZZ","naf":"naf-Latn-ZZ","nak":"nak-Latn-ZZ","nan":"nan-Hans-CN","nap":"nap-Latn-IT","naq":"naq-Latn-NA","nas":"nas-Latn-ZZ","nb":"nb-Latn-NO","nca":"nca-Latn-ZZ","nce":"nce-Latn-ZZ","ncf":"ncf-Latn-ZZ","nch":"nch-Latn-MX","nco":"nco-Latn-ZZ","ncu":"ncu-Latn-ZZ","nd":"nd-Latn-ZW","ndc":"ndc-Latn-MZ","nds":"nds-Latn-DE","ne":"ne-Deva-NP","neb":"neb-Latn-ZZ","new":"new-Deva-NP","nex":"nex-Latn-ZZ","nfr":"nfr-Latn-ZZ","ng":"ng-Latn-NA","nga":"nga-Latn-ZZ","ngb":"ngb-Latn-ZZ","ngl":"ngl-Latn-MZ","nhb":"nhb-Latn-ZZ","nhe":"nhe-Latn-MX","nhw":"nhw-Latn-MX","nif":"nif-Latn-ZZ","nii":"nii-Latn-ZZ","nij":"nij-Latn-ID","nin":"nin-Latn-ZZ","niu":"niu-Latn-NU","niy":"niy-Latn-ZZ","niz":"niz-Latn-ZZ","njo":"njo-Latn-IN","nkg":"nkg-Latn-ZZ","nko":"nko-Latn-ZZ","nl":"nl-Latn-NL","nmg":"nmg-Latn-CM","nmz":"nmz-Latn-ZZ","nn":"nn-Latn-NO","nnf":"nnf-Latn-ZZ","nnh":"nnh-Latn-CM","nnk":"nnk-Latn-ZZ","nnm":"nnm-Latn-ZZ","nnp":"nnp-Wcho-IN","no":"no-Latn-NO","nod":"nod-Lana-TH","noe":"noe-Deva-IN","non":"non-Runr-SE","nop":"nop-Latn-ZZ","nou":"nou-Latn-ZZ","nqo":"nqo-Nkoo-GN","nr":"nr-Latn-ZA","nrb":"nrb-Latn-ZZ","nsk":"nsk-Cans-CA","nsn":"nsn-Latn-ZZ","nso":"nso-Latn-ZA","nss":"nss-Latn-ZZ","ntm":"ntm-Latn-ZZ","ntr":"ntr-Latn-ZZ","nui":"nui-Latn-ZZ","nup":"nup-Latn-ZZ","nus":"nus-Latn-SS","nuv":"nuv-Latn-ZZ","nux":"nux-Latn-ZZ","nv":"nv-Latn-US","nwb":"nwb-Latn-ZZ","nxq":"nxq-Latn-CN","nxr":"nxr-Latn-ZZ","ny":"ny-Latn-MW","nym":"nym-Latn-TZ","nyn":"nyn-Latn-UG","nzi":"nzi-Latn-GH","oc":"oc-Latn-FR","ogc":"ogc-Latn-ZZ","okr":"okr-Latn-ZZ","okv":"okv-Latn-ZZ","om":"om-Latn-ET","ong":"ong-Latn-ZZ","onn":"onn-Latn-ZZ","ons":"ons-Latn-ZZ","opm":"opm-Latn-ZZ","or":"or-Orya-IN","oro":"oro-Latn-ZZ","oru":"oru-Arab-ZZ","os":"os-Cyrl-GE","osa":"osa-Osge-US","ota":"ota-Arab-ZZ","otk":"otk-Orkh-MN","ozm":"ozm-Latn-ZZ","pa":"pa-Guru-IN","pa-Arab":"pa-Arab-PK","pa-PK":"pa-Arab-PK","pag":"pag-Latn-PH","pal":"pal-Phli-IR","pal-Phlp":"pal-Phlp-CN","pam":"pam-Latn-PH","pap":"pap-Latn-AW","pau":"pau-Latn-PW","pbi":"pbi-Latn-ZZ","pcd":"pcd-Latn-FR","pcm":"pcm-Latn-NG","pdc":"pdc-Latn-US","pdt":"pdt-Latn-CA","ped":"ped-Latn-ZZ","peo":"peo-Xpeo-IR","pex":"pex-Latn-ZZ","pfl":"pfl-Latn-DE","phl":"phl-Arab-ZZ","phn":"phn-Phnx-LB","pil":"pil-Latn-ZZ","pip":"pip-Latn-ZZ","pka":"pka-Brah-IN","pko":"pko-Latn-KE","pl":"pl-Latn-PL","pla":"pla-Latn-ZZ","pms":"pms-Latn-IT","png":"png-Latn-ZZ","pnn":"pnn-Latn-ZZ","pnt":"pnt-Grek-GR","pon":"pon-Latn-FM","ppa":"ppa-Deva-IN","ppo":"ppo-Latn-ZZ","pra":"pra-Khar-PK","prd":"prd-Arab-IR","prg":"prg-Latn-001","ps":"ps-Arab-AF","pss":"pss-Latn-ZZ","pt":"pt-Latn-BR","ptp":"ptp-Latn-ZZ","puu":"puu-Latn-GA","pwa":"pwa-Latn-ZZ","qu":"qu-Latn-PE","quc":"quc-Latn-GT","qug":"qug-Latn-EC","rai":"rai-Latn-ZZ","raj":"raj-Deva-IN","rao":"rao-Latn-ZZ","rcf":"rcf-Latn-RE","rej":"rej-Latn-ID","rel":"rel-Latn-ZZ","res":"res-Latn-ZZ","rgn":"rgn-Latn-IT","rhg":"rhg-Arab-MM","ria":"ria-Latn-IN","rif":"rif-Tfng-MA","rif-NL":"rif-Latn-NL","rjs":"rjs-Deva-NP","rkt":"rkt-Beng-BD","rm":"rm-Latn-CH","rmf":"rmf-Latn-FI","rmo":"rmo-Latn-CH","rmt":"rmt-Arab-IR","rmu":"rmu-Latn-SE","rn":"rn-Latn-BI","rna":"rna-Latn-ZZ","rng":"rng-Latn-MZ","ro":"ro-Latn-RO","rob":"rob-Latn-ID","rof":"rof-Latn-TZ","roo":"roo-Latn-ZZ","rro":"rro-Latn-ZZ","rtm":"rtm-Latn-FJ","ru":"ru-Cyrl-RU","rue":"rue-Cyrl-UA","rug":"rug-Latn-SB","rw":"rw-Latn-RW","rwk":"rwk-Latn-TZ","rwo":"rwo-Latn-ZZ","ryu":"ryu-Kana-JP","sa":"sa-Deva-IN","saf":"saf-Latn-GH","sah":"sah-Cyrl-RU","saq":"saq-Latn-KE","sas":"sas-Latn-ID","sat":"sat-Olck-IN","sav":"sav-Latn-SN","saz":"saz-Saur-IN","sba":"sba-Latn-ZZ","sbe":"sbe-Latn-ZZ","sbp":"sbp-Latn-TZ","sc":"sc-Latn-IT","sck":"sck-Deva-IN","scl":"scl-Arab-ZZ","scn":"scn-Latn-IT","sco":"sco-Latn-GB","scs":"scs-Latn-CA","sd":"sd-Arab-PK","sd-Deva":"sd-Deva-IN","sd-Khoj":"sd-Khoj-IN","sd-Sind":"sd-Sind-IN","sdc":"sdc-Latn-IT","sdh":"sdh-Arab-IR","se":"se-Latn-NO","sef":"sef-Latn-CI","seh":"seh-Latn-MZ","sei":"sei-Latn-MX","ses":"ses-Latn-ML","sg":"sg-Latn-CF","sga":"sga-Ogam-IE","sgs":"sgs-Latn-LT","sgw":"sgw-Ethi-ZZ","sgz":"sgz-Latn-ZZ","shi":"shi-Tfng-MA","shk":"shk-Latn-ZZ","shn":"shn-Mymr-MM","shu":"shu-Arab-ZZ","si":"si-Sinh-LK","sid":"sid-Latn-ET","sig":"sig-Latn-ZZ","sil":"sil-Latn-ZZ","sim":"sim-Latn-ZZ","sjr":"sjr-Latn-ZZ","sk":"sk-Latn-SK","skc":"skc-Latn-ZZ","skr":"skr-Arab-PK","sks":"sks-Latn-ZZ","sl":"sl-Latn-SI","sld":"sld-Latn-ZZ","sli":"sli-Latn-PL","sll":"sll-Latn-ZZ","sly":"sly-Latn-ID","sm":"sm-Latn-WS","sma":"sma-Latn-SE","smj":"smj-Latn-SE","smn":"smn-Latn-FI","smp":"smp-Samr-IL","smq":"smq-Latn-ZZ","sms":"sms-Latn-FI","sn":"sn-Latn-ZW","snc":"snc-Latn-ZZ","snk":"snk-Latn-ML","snp":"snp-Latn-ZZ","snx":"snx-Latn-ZZ","sny":"sny-Latn-ZZ","so":"so-Latn-SO","sog":"sog-Sogd-UZ","sok":"sok-Latn-ZZ","soq":"soq-Latn-ZZ","sou":"sou-Thai-TH","soy":"soy-Latn-ZZ","spd":"spd-Latn-ZZ","spl":"spl-Latn-ZZ","sps":"sps-Latn-ZZ","sq":"sq-Latn-AL","sr":"sr-Cyrl-RS","sr-ME":"sr-Latn-ME","sr-RO":"sr-Latn-RO","sr-RU":"sr-Latn-RU","sr-TR":"sr-Latn-TR","srb":"srb-Sora-IN","srn":"srn-Latn-SR","srr":"srr-Latn-SN","srx":"srx-Deva-IN","ss":"ss-Latn-ZA","ssd":"ssd-Latn-ZZ","ssg":"ssg-Latn-ZZ","ssy":"ssy-Latn-ER","st":"st-Latn-ZA","stk":"stk-Latn-ZZ","stq":"stq-Latn-DE","su":"su-Latn-ID","sua":"sua-Latn-ZZ","sue":"sue-Latn-ZZ","suk":"suk-Latn-TZ","sur":"sur-Latn-ZZ","sus":"sus-Latn-GN","sv":"sv-Latn-SE","sw":"sw-Latn-TZ","swb":"swb-Arab-YT","swc":"swc-Latn-CD","swg":"swg-Latn-DE","swp":"swp-Latn-ZZ","swv":"swv-Deva-IN","sxn":"sxn-Latn-ID","sxw":"sxw-Latn-ZZ","syl":"syl-Beng-BD","syr":"syr-Syrc-IQ","szl":"szl-Latn-PL","ta":"ta-Taml-IN","taj":"taj-Deva-NP","tal":"tal-Latn-ZZ","tan":"tan-Latn-ZZ","taq":"taq-Latn-ZZ","tbc":"tbc-Latn-ZZ","tbd":"tbd-Latn-ZZ","tbf":"tbf-Latn-ZZ","tbg":"tbg-Latn-ZZ","tbo":"tbo-Latn-ZZ","tbw":"tbw-Latn-PH","tbz":"tbz-Latn-ZZ","tci":"tci-Latn-ZZ","tcy":"tcy-Knda-IN","tdd":"tdd-Tale-CN","tdg":"tdg-Deva-NP","tdh":"tdh-Deva-NP","tdu":"tdu-Latn-MY","te":"te-Telu-IN","ted":"ted-Latn-ZZ","tem":"tem-Latn-SL","teo":"teo-Latn-UG","tet":"tet-Latn-TL","tfi":"tfi-Latn-ZZ","tg":"tg-Cyrl-TJ","tg-Arab":"tg-Arab-PK","tg-PK":"tg-Arab-PK","tgc":"tgc-Latn-ZZ","tgo":"tgo-Latn-ZZ","tgu":"tgu-Latn-ZZ","th":"th-Thai-TH","thl":"thl-Deva-NP","thq":"thq-Deva-NP","thr":"thr-Deva-NP","ti":"ti-Ethi-ET","tif":"tif-Latn-ZZ","tig":"tig-Ethi-ER","tik":"tik-Latn-ZZ","tim":"tim-Latn-ZZ","tio":"tio-Latn-ZZ","tiv":"tiv-Latn-NG","tk":"tk-Latn-TM","tkl":"tkl-Latn-TK","tkr":"tkr-Latn-AZ","tkt":"tkt-Deva-NP","tl":"tl-Latn-PH","tlf":"tlf-Latn-ZZ","tlx":"tlx-Latn-ZZ","tly":"tly-Latn-AZ","tmh":"tmh-Latn-NE","tmy":"tmy-Latn-ZZ","tn":"tn-Latn-ZA","tnh":"tnh-Latn-ZZ","to":"to-Latn-TO","tof":"tof-Latn-ZZ","tog":"tog-Latn-MW","toq":"toq-Latn-ZZ","tpi":"tpi-Latn-PG","tpm":"tpm-Latn-ZZ","tpz":"tpz-Latn-ZZ","tqo":"tqo-Latn-ZZ","tr":"tr-Latn-TR","tru":"tru-Latn-TR","trv":"trv-Latn-TW","trw":"trw-Arab-PK","ts":"ts-Latn-ZA","tsd":"tsd-Grek-GR","tsf":"tsf-Deva-NP","tsg":"tsg-Latn-PH","tsj":"tsj-Tibt-BT","tsw":"tsw-Latn-ZZ","tt":"tt-Cyrl-RU","ttd":"ttd-Latn-ZZ","tte":"tte-Latn-ZZ","ttj":"ttj-Latn-UG","ttr":"ttr-Latn-ZZ","tts":"tts-Thai-TH","ttt":"ttt-Latn-AZ","tuh":"tuh-Latn-ZZ","tul":"tul-Latn-ZZ","tum":"tum-Latn-MW","tuq":"tuq-Latn-ZZ","tvd":"tvd-Latn-ZZ","tvl":"tvl-Latn-TV","tvu":"tvu-Latn-ZZ","twh":"twh-Latn-ZZ","twq":"twq-Latn-NE","txg":"txg-Tang-CN","ty":"ty-Latn-PF","tya":"tya-Latn-ZZ","tyv":"tyv-Cyrl-RU","tzm":"tzm-Latn-MA","ubu":"ubu-Latn-ZZ","udm":"udm-Cyrl-RU","ug":"ug-Arab-CN","ug-Cyrl":"ug-Cyrl-KZ","ug-KZ":"ug-Cyrl-KZ","ug-MN":"ug-Cyrl-MN","uga":"uga-Ugar-SY","uk":"uk-Cyrl-UA","uli":"uli-Latn-FM","umb":"umb-Latn-AO","und":"en-Latn-US","und-002":"en-Latn-NG","und-003":"en-Latn-US","und-005":"pt-Latn-BR","und-009":"en-Latn-AU","und-011":"en-Latn-NG","und-013":"es-Latn-MX","und-014":"sw-Latn-TZ","und-015":"ar-Arab-EG","und-017":"sw-Latn-CD","und-018":"en-Latn-ZA","und-019":"en-Latn-US","und-021":"en-Latn-US","und-029":"es-Latn-CU","und-030":"zh-Hans-CN","und-034":"hi-Deva-IN","und-035":"id-Latn-ID","und-039":"it-Latn-IT","und-053":"en-Latn-AU","und-054":"en-Latn-PG","und-057":"en-Latn-GU","und-061":"sm-Latn-WS","und-142":"zh-Hans-CN","und-143":"uz-Latn-UZ","und-145":"ar-Arab-SA","und-150":"ru-Cyrl-RU","und-151":"ru-Cyrl-RU","und-154":"en-Latn-GB","und-155":"de-Latn-DE","und-202":"en-Latn-NG","und-419":"es-Latn-419","und-AD":"ca-Latn-AD","und-Adlm":"ff-Adlm-GN","und-AE":"ar-Arab-AE","und-AF":"fa-Arab-AF","und-Aghb":"lez-Aghb-RU","und-Ahom":"aho-Ahom-IN","und-AL":"sq-Latn-AL","und-AM":"hy-Armn-AM","und-AO":"pt-Latn-AO","und-AQ":"und-Latn-AQ","und-AR":"es-Latn-AR","und-Arab":"ar-Arab-EG","und-Arab-CC":"ms-Arab-CC","und-Arab-CN":"ug-Arab-CN","und-Arab-GB":"ks-Arab-GB","und-Arab-ID":"ms-Arab-ID","und-Arab-IN":"ur-Arab-IN","und-Arab-KH":"cja-Arab-KH","und-Arab-MM":"rhg-Arab-MM","und-Arab-MN":"kk-Arab-MN","und-Arab-MU":"ur-Arab-MU","und-Arab-NG":"ha-Arab-NG","und-Arab-PK":"ur-Arab-PK","und-Arab-TG":"apd-Arab-TG","und-Arab-TH":"mfa-Arab-TH","und-Arab-TJ":"fa-Arab-TJ","und-Arab-TR":"az-Arab-TR","und-Arab-YT":"swb-Arab-YT","und-Armi":"arc-Armi-IR","und-Armn":"hy-Armn-AM","und-AS":"sm-Latn-AS","und-AT":"de-Latn-AT","und-Avst":"ae-Avst-IR","und-AW":"nl-Latn-AW","und-AX":"sv-Latn-AX","und-AZ":"az-Latn-AZ","und-BA":"bs-Latn-BA","und-Bali":"ban-Bali-ID","und-Bamu":"bax-Bamu-CM","und-Bass":"bsq-Bass-LR","und-Batk":"bbc-Batk-ID","und-BD":"bn-Beng-BD","und-BE":"nl-Latn-BE","und-Beng":"bn-Beng-BD","und-BF":"fr-Latn-BF","und-BG":"bg-Cyrl-BG","und-BH":"ar-Arab-BH","und-Bhks":"sa-Bhks-IN","und-BI":"rn-Latn-BI","und-BJ":"fr-Latn-BJ","und-BL":"fr-Latn-BL","und-BN":"ms-Latn-BN","und-BO":"es-Latn-BO","und-Bopo":"zh-Bopo-TW","und-BQ":"pap-Latn-BQ","und-BR":"pt-Latn-BR","und-Brah":"pka-Brah-IN","und-Brai":"fr-Brai-FR","und-BT":"dz-Tibt-BT","und-Bugi":"bug-Bugi-ID","und-Buhd":"bku-Buhd-PH","und-BV":"und-Latn-BV","und-BY":"be-Cyrl-BY","und-Cakm":"ccp-Cakm-BD","und-Cans":"cr-Cans-CA","und-Cari":"xcr-Cari-TR","und-CD":"sw-Latn-CD","und-CF":"fr-Latn-CF","und-CG":"fr-Latn-CG","und-CH":"de-Latn-CH","und-Cham":"cjm-Cham-VN","und-Cher":"chr-Cher-US","und-Chrs":"xco-Chrs-UZ","und-CI":"fr-Latn-CI","und-CL":"es-Latn-CL","und-CM":"fr-Latn-CM","und-CN":"zh-Hans-CN","und-CO":"es-Latn-CO","und-Copt":"cop-Copt-EG","und-CP":"und-Latn-CP","und-Cprt":"grc-Cprt-CY","und-CR":"es-Latn-CR","und-CU":"es-Latn-CU","und-CV":"pt-Latn-CV","und-CW":"pap-Latn-CW","und-CY":"el-Grek-CY","und-Cyrl":"ru-Cyrl-RU","und-Cyrl-AL":"mk-Cyrl-AL","und-Cyrl-BA":"sr-Cyrl-BA","und-Cyrl-GE":"os-Cyrl-GE","und-Cyrl-GR":"mk-Cyrl-GR","und-Cyrl-MD":"uk-Cyrl-MD","und-Cyrl-RO":"bg-Cyrl-RO","und-Cyrl-SK":"uk-Cyrl-SK","und-Cyrl-TR":"kbd-Cyrl-TR","und-Cyrl-XK":"sr-Cyrl-XK","und-CZ":"cs-Latn-CZ","und-DE":"de-Latn-DE","und-Deva":"hi-Deva-IN","und-Deva-BT":"ne-Deva-BT","und-Deva-FJ":"hif-Deva-FJ","und-Deva-MU":"bho-Deva-MU","und-Deva-PK":"btv-Deva-PK","und-Diak":"dv-Diak-MV","und-DJ":"aa-Latn-DJ","und-DK":"da-Latn-DK","und-DO":"es-Latn-DO","und-Dogr":"doi-Dogr-IN","und-Dupl":"fr-Dupl-FR","und-DZ":"ar-Arab-DZ","und-EA":"es-Latn-EA","und-EC":"es-Latn-EC","und-EE":"et-Latn-EE","und-EG":"ar-Arab-EG","und-Egyp":"egy-Egyp-EG","und-EH":"ar-Arab-EH","und-Elba":"sq-Elba-AL","und-Elym":"arc-Elym-IR","und-ER":"ti-Ethi-ER","und-ES":"es-Latn-ES","und-ET":"am-Ethi-ET","und-Ethi":"am-Ethi-ET","und-EU":"en-Latn-IE","und-EZ":"de-Latn-EZ","und-FI":"fi-Latn-FI","und-FO":"fo-Latn-FO","und-FR":"fr-Latn-FR","und-GA":"fr-Latn-GA","und-GE":"ka-Geor-GE","und-Geor":"ka-Geor-GE","und-GF":"fr-Latn-GF","und-GH":"ak-Latn-GH","und-GL":"kl-Latn-GL","und-Glag":"cu-Glag-BG","und-GN":"fr-Latn-GN","und-Gong":"wsg-Gong-IN","und-Gonm":"esg-Gonm-IN","und-Goth":"got-Goth-UA","und-GP":"fr-Latn-GP","und-GQ":"es-Latn-GQ","und-GR":"el-Grek-GR","und-Gran":"sa-Gran-IN","und-Grek":"el-Grek-GR","und-Grek-TR":"bgx-Grek-TR","und-GS":"und-Latn-GS","und-GT":"es-Latn-GT","und-Gujr":"gu-Gujr-IN","und-Guru":"pa-Guru-IN","und-GW":"pt-Latn-GW","und-Hanb":"zh-Hanb-TW","und-Hang":"ko-Hang-KR","und-Hani":"zh-Hani-CN","und-Hano":"hnn-Hano-PH","und-Hans":"zh-Hans-CN","und-Hant":"zh-Hant-TW","und-Hatr":"mis-Hatr-IQ","und-Hebr":"he-Hebr-IL","und-Hebr-CA":"yi-Hebr-CA","und-Hebr-GB":"yi-Hebr-GB","und-Hebr-SE":"yi-Hebr-SE","und-Hebr-UA":"yi-Hebr-UA","und-Hebr-US":"yi-Hebr-US","und-Hira":"ja-Hira-JP","und-HK":"zh-Hant-HK","und-Hluw":"hlu-Hluw-TR","und-HM":"und-Latn-HM","und-Hmng":"hnj-Hmng-LA","und-Hmnp":"mww-Hmnp-US","und-HN":"es-Latn-HN","und-HR":"hr-Latn-HR","und-HT":"ht-Latn-HT","und-HU":"hu-Latn-HU","und-Hung":"hu-Hung-HU","und-IC":"es-Latn-IC","und-ID":"id-Latn-ID","und-IL":"he-Hebr-IL","und-IN":"hi-Deva-IN","und-IQ":"ar-Arab-IQ","und-IR":"fa-Arab-IR","und-IS":"is-Latn-IS","und-IT":"it-Latn-IT","und-Ital":"ett-Ital-IT","und-Jamo":"ko-Jamo-KR","und-Java":"jv-Java-ID","und-JO":"ar-Arab-JO","und-JP":"ja-Jpan-JP","und-Jpan":"ja-Jpan-JP","und-Kali":"eky-Kali-MM","und-Kana":"ja-Kana-JP","und-KE":"sw-Latn-KE","und-KG":"ky-Cyrl-KG","und-KH":"km-Khmr-KH","und-Khar":"pra-Khar-PK","und-Khmr":"km-Khmr-KH","und-Khoj":"sd-Khoj-IN","und-Kits":"zkt-Kits-CN","und-KM":"ar-Arab-KM","und-Knda":"kn-Knda-IN","und-Kore":"ko-Kore-KR","und-KP":"ko-Kore-KP","und-KR":"ko-Kore-KR","und-Kthi":"bho-Kthi-IN","und-KW":"ar-Arab-KW","und-KZ":"ru-Cyrl-KZ","und-LA":"lo-Laoo-LA","und-Lana":"nod-Lana-TH","und-Laoo":"lo-Laoo-LA","und-Latn-AF":"tk-Latn-AF","und-Latn-AM":"ku-Latn-AM","und-Latn-CN":"za-Latn-CN","und-Latn-CY":"tr-Latn-CY","und-Latn-DZ":"fr-Latn-DZ","und-Latn-ET":"en-Latn-ET","und-Latn-GE":"ku-Latn-GE","und-Latn-IR":"tk-Latn-IR","und-Latn-KM":"fr-Latn-KM","und-Latn-MA":"fr-Latn-MA","und-Latn-MK":"sq-Latn-MK","und-Latn-MM":"kac-Latn-MM","und-Latn-MO":"pt-Latn-MO","und-Latn-MR":"fr-Latn-MR","und-Latn-RU":"krl-Latn-RU","und-Latn-SY":"fr-Latn-SY","und-Latn-TN":"fr-Latn-TN","und-Latn-TW":"trv-Latn-TW","und-Latn-UA":"pl-Latn-UA","und-LB":"ar-Arab-LB","und-Lepc":"lep-Lepc-IN","und-LI":"de-Latn-LI","und-Limb":"lif-Limb-IN","und-Lina":"lab-Lina-GR","und-Linb":"grc-Linb-GR","und-Lisu":"lis-Lisu-CN","und-LK":"si-Sinh-LK","und-LS":"st-Latn-LS","und-LT":"lt-Latn-LT","und-LU":"fr-Latn-LU","und-LV":"lv-Latn-LV","und-LY":"ar-Arab-LY","und-Lyci":"xlc-Lyci-TR","und-Lydi":"xld-Lydi-TR","und-MA":"ar-Arab-MA","und-Mahj":"hi-Mahj-IN","und-Maka":"mak-Maka-ID","und-Mand":"myz-Mand-IR","und-Mani":"xmn-Mani-CN","und-Marc":"bo-Marc-CN","und-MC":"fr-Latn-MC","und-MD":"ro-Latn-MD","und-ME":"sr-Latn-ME","und-Medf":"mis-Medf-NG","und-Mend":"men-Mend-SL","und-Merc":"xmr-Merc-SD","und-Mero":"xmr-Mero-SD","und-MF":"fr-Latn-MF","und-MG":"mg-Latn-MG","und-MK":"mk-Cyrl-MK","und-ML":"bm-Latn-ML","und-Mlym":"ml-Mlym-IN","und-MM":"my-Mymr-MM","und-MN":"mn-Cyrl-MN","und-MO":"zh-Hant-MO","und-Modi":"mr-Modi-IN","und-Mong":"mn-Mong-CN","und-MQ":"fr-Latn-MQ","und-MR":"ar-Arab-MR","und-Mroo":"mro-Mroo-BD","und-MT":"mt-Latn-MT","und-Mtei":"mni-Mtei-IN","und-MU":"mfe-Latn-MU","und-Mult":"skr-Mult-PK","und-MV":"dv-Thaa-MV","und-MX":"es-Latn-MX","und-MY":"ms-Latn-MY","und-Mymr":"my-Mymr-MM","und-Mymr-IN":"kht-Mymr-IN","und-Mymr-TH":"mnw-Mymr-TH","und-MZ":"pt-Latn-MZ","und-NA":"af-Latn-NA","und-Nand":"sa-Nand-IN","und-Narb":"xna-Narb-SA","und-Nbat":"arc-Nbat-JO","und-NC":"fr-Latn-NC","und-NE":"ha-Latn-NE","und-Newa":"new-Newa-NP","und-NI":"es-Latn-NI","und-Nkoo":"man-Nkoo-GN","und-NL":"nl-Latn-NL","und-NO":"nb-Latn-NO","und-NP":"ne-Deva-NP","und-Nshu":"zhx-Nshu-CN","und-Ogam":"sga-Ogam-IE","und-Olck":"sat-Olck-IN","und-OM":"ar-Arab-OM","und-Orkh":"otk-Orkh-MN","und-Orya":"or-Orya-IN","und-Osge":"osa-Osge-US","und-Osma":"so-Osma-SO","und-PA":"es-Latn-PA","und-Palm":"arc-Palm-SY","und-Pauc":"ctd-Pauc-MM","und-PE":"es-Latn-PE","und-Perm":"kv-Perm-RU","und-PF":"fr-Latn-PF","und-PG":"tpi-Latn-PG","und-PH":"fil-Latn-PH","und-Phag":"lzh-Phag-CN","und-Phli":"pal-Phli-IR","und-Phlp":"pal-Phlp-CN","und-Phnx":"phn-Phnx-LB","und-PK":"ur-Arab-PK","und-PL":"pl-Latn-PL","und-Plrd":"hmd-Plrd-CN","und-PM":"fr-Latn-PM","und-PR":"es-Latn-PR","und-Prti":"xpr-Prti-IR","und-PS":"ar-Arab-PS","und-PT":"pt-Latn-PT","und-PW":"pau-Latn-PW","und-PY":"gn-Latn-PY","und-QA":"ar-Arab-QA","und-QO":"en-Latn-DG","und-RE":"fr-Latn-RE","und-Rjng":"rej-Rjng-ID","und-RO":"ro-Latn-RO","und-Rohg":"rhg-Rohg-MM","und-RS":"sr-Cyrl-RS","und-RU":"ru-Cyrl-RU","und-Runr":"non-Runr-SE","und-RW":"rw-Latn-RW","und-SA":"ar-Arab-SA","und-Samr":"smp-Samr-IL","und-Sarb":"xsa-Sarb-YE","und-Saur":"saz-Saur-IN","und-SC":"fr-Latn-SC","und-SD":"ar-Arab-SD","und-SE":"sv-Latn-SE","und-Sgnw":"ase-Sgnw-US","und-Shaw":"en-Shaw-GB","und-Shrd":"sa-Shrd-IN","und-SI":"sl-Latn-SI","und-Sidd":"sa-Sidd-IN","und-Sind":"sd-Sind-IN","und-Sinh":"si-Sinh-LK","und-SJ":"nb-Latn-SJ","und-SK":"sk-Latn-SK","und-SM":"it-Latn-SM","und-SN":"fr-Latn-SN","und-SO":"so-Latn-SO","und-Sogd":"sog-Sogd-UZ","und-Sogo":"sog-Sogo-UZ","und-Sora":"srb-Sora-IN","und-Soyo":"cmg-Soyo-MN","und-SR":"nl-Latn-SR","und-ST":"pt-Latn-ST","und-Sund":"su-Sund-ID","und-SV":"es-Latn-SV","und-SY":"ar-Arab-SY","und-Sylo":"syl-Sylo-BD","und-Syrc":"syr-Syrc-IQ","und-Tagb":"tbw-Tagb-PH","und-Takr":"doi-Takr-IN","und-Tale":"tdd-Tale-CN","und-Talu":"khb-Talu-CN","und-Taml":"ta-Taml-IN","und-Tang":"txg-Tang-CN","und-Tavt":"blt-Tavt-VN","und-TD":"fr-Latn-TD","und-Telu":"te-Telu-IN","und-TF":"fr-Latn-TF","und-Tfng":"zgh-Tfng-MA","und-TG":"fr-Latn-TG","und-Tglg":"fil-Tglg-PH","und-TH":"th-Thai-TH","und-Thaa":"dv-Thaa-MV","und-Thai":"th-Thai-TH","und-Thai-CN":"lcp-Thai-CN","und-Thai-KH":"kdt-Thai-KH","und-Thai-LA":"kdt-Thai-LA","und-Tibt":"bo-Tibt-CN","und-Tirh":"mai-Tirh-IN","und-TJ":"tg-Cyrl-TJ","und-TK":"tkl-Latn-TK","und-TL":"pt-Latn-TL","und-TM":"tk-Latn-TM","und-TN":"ar-Arab-TN","und-TO":"to-Latn-TO","und-TR":"tr-Latn-TR","und-TV":"tvl-Latn-TV","und-TW":"zh-Hant-TW","und-TZ":"sw-Latn-TZ","und-UA":"uk-Cyrl-UA","und-UG":"sw-Latn-UG","und-Ugar":"uga-Ugar-SY","und-UY":"es-Latn-UY","und-UZ":"uz-Latn-UZ","und-VA":"it-Latn-VA","und-Vaii":"vai-Vaii-LR","und-VE":"es-Latn-VE","und-VN":"vi-Latn-VN","und-VU":"bi-Latn-VU","und-Wara":"hoc-Wara-IN","und-Wcho":"nnp-Wcho-IN","und-WF":"fr-Latn-WF","und-WS":"sm-Latn-WS","und-XK":"sq-Latn-XK","und-Xpeo":"peo-Xpeo-IR","und-Xsux":"akk-Xsux-IQ","und-YE":"ar-Arab-YE","und-Yezi":"ku-Yezi-GE","und-Yiii":"ii-Yiii-CN","und-YT":"fr-Latn-YT","und-Zanb":"cmg-Zanb-MN","und-ZW":"sn-Latn-ZW","unr":"unr-Beng-IN","unr-Deva":"unr-Deva-NP","unr-NP":"unr-Deva-NP","unx":"unx-Beng-IN","uok":"uok-Latn-ZZ","ur":"ur-Arab-PK","uri":"uri-Latn-ZZ","urt":"urt-Latn-ZZ","urw":"urw-Latn-ZZ","usa":"usa-Latn-ZZ","uth":"uth-Latn-ZZ","utr":"utr-Latn-ZZ","uvh":"uvh-Latn-ZZ","uvl":"uvl-Latn-ZZ","uz":"uz-Latn-UZ","uz-AF":"uz-Arab-AF","uz-Arab":"uz-Arab-AF","uz-CN":"uz-Cyrl-CN","vag":"vag-Latn-ZZ","vai":"vai-Vaii-LR","van":"van-Latn-ZZ","ve":"ve-Latn-ZA","vec":"vec-Latn-IT","vep":"vep-Latn-RU","vi":"vi-Latn-VN","vic":"vic-Latn-SX","viv":"viv-Latn-ZZ","vls":"vls-Latn-BE","vmf":"vmf-Latn-DE","vmw":"vmw-Latn-MZ","vo":"vo-Latn-001","vot":"vot-Latn-RU","vro":"vro-Latn-EE","vun":"vun-Latn-TZ","vut":"vut-Latn-ZZ","wa":"wa-Latn-BE","wae":"wae-Latn-CH","waj":"waj-Latn-ZZ","wal":"wal-Ethi-ET","wan":"wan-Latn-ZZ","war":"war-Latn-PH","wbp":"wbp-Latn-AU","wbq":"wbq-Telu-IN","wbr":"wbr-Deva-IN","wci":"wci-Latn-ZZ","wer":"wer-Latn-ZZ","wgi":"wgi-Latn-ZZ","whg":"whg-Latn-ZZ","wib":"wib-Latn-ZZ","wiu":"wiu-Latn-ZZ","wiv":"wiv-Latn-ZZ","wja":"wja-Latn-ZZ","wji":"wji-Latn-ZZ","wls":"wls-Latn-WF","wmo":"wmo-Latn-ZZ","wnc":"wnc-Latn-ZZ","wni":"wni-Arab-KM","wnu":"wnu-Latn-ZZ","wo":"wo-Latn-SN","wob":"wob-Latn-ZZ","wos":"wos-Latn-ZZ","wrs":"wrs-Latn-ZZ","wsg":"wsg-Gong-IN","wsk":"wsk-Latn-ZZ","wtm":"wtm-Deva-IN","wuu":"wuu-Hans-CN","wuv":"wuv-Latn-ZZ","wwa":"wwa-Latn-ZZ","xav":"xav-Latn-BR","xbi":"xbi-Latn-ZZ","xco":"xco-Chrs-UZ","xcr":"xcr-Cari-TR","xes":"xes-Latn-ZZ","xh":"xh-Latn-ZA","xla":"xla-Latn-ZZ","xlc":"xlc-Lyci-TR","xld":"xld-Lydi-TR","xmf":"xmf-Geor-GE","xmn":"xmn-Mani-CN","xmr":"xmr-Merc-SD","xna":"xna-Narb-SA","xnr":"xnr-Deva-IN","xog":"xog-Latn-UG","xon":"xon-Latn-ZZ","xpr":"xpr-Prti-IR","xrb":"xrb-Latn-ZZ","xsa":"xsa-Sarb-YE","xsi":"xsi-Latn-ZZ","xsm":"xsm-Latn-ZZ","xsr":"xsr-Deva-NP","xwe":"xwe-Latn-ZZ","yam":"yam-Latn-ZZ","yao":"yao-Latn-MZ","yap":"yap-Latn-FM","yas":"yas-Latn-ZZ","yat":"yat-Latn-ZZ","yav":"yav-Latn-CM","yay":"yay-Latn-ZZ","yaz":"yaz-Latn-ZZ","yba":"yba-Latn-ZZ","ybb":"ybb-Latn-CM","yby":"yby-Latn-ZZ","yer":"yer-Latn-ZZ","ygr":"ygr-Latn-ZZ","ygw":"ygw-Latn-ZZ","yi":"yi-Hebr-001","yko":"yko-Latn-ZZ","yle":"yle-Latn-ZZ","ylg":"ylg-Latn-ZZ","yll":"yll-Latn-ZZ","yml":"yml-Latn-ZZ","yo":"yo-Latn-NG","yon":"yon-Latn-ZZ","yrb":"yrb-Latn-ZZ","yre":"yre-Latn-ZZ","yrl":"yrl-Latn-BR","yss":"yss-Latn-ZZ","yua":"yua-Latn-MX","yue":"yue-Hant-HK","yue-CN":"yue-Hans-CN","yue-Hans":"yue-Hans-CN","yuj":"yuj-Latn-ZZ","yut":"yut-Latn-ZZ","yuw":"yuw-Latn-ZZ","za":"za-Latn-CN","zag":"zag-Latn-SD","zdj":"zdj-Arab-KM","zea":"zea-Latn-NL","zgh":"zgh-Tfng-MA","zh":"zh-Hans-CN","zh-AU":"zh-Hant-AU","zh-BN":"zh-Hant-BN","zh-Bopo":"zh-Bopo-TW","zh-GB":"zh-Hant-GB","zh-GF":"zh-Hant-GF","zh-Hanb":"zh-Hanb-TW","zh-Hant":"zh-Hant-TW","zh-HK":"zh-Hant-HK","zh-ID":"zh-Hant-ID","zh-MO":"zh-Hant-MO","zh-PA":"zh-Hant-PA","zh-PF":"zh-Hant-PF","zh-PH":"zh-Hant-PH","zh-SR":"zh-Hant-SR","zh-TH":"zh-Hant-TH","zh-TW":"zh-Hant-TW","zh-US":"zh-Hant-US","zh-VN":"zh-Hant-VN","zhx":"zhx-Nshu-CN","zia":"zia-Latn-ZZ","zkt":"zkt-Kits-CN","zlm":"zlm-Latn-TG","zmi":"zmi-Latn-MY","zne":"zne-Latn-ZZ","zu":"zu-Latn-ZA","zza":"zza-Latn-TR"}}}')},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),s=n(190),c=(n(117),n(126),n(131),n(220),n(221),n(16));class u extends a.a.Component{constructor(...e){super(...e),this.state={locale:Object(c.a)(),messages:Object(c.c)()},this.updateLocale=()=>{this.setState({locale:Object(c.a)(),messages:Object(c.c)()})}}componentDidMount(){this.updateLocale(),window.addEventListener("locale-updated",this.updateLocale)}componentWillUnmount(){window.removeEventListener("locale-updated",this.updateLocale)}render(){return a.a.createElement(s.a,{locale:this.state.locale,messages:this.state.messages},this.props.children)}}u.propTypes={children:o.a.node.isRequired}},64:function(e,t,n){e.exports=n.p+"assets/images/app-logo-6c8cfcf9c903ba04105ca0bc29514de7.png"},65:function(e,t,n){e.exports=n.p+"assets/images/app-logo-dark-3ce7d2da524556485823d5ac27c3a7fc.png"},66:function(e,t,n){e.exports=n.p+"assets/images/company-logo-8f6f7c3b303004256295b45c2eee5117.png"},67:function(e,t,n){e.exports=n.p+"assets/images/home-hero-background-unbranded-af23743b76d26ec9d5c160558a2e18ef.png"},68:function(e,t,n){e.exports=n.p+"assets/images/editor-logo-6f885a1543496ebc23a21b7fea82b255.png"},69:function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===a}(e)}(e)};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function s(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||r;var a=Array.isArray(t);return a===Array.isArray(e)?a?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=i(e[t],n)})),Object.keys(t).forEach((function(a){n.isMergeableObject(t[a])&&e[a]?r[a]=s(e[a],t[a],n):r[a]=i(t[a],n)})),r}(e,t,n):i(t,n)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var c=s;t.a=c},7:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));const r=Object.freeze({PERMISSIONS_STATUS_CHANGED:"permissions_status_changed",MIC_SHARE_STARTED:"mic_share_started",MIC_SHARE_ENDED:"mic_share_ended",VIDEO_SHARE_STARTED:"video_share_started",VIDEO_SHARE_ENDED:"video_share_ended",DEVICE_CHANGE:"devicechange"}),a=Object.freeze({GRANTED:"granted",DENIED:"denied",PROMPT:"prompt"}),i=Object.freeze({MICROPHONE:"microphone",SPEAKERS:"speakers",CAMERA:"camera",SCREEN:"screen"}),o="none"},78:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(110);const a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,i=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i;function o(){return window.navigator.maxTouchPoints&&window.navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}function s(){return/iPad|iPhone|iPod/.test(window.navigator.platform)||o()}function c(){return/(OculusBrowser)/i.test(window.navigator.userAgent)||/(Mobile VR)/i.test(window.navigator.userAgent)}const u=function(){let e=!1;var t;return t=window.navigator.userAgent||window.navigator.vendor||window.opera,(a.test(t)||i.test(t.substr(0,4)))&&(e=!0),(s()||function(e){const t=e||window.navigator.userAgent;return o()||/ipad|Nexus (7|9)|xoom|sch-i800|playbook|tablet|kindle/i.test(t)}()||/R7 Build/.test(window.navigator.userAgent))&&(e=!0),Object(r.a)()&&(e=!0),c()&&(e=!1),function(){return e}}();t.a=u},8:function(e,t,n){"use strict";n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"j",(function(){return y})),n.d(t,"k",(function(){return w})),n.d(t,"f",(function(){return A})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return T})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return C})),n.d(t,"h",(function(){return D})),n.d(t,"i",(function(){return I})),n.d(t,"o",(function(){return j})),n.d(t,"p",(function(){return F})),n.d(t,"d",(function(){return U})),n.d(t,"l",(function(){return N})),n.d(t,"c",(function(){return B})),n.d(t,"q",(function(){return z})),n.d(t,"r",(function(){return H}));var r=n(87);const a=["able","absolute","acceptable","acclaimed","accomplished","accurate","aching","acrobatic","adorable","adventurous","basic","belated","beloved","calm","candid","capital","carefree","caring","cautious","celebrated","charming","daring","darling","dearest","each","eager","early","earnest","easy","easygoing","ecstatic","edible","fabulous","fair","faithful","familiar","famous","fancy","fantastic","far","generous","gentle","genuine","giant","handmade","handsome","handy","happy","icy","ideal","identical","keen","lasting","lavish","magnificent","majestic","mammoth","marvelous","natural","obedient","palatable","parched","passionate","pastel","peaceful","perfect","perfumed","quaint","qualified","radiant","rapid","rare","safe","sandy","satisfied","scaly","scarce","scared","scary","scented","scientific","secret","sentimental","talkative","tangible","tart","tasty","tattered","teeming","ultimate","uncommon","unconscious","understated","warm","active","adept","admirable","admired","adorable","adored","advanced","affectionate","beneficial","best","better","big","cheerful","cheery","chief","chilly","classic","clean","clear","clever","decent","decisive","deep","defiant","definitive","delectable","delicious","elaborate","elastic","elated","elegant","elementary","elliptical","fast","favorable","favorite","fearless","gifted","glamorous","gleaming","glittering","harmonious","imaginative","immense","jealous","kind","leafy","legal","mature","mean","nautical","neat","necessary","needy","oddball","offbeat","periodic","perky","personal","pertinent","petty","quarterly","ready","real","realistic","reasonable","regal","serene","shabby","sharp","shiny","showy","shy","silky","tempting","tense","terrific","testy","thankful","uniform","unique","vast","weary","wee","welcome","agile","alarmed","alert","alive","bleak","blissful","blushing","coarse","colorful","colossal","comfortable","compassionate","complete","delightful","dense","dependable","dependent","descriptive","detailed","determined","devoted","different","eminent","emotional","enchanted","enchanting","energetic","enormous","fine","finished","firm","firsthand","fixed","flashy","flawless","glorious","glossy","golden","good","gorgeous","graceful","healthy","heartfelt","hearty","helpful","impartial","impressive","jolly","jovial","lighthearted","likable","lined","mellow","melodic","memorable","mild","new","opulent","playful","pleasant","pleasing","plump","plush","polished","polite","reliable","relieved","remarkable","remote","respectful","responsible","simple","simplistic","sizzling","sleepy","slight","slim","smart","smooth","snappy","snoopy","thirsty","this","thorough","those","thoughtful","united","vibrant","vicious","wellmade","whimsical","whirlwind","zesty","amazing","ambitious","ample","amused","amusing","ancient","angelic","antique","bold","bossy","both","bouncy","bountiful","complex","conscious","considerate","constant","content","conventional","cooked","cool","cooperative","diligent","dimwitted","direct","discrete","envious","essential","ethical","euphoric","flippant","fluffy","flustered","focused","fond","gracious","grand","grandiose","granular","grateful","grave","great","hidden","high","hilarious","homely","incomparable","incredible","infamous","joyful","lively","loathsome","lonely","long","mindless","miniature","minor","misty","next","nice","nifty","nimble","orderly","organic","ornate","popular","posh","positive","potable","powerful","powerless","precious","present","prestigious","quick","rewarding","rich","right","sociable","soft","solid","some","sophisticated","soulful","sparkling","spectacular","speedy","spicy","spiffy","spirited","spiteful","splendid","spotless","spry","thrifty","tidy","tight","timely","tinted","unruly","untimely","violet","wicked","wide","wild","willing","winding","windy","zigzag","apprehensive","appropriate","artistic","assured","astonishing","bright","brilliant","bronze","coordinated","courageous","courteous","crafty","crazy","creamy","creative","crisp","distant","distinct","downright","evergreen","everlasting","every","evil","excellent","excitable","exemplary","exhausted","forthright","fortunate","fragrant","frank","free","frequent","fresh","friendly","frightened","frigid","gripping","grounded","honest","honorable","honored","hopeful","hospitable","hot","huge","infatuated","infinite","informal","insistent","instructive","juicy","jumbo","knowing","knowledgeable","longterm","loud","lovable","loving","modern","modest","monumental","normal","notable","outgoing","precious","pretty","prickly","primary","pristine","private","prize","productive","profitable","quiet","quintessential","roasted","robust","square","squiggly","stable","staid","starry","steel","stimulating","striking","striped","strong","studious","stunning","tough","trained","treasured","tremendous","triangular","tricky","unused","unusual","upbeat","virtual","witty","wonderful","wooden","worldly","youthful","attached","attentive","attractive","austere","authentic","automatic","aware","awesome","bubbly","bustling","busy","buttery","cuddly","cultured","curly","curvy","cute","cylindrical","downright","dramatic","excited","exciting","exotic","experienced","expert","frosty","fruitful","full","fumbling","funny","fussy","growing","grown","gummy","humble","humongous","hungry","intelligent","interesting","known","kooky","loyal","lucky","luminous","lustrous","luxurious","multicolored","mysterious","noteworthy","numb","nutritious","outstanding","overjoyed","proper","proud","prudent","punctual","puny","pure","puzzled","puzzling","quirky","stupendous","sturdy","stylish","subdued","subtle","sunny","super","superb","supportive","surprised","sweet","swift","sympathetic","trivial","trusting","trustworthy","trusty","truthful","twin","usable","used","useful","utilized","vital","vivid","worried","worthwhile","worthy","writhing","wry","yummy","chocolate","crimson","cyan","fuchsia","gold","honeydew","lime","linen","magenta","olive","peru","salmon","seashell","sienna","snow","thistle","tomato","transparent","turquoise","violet"],i=["space","land","world","universe","plane","room","nation","plaza","gathering","meetup","get together","conclave","party","domain","dominion","realm","square","commons","park","cosmos","sphere","terrain","spot","zone","area","tract","turf","place","territory","volume","camp","picnic","outing","vacation","adventure","exploration","outing","walkabout","safari","venture","roundtable","barbecue","celebration","festivity","gala","shindig","social","convention","assembly","congregation","rendezvous","huddle","meet","soiree"];function o(){const e=e=>{const t=e[Math.floor(Math.random()*e.length)];return t.charAt(0).toUpperCase()+t.slice(1)};return"".concat(e(a)," ").concat(e(a)," ").concat(e(i))}var s=n(4),c=n(13),u=n(30);function l(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){l(i,r,a,o,s,"next",e)}function s(e){l(i,r,a,o,s,"throw",e)}o(void 0)}))}}function h(){return!!s.a.RETICULUM_SERVER}function f(){return h()&&document.location.host!==s.a.RETICULUM_SERVER}function p(e,t,n){let r;if(e||(e=f()?new URLSearchParams(location.search).get("hub_id"):location.pathname.split("/")[1]),f())r=new URL("/hub.html",location.href),r.searchParams.set("hub_id",e);else{const t=n?"/".concat(n):"";r=new URL("/".concat(e).concat(t),location.href)}for(const e in t)t.hasOwnProperty(e)&&r.searchParams.set(e,t[e]);return r}const m=document.createElement("a");let g,v=null,b=!1;function y(e,t=!1,n=null,r=null){return n||h()?"https://".concat(n||s.a.RETICULUM_SERVER).concat(r?":".concat(r):"").concat(e):t?(m.href=e,m.href):e}function w(){return E.apply(this,arguments)}function E(){return(E=d((function*(){v||(!b&&document.querySelector("meta[name='ret:version']")?v={version:document.querySelector("meta[name='ret:version']").getAttribute("value"),pool:document.querySelector("meta[name='ret:pool']").getAttribute("value"),phx_host:document.querySelector("meta[name='ret:phx_host']").getAttribute("value")}:yield fetch(y("/api/v1/meta")).then(function(){var e=d((function*(e){v=yield e.json()}));return function(t){return e.apply(this,arguments)}}()));const e=new URLSearchParams(location.search).get("phx_host");return e&&(v.phx_host=e),v}))).apply(this,arguments)}function x(){return _.apply(this,arguments)}function _(){return(_=d((function*(){const e=new URLSearchParams(location.search);let t=e.get("phx_host");const n=yield w();t=t||s.a.RETICULUM_SOCKET_SERVER||n.phx_host;const r=e.get("phx_port")||(h()?new URL("".concat(document.location.protocol,"//").concat(s.a.RETICULUM_SERVER)).port:"443");g={host:t,port:r}}))).apply(this,arguments)}function A(e,t=!1){if(!g)return console.warn("Cannot call getDirectReticulumFetchUrl before connectToReticulum. Returning non-direct url."),y(e,t);const{host:n,port:r}=g;return y(e,t,n,r)}function L(){return S.apply(this,arguments)}function S(){return(S=d((function*(){b=!0,v=null}))).apply(this,arguments)}function k(){return M.apply(this,arguments)}function M(){return(M=d((function*(e=!1,t=null,n=r.b){const a=new URLSearchParams(location.search),i=function(){var e=d((function*(){yield x();const{host:e,port:t}=g,n=a.get("phx_protocol")||s.a.RETICULUM_SOCKET_PROTOCOL||("https:"===document.location.protocol?"wss:":"ws:");return"".concat(n,"//").concat(e).concat(t?":".concat(t):"")}));return function(){return e.apply(this,arguments)}}(),o=yield i();console.log("Phoenix Socket URL: ".concat(o));const c={};e&&(c.logger=(e,t,n)=>{console.log("".concat(e,": ").concat(t),n)}),t&&(c.params=t);const u=new n("".concat(o,"/socket"),c);return u.connect(),u.onError(d((function*(){L();const e=new URL(u.endPoint).pathname,t=yield i(),n="".concat(t).concat(e);console.log("Socket error, changed endpoint to ".concat(n)),u.endPoint=n}))),u}))).apply(this,arguments)}function T(e){const t=new URL(e);return y(t.pathname.replace(".png",".html")+t.search,!0)}function R(e,t="GET",n){const{token:r}=window.APP.store.state.credentials,a=y(e),i={headers:{"content-type":"application/json"},method:t};return r&&(i.headers.authorization="bearer ".concat(r)),n&&(i.body=JSON.stringify(n)),fetch(a,i).then(function(){var e=d((function*(e){const t=yield e.text();try{return JSON.parse(t)}catch(e){return t}}));return function(t){return e.apply(this,arguments)}}())}function C(e,t,n){return P.apply(this,arguments)}function P(){return(P=d((function*(e,t,n){const r=y("/api/v1/hubs"),a={hub:{name:e||o()}};t&&(a.hub.scene_id=t);const i={"content-type":"application/json"},s=new u.a;s.state&&s.state.credentials.token&&(i.authorization="bearer ".concat(s.state.credentials.token));let c=yield fetch(r,{body:JSON.stringify(a),headers:i,method:"POST"}).then(e=>e.json());"invalid_token"===c.error&&(s.update({credentials:{token:null,email:null}}),delete i.authorization,c=yield fetch(r,{body:JSON.stringify(a),headers:i,method:"POST"}).then(e=>e.json()));const l=c;let d=l.url;const h=l.creator_assignment_token;if(h){s.update({creatorAssignmentTokens:[{hubId:l.hub_id,creatorAssignmentToken:h}]});const e=l.embed_token;e&&s.update({embedTokens:[{hubId:l.hub_id,embedToken:e}]})}f()&&(d="/hub.html?hub_id=".concat(l.hub_id)),n?document.location.replace(d):document.location=d}))).apply(this,arguments)}function O(e,t){const n=(Object.entries(e||{}).find(([e])=>e===t)||[])[1];return n&&n.metas&&n.metas[0]||{}}function D(e,t){return(O(e,t)||{}).context||{}}function I(e,t){return(O(e,t)||{}).profile||{}}function Z(e,t){const n=["phx_close","phx_error","phx_reply","presence_state","presence_diff"];for(let a=0,i=e.bindings.length;a<i;a++){const i=e.bindings[a];(r=i.event).startsWith("chan_reply_")||n.includes(r)||t.bindings.push(i)}var r;t.bindingRef=e.bindingRef}function j(e,t,n){const r=t.channel(e.topic,n||e.params);Z(e,r);for(let t=0,n=e.pushBuffer.length;t<n;t++){const n=e.pushBuffer[t];r.push(n.event,n.payload,n.timeout)}const a=e.joinPush,i=r.join();for(let e=0,t=a.recHooks.length;e<t;e++){const t=a.recHooks[e];i.receive(t.status,t.callback)}return new Promise(t=>{i.receive("ok",()=>{e.bindings=[],t(r)})})}function F(e,t){return Z(e,t),new Promise((n,r)=>{t.join().receive("ok",t=>{e.leave(),e.bindings=[],n(t)}).receive("error",e=>{t.leave(),r(e)})})}function U(e){const t=[];for(const n of Object.values(e))for(const e of n.metas)e.profile&&e.profile.discordBridges&&Array.prototype.push.apply(t,e.profile.discordBridges.map(e=>e.channel.name));return t}function N(e){for(const t of Object.values(e))for(const e of t.metas)if(e.context&&e.context.embed)return!0;return!1}function B({onJoin:e,onLeave:t,onChange:n}){return{rawOnJoin:(t,n,r)=>{void 0===n&&e(t,r.metas[0])},rawOnLeave:(e,r,a)=>{0===r.metas.length?t(e,a.metas[0]):n(e,a.metas[a.metas.length-1],r.metas[r.metas.length-1])}}}function z(e){return{onJoin:(t,n)=>{e.trigger("hub:join",{key:t,meta:n})},onLeave:(t,n)=>{e.trigger("hub:leave",{key:t,meta:n})},onChange:(t,n,r)=>{e.trigger("hub:change",{key:t,previous:n,current:r})}}}const H=function(){var e=d((function*({ret_pool:e,ret_version:t},n){let r=!1,a=0;for(;!r&&a<10&&!n();){try{const n=5e3*a+(0===a?15e3*Math.random():0);console.log("[reconnect] Getting reticulum meta in ".concat(Math.ceil(n/1e3)," seconds.").concat(a?" (Attempt ".concat(a+1," of ").concat(10,")"):"")),yield Object(c.a)(n),L(),console.log("[reconnect] Getting reticulum meta.".concat(a?" (Attempt ".concat(a+1," of ").concat(10,")"):""));const{pool:i,version:o}=yield w();r=e===i&&t===o}catch{r=!1}a+=1}return r}));return function(t,n){return e.apply(this,arguments)}}()},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c}));const r={URL:1,FILE:2,CLIPBOARD:3,SPAWNER:4},a={URL_IMAGE:0,URL_VIDEO:1,URL_MODEL:2,URL_PDF:3,URL_AUDIO:4,FILE_IMAGE:8,FILE_VIDEO:9,FILE_MODEL:10,FILE_PDF:11,FILE_AUDIO:12,CLIPBOARD_IMAGE:16,CLIPBOARD_VIDEO:17,CLIPBOARD_MODEL:18,CLIPBOARD_PDF:19,CLIPBOARD_AUDIO:20,SPAWNER_IMAGE:24,SPAWNER_VIDEO:25,SPAWNER_MODEL:26,SPAWNER_PDF:27,SPAWNER_AUDIO:28,CAMERA:30,UNKNOWN:31};function i(e,t,n,a,i){return e===r.URL?t:e===r.FILE?n:e===r.CLIPBOARD?a:i}const o={"image/":[a.URL_IMAGE,a.FILE_IMAGE,a.CLIPBOARD_IMAGE,a.SPAWNER_IMAGE],"model/":[a.URL_MODEL,a.FILE_MODEL,a.CLIPBOARD_MODEL,a.SPAWNER_MODEL],"application/x-zip-compressed":[a.URL_MODEL,a.FILE_MODEL,a.CLIPBOARD_MODEL,a.SPAWNER_MODEL],"video/":[a.URL_VIDEO,a.FILE_VIDEO,a.CLIPBOARD_VIDEO,a.SPAWNER_VIDEO],"application/vnd.apple.mpegurl":[a.URL_VIDEO,a.FILE_VIDEO,a.CLIPBOARD_VIDEO,a.SPAWNER_VIDEO],"application/x-mpegurl":[a.URL_VIDEO,a.FILE_VIDEO,a.CLIPBOARD_VIDEO,a.SPAWNER_VIDEO],"audio/":[a.URL_AUDIO,a.FILE_AUDIO,a.CLIPBOARD_AUDIO,a.SPAWNER_AUDIO],"application/pdf":[a.URL_PDF,a.FILE_PDF,a.CLIPBOARD_PDF,a.SPAWNER_PDF]},s={".m3u8":[a.URL_VIDEO,a.FILE_VIDEO,a.CLIPBOARD_VIDEO,a.SPAWNER_VIDEO]};function c(e,t,n){for(const n in o)if(t.toLowerCase().startsWith(n)){return i(e,...o[n])}if(n)for(const t in s)if(n.toLowerCase().endsWith(t)){return i(e,...s[t])}return a.UNKNOWN}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(21);function a(){return window.matchMedia("(prefers-color-scheme: dark)").matches&&r.b.find(e=>e.darkModeDefault)||r.b.find(e=>e.default)}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(157),a=n.n(r),i=n(4);const o=window.ga;function s(e,t){const n=i.a.SENTRY_DSN,r=i.a.GA_TRACKING_ID;n&&(console.log("Tracking: Sentry DSN: "+n),a.a.config(n).install()),o&&r&&(console.log("Tracking: Google Analytics ID: "+r),o("create",r,"auto"),e&&o("set","page",e),t&&o("set","title",t),o("send","pageview"))}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return o}));var r=n(13),a=n(4);const i={"action-color":"#FF3464","action-label-color":"#FF3464","action-color-disabled":"#FF74A4","action-color-highlight":"#FF74A4","action-text-color":"#FFFFFF","action-subtitle-color":"#F0F0F0","notice-background-color":"#2F80ED","notice-text-color":"#FFFFFF","favorited-color":"#FFC000","nametag-color":"#000000","nametag-volume-color":"#7ED320","nametag-text-color":"#FFFFFF","nametag-border-color":"#7ED320","nametag-border-color-raised-hand":"#FFCD74"};function o(e){var t,n,r,o,s,c,u,l,d,h,f;const p=null===(t=window.APP)||void 0===t||null===(n=t.store)||void 0===n||null===(r=n.state)||void 0===r||null===(o=r.preferences)||void 0===o?void 0:o.theme,m=p&&(null===(s=a.a.APP_CONFIG)||void 0===s||null===(c=s.theme)||void 0===c||null===(u=c.themes)||void 0===u?void 0:u.find(e=>e.id===p))||(null===(l=a.a.APP_CONFIG)||void 0===l||null===(d=l.theme)||void 0===d||null===(h=d.themes)||void 0===h?void 0:h.find(e=>!0===e.default));return(null==m||null===(f=m.variables)||void 0===f?void 0:f[e])?m.variables[e]:i[e]}function s(){const e=o("action-color"),t=o("action-color-highlight");document.querySelector("#rounded-text-button")&&(document.querySelector("#rounded-text-button").setAttribute("text-button","textHoverColor: ".concat(t,"; textColor: ").concat(e,"; backgroundColor: #fff; backgroundHoverColor: #aaa;")),document.querySelector("#rounded-button").setAttribute("text-button","textHoverColor: ".concat(t,"; textColor: ").concat(e,"; backgroundColor: #fff; backgroundHoverColor: #aaa;")),document.querySelector("#rounded-text-action-button").setAttribute("text-button","textHoverColor: #fff; textColor: #fff; backgroundColor: ".concat(e,"; backgroundHoverColor: ").concat(t)),document.querySelector("#rounded-action-button").setAttribute("text-button","textHoverColor: #fff; textColor: #fff; backgroundColor: ".concat(e,"; backgroundHoverColor: ").concat(t)))}const c=function(){let e;return function(){var t,n,r,a;const i=null===(t=window.APP)||void 0===t||null===(n=t.store)||void 0===n||null===(r=n.state)||void 0===r||null===(a=r.preferences)||void 0===a?void 0:a.theme;e!==i&&(e=i,s())}}();function u(e,t){e.setAttribute("text-button","backgroundColor",o(t?"action-color-highlight":"action-color")),e.setAttribute("text-button","backgroundHoverColor",t?"#aaa":o("action-color-highlight"))}Object(r.b)().then(()=>{var e,t;a.a.APP_CONFIG&&a.a.APP_CONFIG.theme&&a.a.APP_CONFIG.theme["dark-theme"]?document.body.classList.add("dark-theme"):document.body.classList.add("light-theme"),s(),null===(e=window.APP)||void 0===e||null===(t=e.store)||void 0===t||t.addEventListener("statechanged",c)})},93:function(e,t,n){(function(t){function n(e){var t=i([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter((function(t){return t.rule&&t.rule.test(e)}))[0];return t?t.name:null}function r(){return void 0!==t&&t.version&&{name:"node",version:t.version.slice(1),os:t.platform}}function a(e){var t=i([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!e)return null;var r=t.map((function(t){var n=t.rule.exec(e),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:t.name,version:r.join(".")}})).filter(Boolean)[0]||null;return r&&(r.os=n(e)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)&&((r=r||{}).bot=!0),r}function i(e){return e.map((function(e){return{name:e[0],rule:e[1]}}))}e.exports={detect:function(){return"undefined"!=typeof navigator?a(navigator.userAgent):r()},detectOS:n,getNodeVersion:r,parseUserAgent:a}}).call(this,n(94))},94:function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,u=[],l=!1,d=-1;function h(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!l){var e=s(h);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},95:function(e,t,n){},97:function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}n.d(t,"a",(function(){return i}));const a=void 0!==window.createImageBitmap&&!1===/Firefox/.test(navigator.userAgent);class i extends THREE.TextureLoader{constructor(e){super(e)}load(e,t,n,r){const i=a?this.loadImageBitmapTexture(e,t,n,r):super.load(e,t,n,r);return i.onUpdate=function(){i.image.close&&i.image.close(),delete i.image},i}loadAsync(e,t){var n,a=this;return(n=function*(){return new Promise((n,r)=>{a.load(e,n,t,r)})},function(){var e=this,t=arguments;return new Promise((function(a,i){var o=n.apply(e,t);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))})()}loadImageBitmapTexture(e,t,n,r){const a=new THREE.Texture,i=new THREE.ImageBitmapLoader(this.manager);return i.setCrossOrigin(this.crossOrigin),i.setPath(this.path),i.load(e,n=>{a.image=n,a.needsUpdate=!0,THREE.Cache.remove(this.manager.resolveURL(e)),void 0!==t&&t(a)},n,r),a.flipY=!1,a}}}});
//# sourceMappingURL=scene-ab379446aad962e61103.js.map